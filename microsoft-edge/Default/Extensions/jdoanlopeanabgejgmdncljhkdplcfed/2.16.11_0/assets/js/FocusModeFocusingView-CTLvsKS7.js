const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/FocusModePipContent-BDOKNWI9.js","assets/js/icon-alert-BG5stABd.js","assets/js/localStorage-BWL8dYsz.js","assets/js/preload-helper-DmNsytk6.js","assets/js/string-VUUyAM1F.js","assets/js/Pomodoro-XdV88ZeV.js","assets/js/pomodoroCompleted-DPMAO4eq.js","assets/js/index-DgGUECrr.js","assets/js/main-CWen-4ha.js","assets/css/index-C0DDMXTO.css","assets/js/PomodoroTimers-BWkB-14p.js","assets/js/reactiveCustomization-BIBQ0lmK.js","assets/js/VueBase-Qr0J4kll.js","assets/js/index-CJJH83pl.js","assets/js/portal-vue.esm-CE661Bdg.js","assets/js/loginHelpers-CfKnwmAb.js","assets/js/authService-DyVsAij2.js","assets/js/customization-D19fk4LU.js","assets/js/BaseIcon-Cgk50uj8.js","assets/js/arrow-Be8MuPJi.js","assets/js/icon-weather-reset-C06kxk3l.js","assets/js/icon-settings-Bycjf8-G.js","assets/js/icon-back-arrow-CiRQJ6G-.js","assets/js/icon-back-D_TFrgyJ.js","assets/js/icon-trash-BQ1O-AfY.js","assets/js/icon-close-BUGl_M7j.js","assets/js/icon-cog-BFr_Pva7.js","assets/js/icon-skip-BOkC5L0N.js","assets/js/icon-down-BiHbKN-t.js","assets/js/icon-edit-CixeXNYx.js","assets/js/icon-ellipsis-D3jS4u3x.js","assets/js/icon-error-state-BKQhfBCj.js","assets/js/icon-heart-v5O7C6eS.js","assets/js/icon-hide-NFfBhfBx.js","assets/js/icon-key-BPNRipb3.js","assets/js/icon-next-B4hjdiAA.js","assets/js/icon-photo-BrwqV1T0.js","assets/js/icon-pin-BHeOuzvO.js","assets/js/icon-plus-D4YOesIc.js","assets/js/icon-profile-B_XWyuTb.js","assets/js/icon-x-qUCmf2CW.js","assets/js/icon-skip-intro-BUi8b3Ak.js","assets/js/icon-tooltip-CN09iXOB.js","assets/js/icon-visible-on-CM3kpcFN.js","assets/js/icon-x-caret-half-CZtcH_PM.js","assets/js/tasks-completed-Dg2z75km.js","assets/js/add-COIuonao.js","assets/js/google-DKPAcOmk.js","assets/js/arrow-up-1QPpu78M.js","assets/js/square-check-DwLT60gj.js","assets/js/clocks-DjzskNOU.js","assets/js/close-Bj_A2br_.js","assets/js/search-DCqlmJx6.js","assets/js/folder-CwWTWsnJ.js","assets/js/switch-EuBTQVVE.js","assets/js/focus-mode-09pIyYAW.js","assets/js/storage-YYEO5TB5.js","assets/js/icon-confetti-Dz2LojDe.js","assets/js/ocean-bubbles-GcKjBI5B.js","assets/js/sparks-CAw9b6ob.js","assets/js/secure-B8YP-AML.js","assets/js/icon-asana-Csd73e1k.js","assets/js/icon-percent-schedule-CA5EI9b7.js","assets/js/icon-trello-DhCq-Fsi.js","assets/js/icon-clean-rFsPxTtp.js","assets/js/icon-more-lists-Cl9oRGK2.js","assets/js/icon-more-fonts-CcfOY0t4.js","assets/js/icon-focus-stats-keERwXFt.js","assets/js/icon-top-of-mind-B6EhbCcK.js","assets/js/icon-flow-5QqmGIWX.js","assets/js/icon-integrations-D9o58ob4.js","assets/js/icon-weather-extra-ufLpT_SX.js","assets/js/icon-spiral-gh4hwZDD.js","assets/js/icon-happy-place-D1z6CJgM.js","assets/js/icon-time-sensitive-CP2L3maw.js","assets/js/icon-hourly-CdMmiQZT.js","assets/js/icon-infinity-D4yMRoAd.js","assets/js/icon-personalize-photos-D2M4lLlt.js","assets/js/icon-skip-2bGCAGKt.js","assets/js/icon-photo-match-C2EChNEK.js","assets/js/icon-random-375DbcwF.js","assets/js/icon-timezones-DGZoTtaT.js","assets/js/icon-simplify-BRUtLJYp.js","assets/js/icon-sync-DIH26Y9h.js","assets/css/BaseIcon-BlT7Qz-y.css","assets/js/focusCollection-BPvAP_dg.js","assets/js/itemModelMixin-DaIj4M8Z.js","assets/js/namesMixin-DfNb5KMg.js","assets/js/MobileBlur-B2s9dLKD.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/js/flashMessageMixin-DEmBdBQ0.js","assets/js/constants-BT5o8PmI.js","assets/js/DashCheckbox-BgdeED11.js","assets/css/DashCheckbox-DAn5lESi.css","assets/js/BaseDropdown-Dr1kQxZe.js","assets/js/BaseDropdownContent-CObS9Nk4.js","assets/js/constants-CALDQiUE.js","assets/js/index-zUX2uO7y.js","assets/css/BaseDropdownContent-BzU7S1Vc.css","assets/css/BaseDropdown-DOOXxvW0.css","assets/js/BaseDropdownOption-BV1-F7-m.js","assets/css/BaseDropdownOption-DAuhx1rJ.css","assets/js/focusFlashMessageHelpers-BX-QSmsh.js","assets/js/SmoothReflow-C4xMRPDz.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/js/BaseDropdownDivider-Bh_Eq28B.js","assets/css/BaseDropdownDivider-D_a21TP7.css","assets/js/ToggleSwitch-Bn49LxYD.js","assets/css/ToggleSwitch-oT7iqKNg.css","assets/js/AppHeader-DObzZgoX.js","assets/js/AppHeaderControl-BO2-YKTw.js","assets/css/AppHeaderControl-C6b_K81h.css","assets/css/AppHeader-CXINzJ-M.css","assets/js/ClockSwitcher-srEmG_V6.js","assets/js/BaseDropdownText-Bo7TGc6c.js","assets/css/BaseDropdownText-dp_QAGZ8.css","assets/css/ClockSwitcher-DnzS6CJb.css","assets/js/showAnyway-Bzx3y1TR.js","assets/css/Pomodoro-BhHTJ9Wi.css","assets/js/Background-FIGUpz0J.js","assets/js/focusModeViewState-CWig-aWL.js","assets/js/ViewState-lXKIKVsa.js","assets/js/focusModeHelpers-g0L8k_eK.js","assets/js/scenes-D8jpYIdj.js","assets/js/oneTimeLoginService-BgvrnwR9.js","assets/css/Background-CbU7NVGw.css","assets/css/FocusModePipContent-D0DD_BJD.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./preload-helper-DmNsytk6.js";import{u as t,L as i,n as o,q as s,a7 as n,V as r,A as a,ap as c,r as p,l as m}from"./icon-alert-BG5stABd.js";import{B as d}from"./BaseIcon-Cgk50uj8.js";import{M as l}from"./MaskedOverlay-ykTJe9a3.js";import{C as u}from"./index-DgGUECrr.js";import{v as f}from"./v-style-DnoViHLx.js";import{f as h}from"./flashMessageMixin-DEmBdBQ0.js";import{g as j}from"./globalKeyEventManager-DnrWxalE.js";import{f as y}from"./main-BhwAy-NR.js";import"./VueBase-Qr0J4kll.js";import{c as g}from"./index-zUX2uO7y.js";import{T as v}from"./PomodoroTimers-BWkB-14p.js";import{g as b}from"./focusModeHelpers-g0L8k_eK.js";import"./localStorage-BWL8dYsz.js";import"./string-VUUyAM1F.js";import"./arrow-Be8MuPJi.js";import"./icon-weather-reset-C06kxk3l.js";import"./icon-settings-Bycjf8-G.js";import"./icon-back-arrow-CiRQJ6G-.js";import"./icon-back-D_TFrgyJ.js";import"./icon-trash-BQ1O-AfY.js";import"./icon-close-BUGl_M7j.js";import"./icon-cog-BFr_Pva7.js";import"./icon-skip-BOkC5L0N.js";import"./icon-down-BiHbKN-t.js";import"./icon-edit-CixeXNYx.js";import"./icon-ellipsis-D3jS4u3x.js";import"./icon-error-state-BKQhfBCj.js";import"./icon-heart-v5O7C6eS.js";import"./icon-hide-NFfBhfBx.js";import"./icon-key-BPNRipb3.js";import"./icon-next-B4hjdiAA.js";import"./icon-photo-BrwqV1T0.js";import"./icon-pin-BHeOuzvO.js";import"./icon-plus-D4YOesIc.js";import"./icon-profile-B_XWyuTb.js";import"./icon-x-qUCmf2CW.js";import"./icon-skip-intro-BUi8b3Ak.js";import"./icon-tooltip-CN09iXOB.js";import"./icon-visible-on-CM3kpcFN.js";import"./icon-x-caret-half-CZtcH_PM.js";import"./tasks-completed-Dg2z75km.js";import"./add-COIuonao.js";import"./google-DKPAcOmk.js";import"./arrow-up-1QPpu78M.js";import"./square-check-DwLT60gj.js";import"./clocks-DjzskNOU.js";import"./close-Bj_A2br_.js";import"./search-DCqlmJx6.js";import"./folder-CwWTWsnJ.js";import"./switch-EuBTQVVE.js";import"./focus-mode-09pIyYAW.js";import"./storage-YYEO5TB5.js";import"./icon-confetti-Dz2LojDe.js";import"./ocean-bubbles-GcKjBI5B.js";import"./sparks-CAw9b6ob.js";import"./secure-B8YP-AML.js";import"./icon-asana-Csd73e1k.js";import"./icon-percent-schedule-CA5EI9b7.js";import"./icon-trello-DhCq-Fsi.js";import"./icon-clean-rFsPxTtp.js";import"./icon-more-lists-Cl9oRGK2.js";import"./icon-more-fonts-CcfOY0t4.js";import"./icon-focus-stats-keERwXFt.js";import"./icon-top-of-mind-B6EhbCcK.js";import"./icon-flow-5QqmGIWX.js";import"./icon-integrations-D9o58ob4.js";import"./icon-weather-extra-ufLpT_SX.js";import"./icon-spiral-gh4hwZDD.js";import"./icon-happy-place-D1z6CJgM.js";import"./icon-time-sensitive-CP2L3maw.js";import"./icon-hourly-CdMmiQZT.js";import"./icon-infinity-D4yMRoAd.js";import"./icon-personalize-photos-D2M4lLlt.js";import"./icon-skip-2bGCAGKt.js";import"./icon-photo-match-C2EChNEK.js";import"./icon-random-375DbcwF.js";import"./icon-timezones-DGZoTtaT.js";import"./icon-simplify-BRUtLJYp.js";import"./icon-sync-DIH26Y9h.js";import"./main-CWen-4ha.js";import"./AppContainer-DWChGukc.js";import"./showAnyway-Bzx3y1TR.js";import"./reactiveCustomization-BIBQ0lmK.js";import"./allComponentsMounted-C3UsG_cA.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-CE661Bdg.js";import"./AppDash-Bi_IcQ0E.js";import"./focusModeViewState-CWig-aWL.js";import"./ViewState-lXKIKVsa.js";import"./scenes-D8jpYIdj.js";import"./loginHelpers-CfKnwmAb.js";import"./authService-DyVsAij2.js";const w={name:"FocusModeCapacityLimitIndicator",props:{msLeft:{type:Number,required:!0},msTotal:{type:Number,required:!0}},data(){return{capacityLimitIndicator:{animationLength:"0ms",translateX:-100*this.msLeft/this.msTotal+"%"}}},async mounted(){await t.doubleRaf(),this.capacityLimitIndicator.animationLength=this.msLeft+"ms",this.capacityLimitIndicator.translateX="0%"}},P=()=>{i(((e,t)=>({f8ed916c:e.capacityLimitIndicator.translateX,"6ee3a10a":e.capacityLimitIndicator.animationLength})))},C=w.setup;w.setup=C?(e,t)=>(P(),C(e,t)):P;const _=o(w,(function(){return this._self._c,this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"capacity-limit-indicator"},[e("span",[this._v("1h free/day")])])}],!1,null,"52e0c73a").exports,k=(e,t)=>{(null==t?void 0:t.length)?t.forEach((t=>{var i;null==(i=t.addedNodes)||i.forEach((t=>{var i;if(!t.ELEMENT_NODE)return;const o=t;if("link"===o.nodeName.toLowerCase()&&(null==(i=o.getAttribute("href"))?void 0:i.endsWith(".css"))){const t=o;x(e,t.type,t.media,t.href)}else"link"===o.nodeName.toLowerCase()&&I(e,o.innerHTML)}))})):(e.head.innerHTML="",[...document.styleSheets].forEach((t=>{t.href?x(e,t.type,t.media.toString(),t.href.toString()):I(e,[...t.cssRules].map((e=>e.cssText)).join(""))})),e.body.setAttribute("class",document.body.getAttribute("class")))},x=(e,t,i,o)=>{const s=document.createElement("link");s.rel="stylesheet",s.type=t,s.media=i,s.href=o,e.head.appendChild(s)},I=(e,t)=>{const i=document.createElement("style");i.textContent=t,e.head.appendChild(i)},O="documentPictureInPicture"in window;const L=o(s({name:"BasePip",components:{BaseIcon:d},props:{icon:{type:String,default:"icon/pip"},iconSize:{type:String,default:"13px"},feature:{type:String,required:!0},component:{type:Function,required:!0}},setup:()=>(g(document.head,(e=>{documentPictureInPicture.window&&k(documentPictureInPicture.window.document,e)}),{attributes:!1,subtree:!1,childList:!0}),{componentInstance:null}),data:()=>({isInPip:!1}),destroyed(){this.closePip()},methods:{async openPip(){documentPictureInPicture.window&&this.closePip();const e=await documentPictureInPicture.requestWindow({width:550,height:360});e.addEventListener("pagehide",this.closePip);const t=e.document;t.body.style.opacity="0",k(t);const i=t.createElement("div");t.body.append(i);const o=(await this.component()).default;await n(100),this.componentInstance=new r({render:e=>e(o)}).$mount(i),t.body.style.transition="opacity 0.2s ease",await n(100),t.body.style.opacity="1",this.isInPip=!0,a.capture("open picture in picture",{feature:this.feature})},closePip(){var e,t;null==(e=documentPictureInPicture.window)||e.close(),this.isInPip=!1,null==(t=this.componentInstance)||t.$destroy(),a.capture("close picture in picture",{feature:this.feature})}}}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"base-pip"},[t("div",{staticClass:"icon-wrapper pip-icon",class:{hidden:e.isInPip},on:{click:e.openPip}},[t("base-icon",{attrs:{src:e.icon,size:e.iconSize}})],1)])}),[],!1,null,"bc403f96").exports,M=()=>e((()=>import("./FocusModePipContent-BDOKNWI9.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126])),E={name:"FocusModeFocusingView",components:{FocusModeCapacityLimitIndicator:_,BaseIcon:d,MaskedOverlay:l,vStyle:f,BasePip:L},mixins:[h],emits:["stopFocusMode","openUpsell"],setup:()=>({frameOverlayPadding:10,CAPACITY_LIMIT_MS_ALLOWED_PER_DAY:u,store:c("store"),fullscreenService:y,documentPipAvailable:O,FocusModePipContent:M}),computed:{topFrameOverlayPadding(){return 5*this.frameOverlayPadding},maskDimensions(){var e;const t=null==(e=document.querySelector(".region.full"))?void 0:e.getBoundingClientRect().x;return[{x:this.frameOverlayPadding,y:this.topFrameOverlayPadding,width:p.windowDimensions.width-t-2*this.frameOverlayPadding,height:p.windowDimensions.height-this.frameOverlayPadding-this.topFrameOverlayPadding,borderRadius:10,overlayOffsetX:t}]},todoVisible:()=>b().todoVisible},mounted(){j.registerEventListener("focusMode:close","keyup",27,this.closeOrConfirmCloseIfPomodoroActive)},destroyed(){j.removeEventListener("focusMode:close","keyup",27)},methods:{async closeOrConfirmCloseIfPomodoroActive(){const t=(await e((()=>import("./pomodoroCompleted-DPMAO4eq.js").then((e=>e.b))),__vite__mapDeps([6,1,2,3,4,7,8,9,10,11,12,13,14,15,16,17]))).usePomodoroSessionStore();if(await m((()=>t.loaded)).toBe(!0),!t.playing||t.activeTimer.mode===v.CountUp)return this.$emit("stopFocusMode");this.showFlashMessage({message:"Quit Focus Mode?",persist:1e4,buttons:[{text:"Exit Focus Mode",action:()=>{this.$emit("stopFocusMode")},dismissOnClick:!0},{text:"Continue focusing",action:()=>{},dismissOnClick:!0,cssClasses:["button-tertiary"]}]})}}},A=()=>{i(((e,t)=>({"7ad58f84":e.frameOverlayPadding,ee78c9ee:e.topFrameOverlayPadding})))},S=E.setup;E.setup=S?(e,t)=>(A(),S(e,t)):A;const F=o(E,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"focus-mode-focusing-view dark"},[t("masked-overlay",{staticClass:"overlay behind",attrs:{"mask-dimensions":e.maskDimensions}}),t("masked-overlay",{staticClass:"overlay",attrs:{"mask-dimensions":e.maskDimensions}}),t("div",{staticClass:"overlay-shadow"}),t("div",{staticClass:"focus-mode-focusing-view-left"},[e.$plus?e._e():t("focus-mode-capacity-limit-indicator",{attrs:{"ms-left":e.store.msUntilOverCapacityLimit,"ms-total":e.CAPACITY_LIMIT_MS_ALLOWED_PER_DAY},nativeOn:{click:function(t){return e.$emit("openUpsell")}}})],1),t("div",{staticClass:"focus-mode-focusing-view-center"},[t("div",{staticClass:"focus-mode-header"},[t("base-icon",{staticClass:"focus-icon",attrs:{src:"icon/apps/focus-mode-fill",size:"22px"}}),t("span",{staticClass:"text"},[e._v("Focusing")])],1),t("div",{staticClass:"icon-wrapper close-icon u--mobile-show-bg",attrs:{"data-test":"dash-close-focus-mode"},on:{click:e.closeOrConfirmCloseIfPomodoroActive}},[t("base-icon",{attrs:{src:"icon/stop",size:"14px"}})],1)]),t("div",{staticClass:"focus-mode-focusing-view-right"},[e.documentPipAvailable?t("base-pip",{attrs:{"data-test":"pip-toggle","icon-size":"24px",component:e.FocusModePipContent,feature:"focus mode"}}):e._e(),e.fullscreenService.fullscreenModeAvailable?t("div",{staticClass:"icon-wrapper fullscreen-icon",attrs:{"data-test":"fullscreen-toggle"},on:{click:function(t){return e.fullscreenService.toggleFullscreen(t.metaKey,"focus mode")}}},[t("base-icon",{attrs:{src:"icon/"+(e.fullscreenService.fullscreen.value?"collapse":"expand"),size:"16px"}})],1):e._e()],1),t("v-style",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(" :root { --dash-padding-top: "+e._s(e.topFrameOverlayPadding)+"px; --dash-padding-right: "+e._s(e.frameOverlayPadding)+"px; --dash-padding-bottom: "+e._s(e.frameOverlayPadding)+"px; --dash-padding-left: "+e._s(e.frameOverlayPadding)+"px; --dash-metric-side-padding: 0.5625rem; } #team-logo, .topics, .launcher, .quicklinks.links { display: none; } .app-dash-icon { padding: 1.0625rem 0.5625rem !important; } .region.top-left > .links { order: 1; } .region.top-left > .tabs { order: 2; } .region.top-left > .site-blocker { order: 3; } .region.top-left > .soundscapes { order: 4; } .region.top-left > .pomodoro-settings { order: 5; } .region.top-left .app-dash-icon-label { display: none; } .pinned-links { display: none; } .flash-message-container { top: 10px !important; } .top-bar { height: 0; } .popup-notification { display: none!important; } .metric-type > .app-dash { z-index: unset; } .add-metric > .relative { display: none; } .button.button-start-focus-mode { display: none; } /* targeting the button to start focus mode in settings. TODO: make it reactive there when in vue */ .dash-upgrade { display: none; } /* This has no visibility setting, so hide it here */ /* Extremely tactical hack to show/hide todo (can't really use computed as it's still backbone) */ "+e._s(e.todoVisible?"#todo { display: unset !important; opacity: unset !important; }":"#todo { display: none; }")+" ")])],1)}),[],!1,null,"0729a1fb").exports;export{F as default};