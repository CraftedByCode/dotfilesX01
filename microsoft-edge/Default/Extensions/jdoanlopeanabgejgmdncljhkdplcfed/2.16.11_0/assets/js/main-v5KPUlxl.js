import"./VueBase-Qr0J4kll.js";import t from"./Dropdown-CNmMo_IZ.js";import e from"./DropdownOption-DPaP4TYO.js";import o from"./ToastMenuLegacy-CUacUUr_.js";import{_ as n,a as s,b as a}from"./icon-settings-Bycjf8-G.js";import{n as i,V as l}from"./icon-alert-BG5stABd.js";import"./index-DgGUECrr.js";import"./preload-helper-DmNsytk6.js";import"./localStorage-BWL8dYsz.js";import"./main-CWen-4ha.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-CE661Bdg.js";import"./icon-ellipsis-D3jS4u3x.js";import"./string-VUUyAM1F.js";const r=i({name:"TeamLogo",components:{Dropdown:t,DropdownOption:e,ToastMenu:o},unreactive:()=>({dropdownLeft:7,nippleDisplacement:0}),data:()=>({dropdownActive:!1,nippleDisplacementCss:null}),computed:{teamInfo:()=>m.models.teamInfo.get("team")||{},logo(){return this.teamInfo.teamLogoUrl||null},isSVG(){return"SVG"===this.teamInfo.teamLogoFileType}},watch:{logo:"updateRegionClass",$admin:"updateRegionClass"},mounted(){this.updateRegionClass(),m.widgetManager.appReady("team-logo")},methods:{toggleTeamMenu(){this.$admin&&(this.dropdownActive?(m.widgetManager.refocusOverlap("logo"),document.querySelector(".top-left").classList.remove("team-dropdown-open")):(this.nippleDisplacementCss||this.$nextTick((()=>{this.nippleDisplacementCss=this.calculateNippleDisplacementCss()})),m.trigger("notification:hide"),m.widgetManager.unfocusOverlap("logo"),document.querySelector(".top-left").classList.add("team-dropdown-open")),this.dropdownActive=!this.dropdownActive)},goToTeamMembers(){m.cmd("window.account.open.login","/team/members?add")},goToTeamSite(){m.cmd("window.account.open.login","/")},goToTeamSiteAnnouncements(){m.cmd("window.account.open.login","/team/announcements")},calculateNippleDisplacementCss(){const t=this.$refs.logo||this.$refs["toggle-label"];if(!t||Object.prototype.hasOwnProperty.call(t,"complete")&&!t.complete)return;const{left:e,width:o}=t.getBoundingClientRect();return{"--nipple-left":e+o/2-(this.dropdownLeft+7)+"px"}},updateRegionClass(){const t=document.querySelector(".top-left");t.classList.remove("has-logo","has-no-logo","has-logo-placeholder");let e="";e=this.logo?"has-logo":this.$admin?"has-logo-placeholder":"has-no-logo",t.classList.add(e)}}},(function(){var t=this,e=t._self._c;return t.logo||t.$admin?e("div",{ref:"wrapper",staticClass:"app-container team-logo",class:{"is-admin":t.$admin,show:t.dropdownActive},style:{"--dropdown-left":t.dropdownLeft+"px"},attrs:{id:"team-logo","data-test":"team-logo"}},[e(t.$touch?"ToastMenu":"Dropdown",{tag:"component",style:t.nippleDisplacementCss,attrs:{"on-dash":!0,active:t.dropdownActive,"section-title":t.teamInfo.teamName||""},on:{toggle:t.toggleTeamMenu},scopedSlots:t._u([{key:"moreToggle",fn:function(){return[e("div",{staticClass:"app-dash add-shadow",class:{toggle:t.$admin},attrs:{"data-test":"app-dash"},on:{click:t.toggleTeamMenu}},[t.logo?[e("img",{ref:"logo",staticClass:"logo",class:{svg:t.isSVG},attrs:{src:t.logo,"data-test":"img"}}),t.$admin?e("span",{staticClass:"team-logo-icon-wrapper",attrs:{"data-test":"caret"}},[e("i",{staticClass:"icon icon-angle-down"})]):t._e()]:t.$admin?[e("span",{ref:"toggle-label"},[t._v(" Team ")])]:t._e()],2)]},proxy:!0}],null,!1,4087722239)},[t.$admin?[e("dropdown-option",{staticClass:"settings settings-members",attrs:{name:"Invite Team Members","data-test":"invite-team"},nativeOn:{click:function(e){return t.goToTeamMembers.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("inline-svg",{staticClass:"icon dropdown-list-icon icon-add-members",attrs:{src:n}})]},proxy:!0}],null,!1,1739350381)}),e("dropdown-option",{staticClass:"settings settings-general",attrs:{name:"Go to Team Admin","data-test":"team-admin"},nativeOn:{click:function(e){return t.goToTeamSite.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("inline-svg",{staticClass:"icon dropdown-list-icon icon-settings",attrs:{src:s}})]},proxy:!0}],null,!1,2173771038)}),e("dropdown-option",{staticClass:"settings settings-announcements",attrs:{name:"Send Announcement","data-test":"send-announcement"},nativeOn:{click:function(e){return t.goToTeamSiteAnnouncements.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("inline-svg",{staticClass:"icon dropdown-list-icon icon-settings",attrs:{src:a}})]},proxy:!0}],null,!1,78219834)})]:t._e()],2)],1):t._e()}),[],!1,null,"c8aaa069").exports,c=document.createElement("div");document.querySelector(".top-left").prepend(c),new l({render:t=>t(r)}).$mount(c);