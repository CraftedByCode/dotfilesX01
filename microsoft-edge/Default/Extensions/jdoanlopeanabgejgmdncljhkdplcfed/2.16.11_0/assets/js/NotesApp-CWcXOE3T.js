import{a as e,A as t}from"./AppView-BxMN5ybG.js";import{a2 as n,n as s,am as i,_ as o,A as r,d as a,w as c,r as l,B as u,y as d,L as h,x as p,q as f,u as g}from"./icon-alert-BG5stABd.js";import{N as k,S as _,a as b,b as v,A as y,c as C,d as D,e as A,m as w,w as E,M as x,f as S,g as F,h as L,i as T,t as M,P as z,j as B,T as I,k as N,E as O,l as H,n as j,F as R,o as P,D as $,p as q,q as V,r as U,s as Z,v as W,x as G,y as K,z as J,B as Q,C as X,G as Y,H as ee,I as te,J as ne,K as se,L as ie,O as oe,Q as re,R as ae,u as ce,U as le,V as ue,W as de,X as he,Y as pe,Z as me,_ as fe,$ as ge,a0 as ke,a1 as _e,a2 as be,a3 as ve,a4 as ye,a5 as Ce,a6 as De,a7 as Ae,a8 as we,a9 as Ee,aa as xe,ab as Se,ac as Fe}from"./notes-BtwBlGYS.js";import{A as Le}from"./AppPopup-CbSnHHuS.js";import{A as Te}from"./AppLoading-odRDEzzJ.js";import{A as Me}from"./AppEmpty-C8wMu4q8.js";import{a as ze,c as Be}from"./AppHeader-DObzZgoX.js";import{B as Ie}from"./BaseDropdownOption-BV1-F7-m.js";import{B as Ne}from"./BaseItemList-CkLt70y2.js";import{B as Oe}from"./BaseDropdown-Dr1kQxZe.js";import{A as He}from"./AppHeaderControl-BO2-YKTw.js";import{a as je,D as Re}from"./constants-CALDQiUE.js";import{B as Pe,a as $e}from"./BaseDropdownContent-CObS9Nk4.js";import{_ as qe}from"./arrow-Be8MuPJi.js";import{g as Ve,a as Ue,h as Ze,i as We,j as Ge,k as Ke,d as Je,l as Qe,c as Xe,m as Ye,n as et,o as tt,p as nt,b as st,q as it,r as ot,_ as rt,s as at,t as ct,e as lt,u as ut,v as dt,w as ht,x as pt,y as mt,z as ft,A as gt,B as kt,f as _t,C as bt,D as vt,E as yt,F as Ct,G as Dt}from"./icon-weather-reset-C06kxk3l.js";import{a as At,b as wt,_ as Et}from"./icon-settings-Bycjf8-G.js";import{_ as xt}from"./icon-back-arrow-CiRQJ6G-.js";import{_ as St}from"./icon-back-D_TFrgyJ.js";import{_ as Ft,a as Lt,b as Tt,c as Mt}from"./icon-trash-BQ1O-AfY.js";import{_ as zt}from"./icon-close-BUGl_M7j.js";import{_ as Bt}from"./icon-cog-BFr_Pva7.js";import{_ as It,a as Nt}from"./icon-skip-BOkC5L0N.js";import{_ as Ot}from"./icon-down-BiHbKN-t.js";import{_ as Ht}from"./icon-edit-CixeXNYx.js";import{_ as jt}from"./icon-ellipsis-D3jS4u3x.js";import{_ as Rt}from"./icon-error-state-BKQhfBCj.js";import{_ as Pt}from"./icon-heart-v5O7C6eS.js";import{_ as $t}from"./icon-hide-NFfBhfBx.js";import{_ as qt}from"./icon-key-BPNRipb3.js";import{_ as Vt}from"./icon-next-B4hjdiAA.js";import{_ as Ut}from"./icon-photo-BrwqV1T0.js";import{_ as Zt}from"./icon-pin-BHeOuzvO.js";import{_ as Wt}from"./icon-plus-D4YOesIc.js";import{_ as Gt}from"./icon-profile-B_XWyuTb.js";import{_ as Kt,a as Jt}from"./icon-x-qUCmf2CW.js";import{_ as Qt}from"./icon-skip-intro-BUi8b3Ak.js";import{_ as Xt}from"./icon-tooltip-CN09iXOB.js";import{_ as Yt,a as en}from"./icon-visible-on-CM3kpcFN.js";import{_ as tn}from"./icon-x-caret-half-CZtcH_PM.js";import{i as nn,m as sn,n as on,o as rn,p as an,q as cn,r as ln,s as un,t as dn,u as hn,v as pn,w as mn,x as fn,y as gn,z as kn,A as _n,C as bn,D as vn,E as yn,F as Cn,G as Dn,H as An,I as wn,J as En,K as xn,L as Sn,M as Fn,N as Ln,O as Tn,P as Mn,Q as zn,R as Bn,a as In,S as Nn,g as On,al as Hn,am as jn,an as Rn,ao as Pn,ap as $n,aq as qn,ar as Vn,as as Un,at as Zn,au as Wn,av as Gn,aw as Kn,ax as Jn,ay as Qn,az as Xn,aA as Yn,T as es,U as ts,V as ns,W as ss,d as is,X as os,c as rs,Y as as,Z as cs,b as ls,$ as us,a0 as ds,a1 as hs,a2 as ps,a3 as ms,a4 as fs,e as gs,_ as ks,a5 as _s,a6 as bs,a7 as vs,k as ys,a8 as Cs,j as Ds,l as As,a9 as ws,aa as Es,ab as xs,ac as Ss,ad as Fs,ae as Ls,af as Ts,h as Ms,ag as zs,ah as Bs,ai as Is,aj as Ns,ak as Os,aB as Hs,aC as js,f as Rs,aD as Ps,B as $s}from"./BaseIcon-Cgk50uj8.js";import{_ as qs,a as Vs,b as Us,c as Zs}from"./tasks-completed-Dg2z75km.js";import{_ as Ws}from"./add-COIuonao.js";import{_ as Gs,a as Ks,f as Js,g as Qs,d as Xs,e as Ys,b as ei,c as ti,h as ni,i as si}from"./google-DKPAcOmk.js";import{_ as ii}from"./arrow-up-1QPpu78M.js";import{a as oi,b as ri,_ as ai}from"./square-check-DwLT60gj.js";import{a as ci,_ as li,b as ui}from"./clocks-DjzskNOU.js";import{_ as di}from"./close-Bj_A2br_.js";import{a as hi,_ as pi}from"./search-DCqlmJx6.js";import{_ as mi}from"./folder-CwWTWsnJ.js";import{_ as fi}from"./switch-EuBTQVVE.js";import{_ as gi}from"./focus-mode-09pIyYAW.js";import{_ as ki,a as _i,b as bi}from"./storage-YYEO5TB5.js";import{_ as vi}from"./icon-confetti-Dz2LojDe.js";import{c as yi,P as Ci,e as Di,U as Ai,m as wi,o as Ei,z as xi,d as Si,X as Fi,Q as Li,g as Ti,f as Mi,W as zi,b as Bi,G as Ii,I as Ni,J as Oi,K as Hi,H as ji,L as Ri,u as Pi,v as $i,w as qi,x as Vi,t as Ui,n as Zi,i as Wi,S as Gi,R as Ki,s as Ji,_ as Qi,Y as Xi,a as Yi,V as eo,p as to,q as no,l as so,j as io,N as oo,T as ro,k as ao,h as co,M as lo,D as uo,F as ho,C as po,E as mo,B as fo,A as go,O as ko,y as _o,r as bo}from"./ocean-bubbles-GcKjBI5B.js";import{_ as vo,a as yo}from"./sparks-CAw9b6ob.js";import{a as Co,_ as Do}from"./secure-B8YP-AML.js";import{_ as Ao}from"./icon-asana-Csd73e1k.js";import{a as wo,_ as Eo}from"./icon-percent-schedule-CA5EI9b7.js";import{b as xo,c as So,d as Fo,e as Lo,f as To,a as Mo,g as zo,h as Bo,i as Io,_ as No,j as Oo,k as Ho,l as jo}from"./icon-trello-DhCq-Fsi.js";import{_ as Ro}from"./icon-clean-rFsPxTtp.js";import{_ as Po,a as $o,b as qo}from"./icon-more-lists-Cl9oRGK2.js";import{a as Vo,_ as Uo}from"./icon-more-fonts-CcfOY0t4.js";import{_ as Zo,a as Wo}from"./icon-focus-stats-keERwXFt.js";import{_ as Go,a as Ko,b as Jo}from"./icon-top-of-mind-B6EhbCcK.js";import{_ as Qo}from"./icon-flow-5QqmGIWX.js";import{a as Xo,_ as Yo}from"./icon-integrations-D9o58ob4.js";import{_ as er,a as tr}from"./icon-weather-extra-ufLpT_SX.js";import{a as nr,_ as sr}from"./icon-spiral-gh4hwZDD.js";import{_ as ir}from"./icon-happy-place-D1z6CJgM.js";import{_ as or,a as rr}from"./icon-time-sensitive-CP2L3maw.js";import{_ as ar}from"./icon-hourly-CdMmiQZT.js";import{_ as cr}from"./icon-infinity-D4yMRoAd.js";import{_ as lr}from"./icon-personalize-photos-D2M4lLlt.js";import{a as ur,_ as dr}from"./icon-skip-2bGCAGKt.js";import{_ as hr}from"./icon-photo-match-C2EChNEK.js";import{_ as pr}from"./icon-random-375DbcwF.js";import{_ as mr,a as fr}from"./icon-timezones-DGZoTtaT.js";import{_ as gr}from"./icon-simplify-BRUtLJYp.js";import{_ as kr}from"./icon-sync-DIH26Y9h.js";import{u as _r}from"./ViewState-lXKIKVsa.js";import{B as br}from"./BaseDropdownDivider-Bh_Eq28B.js";import{S as vr}from"./SmoothReflow-C4xMRPDz.js";import{f as yr}from"./flashMessageMixin-DEmBdBQ0.js";import{B as Cr}from"./BaseDropdownText-Bo7TGc6c.js";import{z as Dr}from"./index-DgGUECrr.js";import{u as Ar}from"./notesViewState-D65RG_3J.js";import{g as wr}from"./globalKeyEventManager-DnrWxalE.js";import{u as Er}from"./preload-helper-DmNsytk6.js";import{c as xr,a as Sr}from"./reactiveCustomization-BIBQ0lmK.js";import{d as Fr}from"./index-zUX2uO7y.js";import"./localStorage-BWL8dYsz.js";import"./string-VUUyAM1F.js";import"./compareObjects-BF7sSNEf.js";import"./constants-BpVlFj04.js";import"./allComponentsMounted-C3UsG_cA.js";import"./portal-vue.esm-CE661Bdg.js";import"./main-CWen-4ha.js";import"./VueBase-Qr0J4kll.js";import"./index-CJJH83pl.js";const{Axios:Lr,AxiosError:Tr,CanceledError:Mr,isCancel:zr,CancelToken:Br,VERSION:Ir,all:Nr,Cancel:Or,isAxiosError:Hr,spread:jr,toFormData:Rr,AxiosHeaders:Pr,HttpStatusCode:$r,formToJSON:qr,getAdapter:Vr,mergeConfig:Ur}=n;const Zr=s({name:"AppViewSwitch",mixins:[e]},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-view-switch app-view-switch-static",class:{transitioning:e.transitionActive}},[t("transition",{attrs:{name:e.transitionType,duration:300},on:{beforeLeave:e.beforeTransition,beforeEnter:e.beforeTransition,afterEnter:e.afterTransition}},[t("div",{key:e.orderKey},[e._t("default")],2)])],1)}),[],!1,null,"85ff11de").exports;const Wr=s({name:"NotesListItem",props:{note:{type:k,required:!0},active:{type:Boolean,required:!0}},emits:["click"],computed:{titlePreview(){return this.note.preview.slice(0,_)}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"notes-list-item",class:{active:e.active},attrs:{"data-test":"list-item"},on:{click:function(t){return e.$emit("click")}}},[t("div",{staticClass:"notes-list-item-title",attrs:{"data-test":"list-title"}},[e._v(" "+e._s(e.titlePreview)+" ")])])}),[],!1,null,"1f87fcaf").exports;const Gr=s({name:"NotesEditorToolbarButton",props:{icon:{type:String,required:!0},active:{type:Boolean,default:!1},title:{type:String,required:!0}},emits:["click"]},(function(){var e=this,t=e._self._c;return t("button",{staticClass:"notes-editor-toolbar-button icon-wrapper",class:{active:e.active},attrs:{title:e.title},on:{click:function(t){return e.$emit("click",t)}}},[t("inline-svg",{staticClass:"icon icon-toolbar",attrs:{src:Kr(`../../../img/${e.icon}.svg`)}})],1)}),[],!1,null,"d384c5bf").exports;function Kr(e){switch(e){case"../../../img/arrow":case"../../../img/arrow.svg":return qe;case"../../../img/icon-add-circle-clear":case"../../../img/icon-add-circle-clear.svg":return Dt;case"../../../img/icon-add-circle":case"../../../img/icon-add-circle.svg":return Ct;case"../../../img/icon-add-member":case"../../../img/icon-add-member.svg":return Et;case"../../../img/icon-alert":case"../../../img/icon-alert.svg":return o;case"../../../img/icon-announcement":case"../../../img/icon-announcement.svg":return wt;case"../../../img/icon-apple":case"../../../img/icon-apple.svg":return yt;case"../../../img/icon-apps":case"../../../img/icon-apps.svg":return vt;case"../../../img/icon-archive":case"../../../img/icon-archive.svg":return bt;case"../../../img/icon-arrow":case"../../../img/icon-arrow.svg":return _t;case"../../../img/icon-back-arrow":case"../../../img/icon-back-arrow.svg":return xt;case"../../../img/icon-back":case"../../../img/icon-back.svg":return St;case"../../../img/icon-bottom-link":case"../../../img/icon-bottom-link.svg":return kt;case"../../../img/icon-check-green":case"../../../img/icon-check-green.svg":return gt;case"../../../img/icon-check":case"../../../img/icon-check.svg":return ft;case"../../../img/icon-chrome":case"../../../img/icon-chrome.svg":return mt;case"../../../img/icon-circle":case"../../../img/icon-circle.svg":return Mt;case"../../../img/icon-clocks":case"../../../img/icon-clocks.svg":return pt;case"../../../img/icon-close":case"../../../img/icon-close.svg":return zt;case"../../../img/icon-cog":case"../../../img/icon-cog.svg":return Bt;case"../../../img/icon-countdowns":case"../../../img/icon-countdowns.svg":return ht;case"../../../img/icon-dislike-light":case"../../../img/icon-dislike-light.svg":return dt;case"../../../img/icon-dislike":case"../../../img/icon-dislike.svg":return Nt;case"../../../img/icon-down-light":case"../../../img/icon-down-light.svg":return Tt;case"../../../img/icon-down":case"../../../img/icon-down.svg":return Ot;case"../../../img/icon-edge":case"../../../img/icon-edge.svg":return ut;case"../../../img/icon-edit":case"../../../img/icon-edit.svg":return Ht;case"../../../img/icon-ellipsis":case"../../../img/icon-ellipsis.svg":return jt;case"../../../img/icon-error-state":case"../../../img/icon-error-state.svg":return Rt;case"../../../img/icon-external-link":case"../../../img/icon-external-link.svg":return lt;case"../../../img/icon-heart-empty":case"../../../img/icon-heart-empty.svg":return ct;case"../../../img/icon-heart":case"../../../img/icon-heart.svg":return Pt;case"../../../img/icon-help":case"../../../img/icon-help.svg":return at;case"../../../img/icon-hide":case"../../../img/icon-hide.svg":return $t;case"../../../img/icon-key":case"../../../img/icon-key.svg":return qt;case"../../../img/icon-lock":case"../../../img/icon-lock.svg":return rt;case"../../../img/icon-log-in":case"../../../img/icon-log-in.svg":return Lt;case"../../../img/icon-menu":case"../../../img/icon-menu.svg":return ot;case"../../../img/icon-metrics":case"../../../img/icon-metrics.svg":return it;case"../../../img/icon-next":case"../../../img/icon-next.svg":return Vt;case"../../../img/icon-pause":case"../../../img/icon-pause.svg":return st;case"../../../img/icon-percent":case"../../../img/icon-percent.svg":return nt;case"../../../img/icon-photo":case"../../../img/icon-photo.svg":return Ut;case"../../../img/icon-pin-empty-light":case"../../../img/icon-pin-empty-light.svg":return tt;case"../../../img/icon-pin-empty":case"../../../img/icon-pin-empty.svg":return et;case"../../../img/icon-pin-light":case"../../../img/icon-pin-light.svg":return Ye;case"../../../img/icon-pin":case"../../../img/icon-pin.svg":return Zt;case"../../../img/icon-play":case"../../../img/icon-play.svg":return Xe;case"../../../img/icon-plus":case"../../../img/icon-plus.svg":return Wt;case"../../../img/icon-pointer":case"../../../img/icon-pointer.svg":return Qe;case"../../../img/icon-pomodoro":case"../../../img/icon-pomodoro.svg":return Je;case"../../../img/icon-profile":case"../../../img/icon-profile.svg":return Gt;case"../../../img/icon-quotes":case"../../../img/icon-quotes.svg":return Jt;case"../../../img/icon-refresh":case"../../../img/icon-refresh.svg":return Ke;case"../../../img/icon-restore":case"../../../img/icon-restore.svg":return Ge;case"../../../img/icon-settings":case"../../../img/icon-settings.svg":return At;case"../../../img/icon-skip-intro":case"../../../img/icon-skip-intro.svg":return Qt;case"../../../img/icon-skip":case"../../../img/icon-skip.svg":return It;case"../../../img/icon-subtract":case"../../../img/icon-subtract.svg":return We;case"../../../img/icon-tooltip":case"../../../img/icon-tooltip.svg":return Xt;case"../../../img/icon-topics":case"../../../img/icon-topics.svg":return Ze;case"../../../img/icon-trash":case"../../../img/icon-trash.svg":return Ft;case"../../../img/icon-unarchive":case"../../../img/icon-unarchive.svg":return Ue;case"../../../img/icon-visible-off":case"../../../img/icon-visible-off.svg":return en;case"../../../img/icon-visible-on":case"../../../img/icon-visible-on.svg":return Yt;case"../../../img/icon-weather-reset":case"../../../img/icon-weather-reset.svg":return Ve;case"../../../img/icon-x-caret-half":case"../../../img/icon-x-caret-half.svg":return tn;case"../../../img/icon-x":case"../../../img/icon-x.svg":return Kt;case"../../../img/paywall-timeline":case"../../../img/paywall-timeline.svg":return Ps;case"../../../img/pomodoro-circle":case"../../../img/pomodoro-circle.svg":return Rs;case"../../../img/star-rating":case"../../../img/star-rating.svg":return js;case"../../../img/star":case"../../../img/star.svg":return Zs;case"../../../img/thanks":case"../../../img/thanks.svg":return Hs;case"../../../img/icon/add":case"../../../img/icon/add.svg":return Ws;case"../../../img/icon/ai":case"../../../img/icon/ai.svg":return si;case"../../../img/icon/apps":case"../../../img/icon/apps.svg":return Os;case"../../../img/icon/arrow-down":case"../../../img/icon/arrow-down.svg":return Ns;case"../../../img/icon/arrow-left":case"../../../img/icon/arrow-left.svg":return Is;case"../../../img/icon/arrow-right":case"../../../img/icon/arrow-right.svg":return Bs;case"../../../img/icon/arrow-up":case"../../../img/icon/arrow-up.svg":return ii;case"../../../img/icon/ban":case"../../../img/icon/ban.svg":return ai;case"../../../img/icon/biceps-flexed":case"../../../img/icon/biceps-flexed.svg":return ri;case"../../../img/icon/chevron-down":case"../../../img/icon/chevron-down.svg":return zs;case"../../../img/icon/chevron-left":case"../../../img/icon/chevron-left.svg":return Ms;case"../../../img/icon/chevron-right":case"../../../img/icon/chevron-right.svg":return Ts;case"../../../img/icon/chevron-up":case"../../../img/icon/chevron-up.svg":return Ls;case"../../../img/icon/clock":case"../../../img/icon/clock.svg":return Fs;case"../../../img/icon/clocks":case"../../../img/icon/clocks.svg":return ui;case"../../../img/icon/close":case"../../../img/icon/close.svg":return di;case"../../../img/icon/collapse":case"../../../img/icon/collapse.svg":return Ss;case"../../../img/icon/countdowns":case"../../../img/icon/countdowns.svg":return li;case"../../../img/icon/countup":case"../../../img/icon/countup.svg":return xs;case"../../../img/icon/delete":case"../../../img/icon/delete.svg":return Es;case"../../../img/icon/denied":case"../../../img/icon/denied.svg":return ws;case"../../../img/icon/down":case"../../../img/icon/down.svg":return As;case"../../../img/icon/drag":case"../../../img/icon/drag.svg":return Ds;case"../../../img/icon/expand":case"../../../img/icon/expand.svg":return Cs;case"../../../img/icon/external-link":case"../../../img/icon/external-link.svg":return ys;case"../../../img/icon/focus":case"../../../img/icon/focus.svg":return pi;case"../../../img/icon/folder-2":case"../../../img/icon/folder-2.svg":return vs;case"../../../img/icon/folder-3":case"../../../img/icon/folder-3.svg":return bs;case"../../../img/icon/folder":case"../../../img/icon/folder.svg":return mi;case"../../../img/icon/info":case"../../../img/icon/info.svg":return i;case"../../../img/icon/internal-link":case"../../../img/icon/internal-link.svg":return _s;case"../../../img/icon/links-fallback":case"../../../img/icon/links-fallback.svg":return ks;case"../../../img/icon/links":case"../../../img/icon/links.svg":return gs;case"../../../img/icon/logo":case"../../../img/icon/logo.svg":return fs;case"../../../img/icon/metrics":case"../../../img/icon/metrics.svg":return ci;case"../../../img/icon/notes":case"../../../img/icon/notes.svg":return ms;case"../../../img/icon/pause":case"../../../img/icon/pause.svg":return ps;case"../../../img/icon/pin":case"../../../img/icon/pin.svg":return hs;case"../../../img/icon/pip":case"../../../img/icon/pip.svg":return ds;case"../../../img/icon/play":case"../../../img/icon/play.svg":return us;case"../../../img/icon/pomodoro":case"../../../img/icon/pomodoro.svg":return ls;case"../../../img/icon/search":case"../../../img/icon/search.svg":return ni;case"../../../img/icon/sidebar":case"../../../img/icon/sidebar.svg":return cs;case"../../../img/icon/soundscapes-variant":case"../../../img/icon/soundscapes-variant.svg":return as;case"../../../img/icon/soundscapes":case"../../../img/icon/soundscapes.svg":return rs;case"../../../img/icon/square-check":case"../../../img/icon/square-check.svg":return oi;case"../../../img/icon/stop":case"../../../img/icon/stop.svg":return os;case"../../../img/icon/switch":case"../../../img/icon/switch.svg":return fi;case"../../../img/icon/tabs":case"../../../img/icon/tabs.svg":return is;case"../../../img/icon/topics":case"../../../img/icon/topics.svg":return ss;case"../../../img/icon/undelete":case"../../../img/icon/undelete.svg":return ns;case"../../../img/icon/unpin":case"../../../img/icon/unpin.svg":return ts;case"../../../img/icon/weather":case"../../../img/icon/weather.svg":return es;case"../../../img/meteocons/clearDay":case"../../../img/meteocons/clearDay.svg":return Yn;case"../../../img/meteocons/clearNight":case"../../../img/meteocons/clearNight.svg":return Xn;case"../../../img/meteocons/cloudy":case"../../../img/meteocons/cloudy.svg":return Qn;case"../../../img/meteocons/cloudyDay":case"../../../img/meteocons/cloudyDay.svg":return Jn;case"../../../img/meteocons/cloudyNight":case"../../../img/meteocons/cloudyNight.svg":return Kn;case"../../../img/meteocons/cold":case"../../../img/meteocons/cold.svg":return Gn;case"../../../img/meteocons/drizzle":case"../../../img/meteocons/drizzle.svg":return Wn;case"../../../img/meteocons/fog":case"../../../img/meteocons/fog.svg":return Zn;case"../../../img/meteocons/hail":case"../../../img/meteocons/hail.svg":return Un;case"../../../img/meteocons/lightSnow":case"../../../img/meteocons/lightSnow.svg":return Vn;case"../../../img/meteocons/rain":case"../../../img/meteocons/rain.svg":return qn;case"../../../img/meteocons/severeStorm":case"../../../img/meteocons/severeStorm.svg":return $n;case"../../../img/meteocons/snow":case"../../../img/meteocons/snow.svg":return Pn;case"../../../img/meteocons/storm":case"../../../img/meteocons/storm.svg":return Rn;case"../../../img/meteocons/unknown":case"../../../img/meteocons/unknown.svg":return jn;case"../../../img/meteocons/wind":case"../../../img/meteocons/wind.svg":return Hn;case"../../../img/upgrade/upgrade-tiles-overview":case"../../../img/upgrade/upgrade-tiles-overview.svg":return On;case"../../../img/icon/apps/app-launcher":case"../../../img/icon/apps/app-launcher.svg":return Nn;case"../../../img/icon/apps/focus-mode-fill":case"../../../img/icon/apps/focus-mode-fill.svg":return In;case"../../../img/icon/apps/focus-mode":case"../../../img/icon/apps/focus-mode.svg":return gi;case"../../../img/icon/apps/notes":case"../../../img/icon/apps/notes.svg":return Bn;case"../../../img/icon/apps/search":case"../../../img/icon/apps/search.svg":return hi;case"../../../img/icon/apps/site-blocker-fill":case"../../../img/icon/apps/site-blocker-fill.svg":return zn;case"../../../img/icon/apps/site-blocker":case"../../../img/icon/apps/site-blocker.svg":return Mn;case"../../../img/icon/apps/topics":case"../../../img/icon/apps/topics.svg":return Tn;case"../../../img/icon/dev-panel/home-outline":case"../../../img/icon/dev-panel/home-outline.svg":return bi;case"../../../img/icon/dev-panel/home":case"../../../img/icon/dev-panel/home.svg":return _i;case"../../../img/icon/dev-panel/storage":case"../../../img/icon/dev-panel/storage.svg":return ki;case"../../../img/icon/focus/icon-check":case"../../../img/icon/focus/icon-check.svg":return Ln;case"../../../img/icon/focus/icon-confetti":case"../../../img/icon/focus/icon-confetti.svg":return vi;case"../../../img/icon/notes/bold":case"../../../img/icon/notes/bold.svg":return Fn;case"../../../img/icon/notes/h1":case"../../../img/icon/notes/h1.svg":return Sn;case"../../../img/icon/notes/h2":case"../../../img/icon/notes/h2.svg":return xn;case"../../../img/icon/notes/highlight":case"../../../img/icon/notes/highlight.svg":return En;case"../../../img/icon/notes/italic":case"../../../img/icon/notes/italic.svg":return wn;case"../../../img/icon/notes/link":case"../../../img/icon/notes/link.svg":return An;case"../../../img/icon/notes/linked-note":case"../../../img/icon/notes/linked-note.svg":return Dn;case"../../../img/icon/notes/list":case"../../../img/icon/notes/list.svg":return Cn;case"../../../img/icon/notes/strikethrough":case"../../../img/icon/notes/strikethrough.svg":return yn;case"../../../img/icon/notes/underline":case"../../../img/icon/notes/underline.svg":return vn;case"../../../img/icon/onboarding/icon-autofocus":case"../../../img/icon/onboarding/icon-autofocus.svg":return bn;case"../../../img/icon/onboarding/icon-countdown":case"../../../img/icon/onboarding/icon-countdown.svg":return _n;case"../../../img/icon/onboarding/icon-custom-content":case"../../../img/icon/onboarding/icon-custom-content.svg":return kn;case"../../../img/icon/onboarding/icon-daily-focus":case"../../../img/icon/onboarding/icon-daily-focus.svg":return gn;case"../../../img/icon/onboarding/icon-links":case"../../../img/icon/onboarding/icon-links.svg":return fn;case"../../../img/icon/onboarding/icon-mantras":case"../../../img/icon/onboarding/icon-mantras.svg":return mn;case"../../../img/icon/onboarding/icon-metrics":case"../../../img/icon/onboarding/icon-metrics.svg":return pn;case"../../../img/icon/onboarding/icon-more-functionality":case"../../../img/icon/onboarding/icon-more-functionality.svg":return hn;case"../../../img/icon/onboarding/icon-notes":case"../../../img/icon/onboarding/icon-notes.svg":return dn;case"../../../img/icon/onboarding/icon-photos":case"../../../img/icon/onboarding/icon-photos.svg":return un;case"../../../img/icon/onboarding/icon-quotes":case"../../../img/icon/onboarding/icon-quotes.svg":return ln;case"../../../img/icon/onboarding/icon-todo-integrations":case"../../../img/icon/onboarding/icon-todo-integrations.svg":return cn;case"../../../img/icon/onboarding/icon-todo":case"../../../img/icon/onboarding/icon-todo.svg":return an;case"../../../img/icon/pomodoro/icon-forward":case"../../../img/icon/pomodoro/icon-forward.svg":return rn;case"../../../img/icon/pomodoro/icon-plus":case"../../../img/icon/pomodoro/icon-plus.svg":return on;case"../../../img/icon/pomodoro/icon-restart":case"../../../img/icon/pomodoro/icon-restart.svg":return sn;case"../../../img/icon/search/bing-white":case"../../../img/icon/search/bing-white.svg":return ti;case"../../../img/icon/search/bing":case"../../../img/icon/search/bing.svg":return ei;case"../../../img/icon/search/duckduckgo-white":case"../../../img/icon/search/duckduckgo-white.svg":return Ys;case"../../../img/icon/search/duckduckgo":case"../../../img/icon/search/duckduckgo.svg":return Xs;case"../../../img/icon/search/ecosia-white":case"../../../img/icon/search/ecosia-white.svg":return Qs;case"../../../img/icon/search/ecosia":case"../../../img/icon/search/ecosia.svg":return Js;case"../../../img/icon/search/google-white":case"../../../img/icon/search/google-white.svg":return Ks;case"../../../img/icon/search/google":case"../../../img/icon/search/google.svg":return Gs;case"../../../img/icon/soundscapes/air-conditioner":case"../../../img/icon/soundscapes/air-conditioner.svg":return bo;case"../../../img/icon/soundscapes/airplane":case"../../../img/icon/soundscapes/airplane.svg":return _o;case"../../../img/icon/soundscapes/beach":case"../../../img/icon/soundscapes/beach.svg":return ko;case"../../../img/icon/soundscapes/binaural-alpha":case"../../../img/icon/soundscapes/binaural-alpha.svg":return go;case"../../../img/icon/soundscapes/binaural-beta":case"../../../img/icon/soundscapes/binaural-beta.svg":return fo;case"../../../img/icon/soundscapes/binaural-delta":case"../../../img/icon/soundscapes/binaural-delta.svg":return mo;case"../../../img/icon/soundscapes/binaural-gamma":case"../../../img/icon/soundscapes/binaural-gamma.svg":return po;case"../../../img/icon/soundscapes/binaural-music":case"../../../img/icon/soundscapes/binaural-music.svg":return ho;case"../../../img/icon/soundscapes/binaural-theta":case"../../../img/icon/soundscapes/binaural-theta.svg":return uo;case"../../../img/icon/soundscapes/binaural":case"../../../img/icon/soundscapes/binaural.svg":return lo;case"../../../img/icon/soundscapes/birds":case"../../../img/icon/soundscapes/birds.svg":return co;case"../../../img/icon/soundscapes/cafe-cup":case"../../../img/icon/soundscapes/cafe-cup.svg":return ao;case"../../../img/icon/soundscapes/cafe":case"../../../img/icon/soundscapes/cafe.svg":return ro;case"../../../img/icon/soundscapes/campfire":case"../../../img/icon/soundscapes/campfire.svg":return oo;case"../../../img/icon/soundscapes/chimes":case"../../../img/icon/soundscapes/chimes.svg":return io;case"../../../img/icon/soundscapes/coffee-maker":case"../../../img/icon/soundscapes/coffee-maker.svg":return so;case"../../../img/icon/soundscapes/copier":case"../../../img/icon/soundscapes/copier.svg":return no;case"../../../img/icon/soundscapes/coworkers":case"../../../img/icon/soundscapes/coworkers.svg":return to;case"../../../img/icon/soundscapes/creek":case"../../../img/icon/soundscapes/creek.svg":return eo;case"../../../img/icon/soundscapes/crickets":case"../../../img/icon/soundscapes/crickets.svg":return Yi;case"../../../img/icon/soundscapes/custom":case"../../../img/icon/soundscapes/custom.svg":return Xi;case"../../../img/icon/soundscapes/fire":case"../../../img/icon/soundscapes/fire.svg":return Qi;case"../../../img/icon/soundscapes/fluorescent-hum":case"../../../img/icon/soundscapes/fluorescent-hum.svg":return Ji;case"../../../img/icon/soundscapes/forest":case"../../../img/icon/soundscapes/forest.svg":return Ki;case"../../../img/icon/soundscapes/garden":case"../../../img/icon/soundscapes/garden.svg":return Gi;case"../../../img/icon/soundscapes/insects":case"../../../img/icon/soundscapes/insects.svg":return Wi;case"../../../img/icon/soundscapes/loudrain":case"../../../img/icon/soundscapes/loudrain.svg":return Zi;case"../../../img/icon/soundscapes/mechanical-keyboard":case"../../../img/icon/soundscapes/mechanical-keyboard.svg":return Ui;case"../../../img/icon/soundscapes/next":case"../../../img/icon/soundscapes/next.svg":return nn;case"../../../img/icon/soundscapes/noise-brown":case"../../../img/icon/soundscapes/noise-brown.svg":return Vi;case"../../../img/icon/soundscapes/noise-green":case"../../../img/icon/soundscapes/noise-green.svg":return qi;case"../../../img/icon/soundscapes/noise-pink":case"../../../img/icon/soundscapes/noise-pink.svg":return $i;case"../../../img/icon/soundscapes/noise-white":case"../../../img/icon/soundscapes/noise-white.svg":return Pi;case"../../../img/icon/soundscapes/noise":case"../../../img/icon/soundscapes/noise.svg":return Ri;case"../../../img/icon/soundscapes/ocean-birds":case"../../../img/icon/soundscapes/ocean-birds.svg":return ji;case"../../../img/icon/soundscapes/ocean-boat":case"../../../img/icon/soundscapes/ocean-boat.svg":return Hi;case"../../../img/icon/soundscapes/ocean-bubbles":case"../../../img/icon/soundscapes/ocean-bubbles.svg":return Oi;case"../../../img/icon/soundscapes/ocean-splash":case"../../../img/icon/soundscapes/ocean-splash.svg":return Ni;case"../../../img/icon/soundscapes/ocean-waves":case"../../../img/icon/soundscapes/ocean-waves.svg":return Ii;case"../../../img/icon/soundscapes/ocean":case"../../../img/icon/soundscapes/ocean.svg":return Bi;case"../../../img/icon/soundscapes/office":case"../../../img/icon/soundscapes/office.svg":return zi;case"../../../img/icon/soundscapes/rain-on-surface":case"../../../img/icon/soundscapes/rain-on-surface.svg":return Mi;case"../../../img/icon/soundscapes/rain":case"../../../img/icon/soundscapes/rain.svg":return Ti;case"../../../img/icon/soundscapes/rainfall":case"../../../img/icon/soundscapes/rainfall.svg":return Li;case"../../../img/icon/soundscapes/random":case"../../../img/icon/soundscapes/random.svg":return Fi;case"../../../img/icon/soundscapes/seagulls":case"../../../img/icon/soundscapes/seagulls.svg":return Si;case"../../../img/icon/soundscapes/speech-blocker":case"../../../img/icon/soundscapes/speech-blocker.svg":return xi;case"../../../img/icon/soundscapes/stream":case"../../../img/icon/soundscapes/stream.svg":return Ei;case"../../../img/icon/soundscapes/thunder":case"../../../img/icon/soundscapes/thunder.svg":return wi;case"../../../img/icon/soundscapes/thunderstorm":case"../../../img/icon/soundscapes/thunderstorm.svg":return Ai;case"../../../img/icon/soundscapes/tracks":case"../../../img/icon/soundscapes/tracks.svg":return Di;case"../../../img/icon/soundscapes/train":case"../../../img/icon/soundscapes/train.svg":return Ci;case"../../../img/icon/soundscapes/wind":case"../../../img/icon/soundscapes/wind.svg":return yi;case"../../../img/icon/upsell/brain":case"../../../img/icon/upsell/brain.svg":return yo;case"../../../img/icon/upsell/easy":case"../../../img/icon/upsell/easy.svg":return Do;case"../../../img/icon/upsell/icon-asana":case"../../../img/icon/upsell/icon-asana.svg":return Ao;case"../../../img/icon/upsell/icon-balance":case"../../../img/icon/upsell/icon-balance.svg":return Eo;case"../../../img/icon/upsell/icon-basecamp":case"../../../img/icon/upsell/icon-basecamp.svg":return jo;case"../../../img/icon/upsell/icon-clean":case"../../../img/icon/upsell/icon-clean.svg":return Ro;case"../../../img/icon/upsell/icon-clickup":case"../../../img/icon/upsell/icon-clickup.svg":return Ho;case"../../../img/icon/upsell/icon-color":case"../../../img/icon/upsell/icon-color.svg":return qo;case"../../../img/icon/upsell/icon-custom-soundscapes":case"../../../img/icon/upsell/icon-custom-soundscapes.svg":return Oo;case"../../../img/icon/upsell/icon-custom-theme":case"../../../img/icon/upsell/icon-custom-theme.svg":return Uo;case"../../../img/icon/upsell/icon-customize-timers":case"../../../img/icon/upsell/icon-customize-timers.svg":return Wo;case"../../../img/icon/upsell/icon-easy-access":case"../../../img/icon/upsell/icon-easy-access.svg":return No;case"../../../img/icon/upsell/icon-fitness":case"../../../img/icon/upsell/icon-fitness.svg":return Jo;case"../../../img/icon/upsell/icon-flow":case"../../../img/icon/upsell/icon-flow.svg":return Qo;case"../../../img/icon/upsell/icon-focus-stats":case"../../../img/icon/upsell/icon-focus-stats.svg":return Zo;case"../../../img/icon/upsell/icon-focused":case"../../../img/icon/upsell/icon-focused.svg":return Yo;case"../../../img/icon/upsell/icon-fullscreen":case"../../../img/icon/upsell/icon-fullscreen.svg":return Io;case"../../../img/icon/upsell/icon-github":case"../../../img/icon/upsell/icon-github.svg":return Bo;case"../../../img/icon/upsell/icon-global-weather":case"../../../img/icon/upsell/icon-global-weather.svg":return tr;case"../../../img/icon/upsell/icon-google-tasks":case"../../../img/icon/upsell/icon-google-tasks.svg":return zo;case"../../../img/icon/upsell/icon-habit":case"../../../img/icon/upsell/icon-habit.svg":return sr;case"../../../img/icon/upsell/icon-happy-place":case"../../../img/icon/upsell/icon-happy-place.svg":return ir;case"../../../img/icon/upsell/icon-history":case"../../../img/icon/upsell/icon-history.svg":return rr;case"../../../img/icon/upsell/icon-hourly":case"../../../img/icon/upsell/icon-hourly.svg":return ar;case"../../../img/icon/upsell/icon-hub":case"../../../img/icon/upsell/icon-hub.svg":return Mo;case"../../../img/icon/upsell/icon-infinity":case"../../../img/icon/upsell/icon-infinity.svg":return cr;case"../../../img/icon/upsell/icon-integrations":case"../../../img/icon/upsell/icon-integrations.svg":return Xo;case"../../../img/icon/upsell/icon-kanban":case"../../../img/icon/upsell/icon-kanban.svg":return $o;case"../../../img/icon/upsell/icon-microsoft-todo":case"../../../img/icon/upsell/icon-microsoft-todo.svg":return To;case"../../../img/icon/upsell/icon-more-fonts":case"../../../img/icon/upsell/icon-more-fonts.svg":return Vo;case"../../../img/icon/upsell/icon-more-lists":case"../../../img/icon/upsell/icon-more-lists.svg":return Po;case"../../../img/icon/upsell/icon-multiple-types":case"../../../img/icon/upsell/icon-multiple-types.svg":return Ko;case"../../../img/icon/upsell/icon-note-search":case"../../../img/icon/upsell/icon-note-search.svg":return Lo;case"../../../img/icon/upsell/icon-percent-schedule":case"../../../img/icon/upsell/icon-percent-schedule.svg":return wo;case"../../../img/icon/upsell/icon-personalize-photos":case"../../../img/icon/upsell/icon-personalize-photos.svg":return lr;case"../../../img/icon/upsell/icon-personalize":case"../../../img/icon/upsell/icon-personalize.svg":return dr;case"../../../img/icon/upsell/icon-photo-match":case"../../../img/icon/upsell/icon-photo-match.svg":return hr;case"../../../img/icon/upsell/icon-random":case"../../../img/icon/upsell/icon-random.svg":return pr;case"../../../img/icon/upsell/icon-search-loc":case"../../../img/icon/upsell/icon-search-loc.svg":return fr;case"../../../img/icon/upsell/icon-simple-notes":case"../../../img/icon/upsell/icon-simple-notes.svg":return Fo;case"../../../img/icon/upsell/icon-simplify":case"../../../img/icon/upsell/icon-simplify.svg":return gr;case"../../../img/icon/upsell/icon-skip":case"../../../img/icon/upsell/icon-skip.svg":return ur;case"../../../img/icon/upsell/icon-spiral":case"../../../img/icon/upsell/icon-spiral.svg":return nr;case"../../../img/icon/upsell/icon-sync":case"../../../img/icon/upsell/icon-sync.svg":return kr;case"../../../img/icon/upsell/icon-time-sensitive":case"../../../img/icon/upsell/icon-time-sensitive.svg":return or;case"../../../img/icon/upsell/icon-timezones":case"../../../img/icon/upsell/icon-timezones.svg":return mr;case"../../../img/icon/upsell/icon-todoist":case"../../../img/icon/upsell/icon-todoist.svg":return So;case"../../../img/icon/upsell/icon-top-of-mind":case"../../../img/icon/upsell/icon-top-of-mind.svg":return Go;case"../../../img/icon/upsell/icon-trello":case"../../../img/icon/upsell/icon-trello.svg":return xo;case"../../../img/icon/upsell/icon-weather-extra":case"../../../img/icon/upsell/icon-weather-extra.svg":return er;case"../../../img/icon/upsell/secure":case"../../../img/icon/upsell/secure.svg":return Co;case"../../../img/icon/upsell/sparks":case"../../../img/icon/upsell/sparks.svg":return vo;case"../../../img/upgrade/stats/feel-focused":case"../../../img/upgrade/stats/feel-focused.svg":return Us;case"../../../img/upgrade/stats/stay-on-task":case"../../../img/upgrade/stats/stay-on-task.svg":return Vs;case"../../../img/upgrade/stats/tasks-completed":case"../../../img/upgrade/stats/tasks-completed.svg":return qs;default:throw new Error("Cann't found module: "+e)}}const Jr=s({name:"NotesEditorToolbarDivider"},(function(){return(0,this._self._c)("div",{staticClass:"notes-editor-toolbar-divider"})}),[],!1,null,"ce5580e9").exports;var Qr=(e=>(e.ToolbarDefault="hidden",e.ToolbarLink="toolbarLink",e.AiActions="actions",e.AiHistory="history",e))(Qr||{});const Xr=_r("notesEditor",{views:{hidden:{defaultView:!0},toolbarLink:{},actions:{},history:{}}});const Yr=s({name:"NotesEditorToolbar",components:{BaseDropdownContent:Pe,NotesEditorToolbarDivider:Jr,NotesEditorToolbarButton:Gr,BaseDropdown:Oe},inject:["editorViewStateStore","viewStateStore","editorStore","notesEditorElement"],setup:()=>({DropdownPosition:je,DropdownAlignment:Re}),data:()=>({linkUrl:""}),computed:{defaultVisible(){return this.editorViewStateStore.activeViewId===Qr.ToolbarDefault},linkVisible(){return this.editorViewStateStore.activeViewId===Qr.ToolbarLink},selectedText(){return this.editorStore.selectedText}},watch:{defaultVisible(){this.defaultVisible||this.closeDefaultDropdown(),this.openDefaultDropdownDebounce()},linkVisible(){this.linkVisible?(this.openLinkDropdown(),this.$nextTick().then((()=>this.$refs["link-input"].select()))):this.closeLinkDropdown()},linkUrl(){if(!this.linkUrl)return void this.editorStore.editor.chain().unsetLink().run();const e=(this.linkUrl.startsWith("http://")||this.linkUrl.startsWith("https://")?"":"https://")+this.linkUrl;this.editorStore.editor.chain().setLink({href:e}).run()}},mounted(){this.editorStore.editor.on("selectionUpdate",this.onSelectionUpdate)},destroyed(){this.editorStore.editor.off("selectionUpdate",this.onSelectionUpdate)},methods:{onSelectionUpdate(){this.closeLinkDropdown(),this.closeDefaultDropdown(),this.editorViewStateStore.setActiveView(Qr.ToolbarDefault),this.openDefaultDropdownDebounce(),m.off("globalEvent:metaK",this.editOrSetLink),this.selectedText&&m.on("globalEvent:metaK",this.editOrSetLink)},editLink(){this.linkUrl=this.editorStore.editor.getAttributes("link").href??"",this.editorViewStateStore.setActiveView(Qr.ToolbarLink)},setLink(){this.editorStore.editor.commands.focus(),this.editorViewStateStore.setActiveView(Qr.ToolbarDefault)},editOrSetLink(){this.editorViewStateStore.activeViewId===Qr.ToolbarLink?this.setLink():this.editLink()},openDefaultDropdown(){this.$refs["notes-editor-toolbar-default"].openDropdown()},openDefaultDropdownDebounce(){clearTimeout(this.defaultDropdownDebounce),this.defaultDropdownDebounce=setTimeout((()=>{if(!this.selectedText||!this.defaultVisible)return;this.editorStore.editor.state.selection.$from.parent.type.name!==b&&this.openDefaultDropdown()}),v)},closeDefaultDropdown(){this.$refs["notes-editor-toolbar-default"].closeDropdown()},openLinkDropdown(){this.$refs["notes-editor-toolbar-link"].openDropdown()},closeLinkDropdown(){this.$refs["notes-editor-toolbar-link"].closeDropdown()},openAi(){this.closeDefaultDropdown(),this.editorViewStateStore.setActiveView(Qr.AiActions)},openNoteLinking(){this.closeDefaultDropdown(),this.editorStore.editor.commands.openLinkSuggestionAtSelection()}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"notes-editor-toolbar"},[t("base-dropdown",{ref:"notes-editor-toolbar-default",staticClass:"notes-editor-toolbar-default",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:e.DropdownAlignment.Center,position:e.DropdownPosition.Top,"scroll-target":e.notesEditorElement,"use-toast-mobile":!1},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"notes-editor-toolbar-default-toggle"})]},proxy:!0}])},[t("template",{slot:"contentOverride"},[t("base-dropdown-content",{staticClass:"notes-editor-toolbar-default-content"},[t("notes-editor-toolbar-button",{attrs:{title:"Bold",active:e.editorStore.controlStates.bold,icon:"icon/notes/bold"},on:{click:e.editorStore.toggleBold}}),t("notes-editor-toolbar-button",{attrs:{title:"Italic",active:e.editorStore.controlStates.italic,icon:"icon/notes/italic"},on:{click:e.editorStore.toggleItalic}}),t("notes-editor-toolbar-button",{attrs:{title:"Strikethrough",active:e.editorStore.controlStates.strike,icon:"icon/notes/strikethrough"},on:{click:e.editorStore.toggleStrike}}),t("notes-editor-toolbar-button",{attrs:{title:"Highlight",active:e.editorStore.controlStates.highlight,icon:"icon/notes/highlight"},on:{click:e.editorStore.toggleHighlight}}),t("notes-editor-toolbar-button",{attrs:{title:"Insert link",active:e.editorStore.controlStates.link,icon:"icon/notes/link"},on:{click:e.editLink}}),t("notes-editor-toolbar-divider"),t("notes-editor-toolbar-button",{attrs:{title:"Large heading",active:e.editorStore.controlStates.heading[1].value,icon:"icon/notes/h1"},on:{click:function(t){return e.editorStore.toggleHeading(1)}}}),t("notes-editor-toolbar-button",{attrs:{title:"Medium heading",active:e.editorStore.controlStates.heading[2].value,icon:"icon/notes/h2"},on:{click:function(t){return e.editorStore.toggleHeading(2)}}}),t("notes-editor-toolbar-button",{attrs:{title:"Bulleted list",active:e.editorStore.controlStates.bulletList,icon:"icon/notes/list"},on:{click:e.editorStore.toggleBulletList}}),t("notes-editor-toolbar-divider"),t("notes-editor-toolbar-button",{attrs:{title:"Link Note",icon:"icon/internal-link"},on:{click:e.openNoteLinking}}),t("notes-editor-toolbar-divider"),t("notes-editor-toolbar-button",{attrs:{title:"Use AI",icon:"icon/ai"},on:{click:e.openAi}})],1)],1)],2),t("base-dropdown",{ref:"notes-editor-toolbar-link",staticClass:"notes-editor-toolbar-link",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:e.DropdownAlignment.Center,position:e.DropdownPosition.Bottom,"scroll-target":e.notesEditorElement,"use-toast-mobile":!1,width:"14.5rem"},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"notes-editor-toolbar-link-toggle"})]},proxy:!0}])},[t("template",{slot:"contentOverride"},[t("base-dropdown-content",{staticClass:"notes-editor-toolbar-link-content"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.linkUrl,expression:"linkUrl"}],ref:"link-input",attrs:{placeholder:"Paste link"},domProps:{value:e.linkUrl},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setLink.apply(null,arguments)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.setLink.apply(null,arguments))},input:function(t){t.target.composing||(e.linkUrl=t.target.value)}}})])],1)],2)],1)}),[],!1,null,"8e5cf9d7").exports,ea=new r({feature:y.Feature});const ta=s({name:"NotesAiHistory",components:{BaseDropdown:Oe,SmoothReflow:vr,BaseDropdownContent:Pe,BaseDropdownDivider:br},mixins:[yr],inject:["editorViewStateStore","editorStore","aiStore"],props:{scrollTarget:$e.props.scrollTarget,alignment:{type:String,default:Re.Center},appendToEnd:{type:Boolean,default:!1}},emits:["close","toggle"],unreactive:()=>({DropdownPosition:je,NotesMessage:C}),computed:{activeHistoryData(){return this.aiStore.activeHistoryData},error(){return this.aiStore.error}},watch:{error:{handler(){this.error&&ea.capture(y.ActionError,{type:this.aiStore.activeActionLabel})},immediate:!0}},methods:{async closeAi(){this.$emit("close"),this.aiStore.reset()},replaceText(){const{from:e,to:t}=this.editorStore.selection;this.appendToEnd?this.editorStore.setContent(this.editorStore.getTitleContent(),this.activeHistoryData.result,!1):this.editorStore.editor.chain().insertContentAt(t,this.activeHistoryData.result).deleteRange({from:e,to:t}).focus().run(),this.closeAi()},insertText(){const{to:e}=this.editorStore.selection,t=this.editorStore.editor.state.doc.content.size;this.appendToEnd?this.editorStore.editor.chain().insertContentAt(t,this.activeHistoryData.result).focus().run():this.editorStore.editor.chain().insertContentAt(e+1,this.activeHistoryData.result).focus().run(),this.closeAi()},copyText(){navigator.clipboard.writeText(this.activeHistoryData.result),this.showFlashMessage({message:"Copied to Clipboard."})},async reRunRequest(){await this.aiStore.runActiveRequest()},openDropdown(){this.$refs["notes-ai-history"].openDropdown(),ea.capture(y.OpenHistory)},closeDropdown(){this.$refs["notes-ai-history"].closeDropdown()},onToggle(e){this.$emit("toggle",e),!1===e&&this.aiStore.reset()}}},(function(){var e,t=this,n=t._self._c;return n("base-dropdown",{ref:"notes-ai-history",staticClass:"notes-ai-history",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.alignment,position:t.DropdownPosition.Bottom,"scroll-target":t.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1,width:"28rem"},on:{toggle:t.onToggle},scopedSlots:t._u([{key:"toggle",fn:function(){return[n("div",{staticClass:"notes-ai-history-toggle"})]},proxy:!0}])},[n("template",{slot:"contentOverride"},[n("base-dropdown-content",{staticClass:"notes-ai-history-content"},[n("div",{staticClass:"history-header"},[n("span",[t._v(t._s(t.aiStore.activeActionLabel))]),n("button",{staticClass:"icon-wrapper",on:{click:t.closeAi}},[n("inline-svg",{staticClass:"icon icon-close",attrs:{src:zt}})],1)]),n("base-dropdown-divider"),n("div",{staticClass:"history-body"},[n("smooth-reflow",{attrs:{"hide-overflow":!0}},[n("div",{staticClass:"history-body-result"},[t.aiStore.loading||t.error?n("span",{staticClass:"history-body-result-loading",attrs:{"data-test":"ai-history-loading"}},[t._v(t._s(t.aiStore.loading?"Loading...":t.error.message??""))]):n("div",{staticClass:"history-body-result-content",attrs:{"data-test":"ai-history-content"},domProps:{innerHTML:t._s(t.activeHistoryData.result)}})])]),n("smooth-reflow",[!t.aiStore.loading&&(null==(e=t.activeHistoryData)?void 0:e.brokenLinks)?n("div",{staticClass:"history-ai-links-warning",attrs:{"data-test":"ai-links-warning"}},[n("inline-svg",{staticClass:"icon icon-info",attrs:{src:i}}),n("span",[t._v("Links to Notes may be added or removed due to AI")])],1):t._e()]),n("transition",{attrs:{name:"fade"}},[t.error?n("div",{staticClass:"history-body-actions"},[n("button",{key:"retry",staticClass:"button",on:{click:t.reRunRequest}},[t._v("Retry")])]):n("div",{staticClass:"history-body-actions",class:{disabled:t.aiStore.loading}},[n("button",{key:"replace",staticClass:"button",on:{click:t.replaceText}},[t._v("Replace")]),n("button",{key:"insert",staticClass:"button",on:{click:t.insertText}},[t._v("Insert")]),n("button",{key:"copy",staticClass:"button button-neutral",on:{click:t.copyText}},[t._v("Copy")]),n("button",{key:"rerun",staticClass:"button button-neutral",on:{click:t.reRunRequest}},[t._v("Re-run")])])])],1)],1)],1)],2)}),[],!1,null,"c420063a").exports,na=new r({feature:y.Feature});const sa=s({name:"NotesAiActions",components:{BaseDropdownDivider:br,BaseDropdownOption:Ie,BaseDropdown:Oe,BaseDropdownText:Cr},mixins:[yr],inject:["editorStore","aiStore"],props:{scrollTarget:$e.props.scrollTarget,useAiHeader:{type:Boolean,default:!0},activeNote:{type:Object,required:!0},alignment:{type:String,default:Re.Center}},emits:["action:history","toggle"],setup:()=>({DropdownPosition:je,DropdownAlignment:Re,NoteAiAction:D}),computed:{orderedLanguages(){return[...this.aiStore.languages.data].sort(((e,t)=>e.name.localeCompare(t.name,"en")))},actionSelectedText(){return this.editorStore.selectedHTML||this.editorStore.getBodyHTMLContent(!0)}},async mounted(){await this.getLanguages()},methods:{async summarize(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.Summary,data:{selectedText:this.actionSelectedText}}),this.onAction(D.Summary)},async improveWriting(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.ImproveWriting,data:{selectedText:this.actionSelectedText}}),this.onAction(D.ImproveWriting)},async listActionItems(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.ActionItems,data:{selectedText:this.actionSelectedText}}),this.onAction(D.ActionItems)},async fixSpellingAndGrammar(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.FixSpellingGrammar,data:{selectedText:this.actionSelectedText}}),this.onAction(D.FixSpellingGrammar)},async simplify(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.Simplification,data:{selectedText:this.actionSelectedText}}),this.onAction(D.Simplification)},async expand(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.Expansion,data:{selectedText:this.actionSelectedText}}),this.onAction(D.Expansion)},async getOutline(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.Outline,data:{selectedText:this.actionSelectedText}}),this.onAction(D.Outline)},async getJournalPrompts(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.JournalPrompts,data:{selectedText:this.actionSelectedText}}),this.onAction(D.JournalPrompts)},async translateText(e){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:D.Translation,data:{selectedText:this.actionSelectedText,languageId:e}}),this.onAction(D.Translation)},async getLanguages(){try{await this.aiStore.getLanguages()}catch(e){this.aiStore.languages.loading=!1,this.showFlashMessage({error:!0,message:C.ErrorFetchLanguages})}},onAction(e){na.capture(y.Action,{type:e})},openDropdown(){this.$refs["notes-ai-actions"].openDropdown(),na.capture(y.OpenActions)},closeDropdown(){var e;null==(e=this.$refs["notes-ai-actions-translate"])||e.closeDropdown(),this.$refs["notes-ai-actions"].closeDropdown()}}},(function(){var e=this,t=e._self._c;return t("base-dropdown",{ref:"notes-ai-actions",staticClass:"notes-ai-actions",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:e.alignment,position:e.DropdownPosition.Bottom,"scroll-target":e.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1},on:{toggle:function(t){return e.$emit("toggle",t)}},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"notes-ai-actions-toggle"})]},proxy:!0}])},[e.useAiHeader?t("base-dropdown-text",{attrs:{"is-title":!0}},[e._v("Ask AI to...")]):e._e(),t("base-dropdown-option",{attrs:{"data-test":"ai-action-spelling"},on:{click:e.fixSpellingAndGrammar}},[e._v(e._s(e.NoteAiAction.FixSpellingGrammar))]),t("base-dropdown-option",{on:{click:e.simplify}},[e._v(e._s(e.NoteAiAction.Simplification))]),t("base-dropdown-option",{on:{click:e.improveWriting}},[e._v(e._s(e.NoteAiAction.ImproveWriting))]),t("base-dropdown-divider"),t("base-dropdown-option",{on:{click:e.summarize}},[e._v(e._s(e.NoteAiAction.Summary))]),t("base-dropdown-option",{on:{click:e.expand}},[e._v(e._s(e.NoteAiAction.Expansion))]),t("base-dropdown-option",{on:{click:e.listActionItems}},[e._v(e._s(e.NoteAiAction.ActionItems))]),t("base-dropdown-divider"),t("base-dropdown-option",{on:{click:e.getOutline}},[e._v(e._s(e.NoteAiAction.Outline))]),t("base-dropdown-option",{on:{click:e.getJournalPrompts}},[e._v(e._s(e.NoteAiAction.JournalPrompts))]),t("base-dropdown-divider"),t("base-dropdown",{ref:"notes-ai-actions-translate",attrs:{position:e.DropdownPosition.Right,alignment:e.DropdownAlignment.Center,nipple:!1,"position-offset":-2,disabled:!e.aiStore.languages.loaded},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("base-dropdown-option",{attrs:{disabled:!e.aiStore.languages.loaded}},[e._v(e._s(e.NoteAiAction.Translation))])]},proxy:!0}])},e._l(e.orderedLanguages,(function(n){return t("base-dropdown-option",{key:n.id,on:{click:function(t){return e.translateText(n.id)}}},[e._v(" "+e._s(n.name)+" ")])})),1)],1)}),[],!1,null,"6ea880b8").exports;const ia=s({name:"NotesEditorAi",components:{NotesAiActions:sa,NotesAiHistory:ta},inject:["editorViewStateStore","viewStateStore","aiStore","notesEditorElement"],props:{activeNote:{type:Object,required:!0}},computed:{actionsVisible(){return this.editorViewStateStore.activeViewId===Qr.AiActions},historyVisible(){return this.editorViewStateStore.activeViewId===Qr.AiHistory}},watch:{actionsVisible(){this.actionsVisible?this.openActionsDropdown():this.closeActionsDropdown()},historyVisible(){this.historyVisible?this.openHistoryDropdown():this.closeHistoryDropdown()}},methods:{openHistoryDropdown(){this.$refs["notes-ai-history"].openDropdown()},closeHistoryDropdown(){this.$refs["notes-ai-history"].closeDropdown()},openActionsDropdown(){this.$refs["notes-ai-actions"].openDropdown()},closeActionsDropdown(){this.$refs["notes-ai-actions"].closeDropdown()},async setHistoryActive(){await this.editorViewStateStore.setActiveView(Qr.AiHistory)},async setToolbarActive(){await this.editorViewStateStore.setActiveView(Qr.ToolbarDefault)}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"notes-editor-ai"},[t("notes-ai-history",{ref:"notes-ai-history",attrs:{"scroll-target":e.notesEditorElement},on:{close:e.setToolbarActive}}),t("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"scroll-target":e.notesEditorElement,"active-note":e.activeNote},on:{"action:history":e.setHistoryActive}})],1)}),[],!1,null,"c9c5ff7f").exports,oa=/^\s*>\s$/,ra=A.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",w(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[E({find:oa,type:this.type})]}}),aa=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,ca=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,la=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,ua=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,da=x.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",w(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[S({find:aa,type:this.type}),S({find:la,type:this.type})]},addPasteRules(){return[F({find:ca,type:this.type}),F({find:ua,type:this.type})]}}),ha=A.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",w(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),pa=x.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",w(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=L(e,this.type);return!!Object.entries(n).some((([,e])=>!!e))||t.unsetMark(this.name)}}}}),ma=/^\s*([-+*])\s$/,fa=A.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",w(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ha.name,this.editor.getAttributes(pa.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=E({find:ma,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=E({find:ma,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(pa.name),editor:this.editor})),[e]}}),ga=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,ka=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,_a=x.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",w(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[S({find:ga,type:this.type})]},addPasteRules(){return[F({find:ka,type:this.type})]}}),ba=/^```([a-z]+)?[\s\n]$/,va=/^~~~([a-z]+)?[\s\n]$/,ya=A.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,s=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return s||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",w(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type)return!1;const o=s.parentOffset===s.parent.nodeSize-2,r=s.parent.textContent.endsWith("\n\n");return!(!o||!r)&&e.chain().command((({tr:e})=>(e.delete(s.pos-2,s.pos),!0))).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:s}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type)return!1;if(!(i.parentOffset===i.parent.nodeSize-2))return!1;const r=i.after();if(void 0===r)return!1;return s.nodeAt(r)?e.commands.command((({tr:e})=>(e.setSelection(T.near(s.resolve(r))),!0))):e.commands.exitCode()}}},addInputRules(){return[M({find:ba,type:this.type,getAttributes:e=>({language:e[1]})}),M({find:va,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new z({key:new B("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),s=t.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,o=null==i?void 0:i.mode;if(!n||!o)return!1;const{tr:r,schema:a}=e.state,c=a.text(n.replace(/\r\n?/g,"\n"));return r.replaceSelectionWith(this.type.create({language:o},c)),r.selection.$from.parent.type!==this.type&&r.setSelection(I.near(r.doc.resolve(Math.max(0,r.selection.from-2)))),r.setMeta("paste",!0),e.dispatch(r),!0}}})]}}),Ca=A.create({name:"doc",topNode:!0,content:"block+"});function Da(e={}){return new z({view:t=>new Aa(t,e)})}class Aa{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent;if(n){let n=t.nodeBefore,s=t.nodeAfter;if(n||s){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let i=t.getBoundingClientRect(),o=n?i.bottom:i.top;n&&s&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:i.left,right:i.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let s,i,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!o||o==document.body&&"static"==getComputedStyle(o).position)s=-pageXOffset,i=-pageYOffset;else{let e=o.getBoundingClientRect();s=e.left-o.scrollLeft,i=e.top-o.scrollTop}this.element.style.left=e.left-s+"px",this.element.style.top=e.top-i+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=n&&n.type.spec.disableDropCursor,i="function"==typeof s?s(this.editorView,t,e):s;if(t&&!i){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=N(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const wa=O.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[Da(this.options)]}});class Ea extends T{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return Ea.valid(n)?new Ea(n):T.near(n)}content(){return P.empty}eq(e){return e instanceof Ea&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ea(e.resolve(t.pos))}getBookmark(){return new xa(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),s=e.node(t);if(0!=n)for(let e=s.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(s.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),s=e.node(t);if(n!=s.childCount)for(let e=s.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(s.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&Ea.valid(e))return e;let s=e.pos,i=null;for(let n=e.depth;;n--){let o=e.node(n);if(t>0?e.indexAfter(n)<o.childCount:e.index(n)>0){i=o.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;s+=t;let r=e.doc.resolve(s);if(Ea.valid(r))return r}for(;;){let o=t>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!j.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*t),n=!1;continue e}break}i=o,s+=t;let r=e.doc.resolve(s);if(Ea.valid(r))return r}return null}}}Ea.prototype.visible=!1,Ea.findFrom=Ea.findGapCursorFrom,T.jsonID("gapcursor",Ea);class xa{constructor(e){this.pos=e}map(e){return new xa(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ea.valid(t)?new Ea(t):T.near(t)}}const Sa=H({ArrowLeft:Fa("horiz",-1),ArrowRight:Fa("horiz",1),ArrowUp:Fa("vert",-1),ArrowDown:Fa("vert",1)});function Fa(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,s,i){let o=e.selection,r=t>0?o.$to:o.$from,a=o.empty;if(o instanceof I){if(!i.endOfTextblock(n)||0==r.depth)return!1;a=!1,r=e.doc.resolve(t>0?r.after():r.before())}let c=Ea.findGapCursorFrom(r,t,a);return!!c&&(s&&s(e.tr.setSelection(new Ea(c))),!0)}}function La(e,t,n){if(!e||!e.editable)return!1;let s=e.state.doc.resolve(t);if(!Ea.valid(s))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&j.isSelectable(e.state.doc.nodeAt(i.inside)))&&(e.dispatch(e.state.tr.setSelection(new Ea(s))),!0)}function Ta(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof Ea))return!1;let{$from:n}=e.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!s)return!1;let i=R.empty;for(let r=s.length-1;r>=0;r--)i=R.from(s[r].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new P(i,0,0));return o.setSelection(I.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function Ma(e){if(!(e.selection instanceof Ea))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",$.create(e.doc,[q.widget(e.selection.head,t,{key:"gapcursor"})])}const za=O.create({name:"gapCursor",addProseMirrorPlugins:()=>[new z({props:{decorations:Ma,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&Ea.valid(n)?new Ea(n):null,handleClick:La,handleKeyDown:Sa,handleDOMEvents:{beforeinput:Ta}}})],extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:null!==(t=V(U(e,"allowGapCursor",n)))&&void 0!==t?t:null}}}),Ba=A.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",w(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:s})=>e.first([()=>e.exitCode(),()=>e.command((()=>{const{selection:e,storedMarks:i}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:r}=s.extensionManager,a=i||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{if(t&&a&&o){const t=a.filter((e=>r.includes(e.type.name)));e.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Ia=A.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}})))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,w(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>M({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}})))}});var Na=200,Oa=function(){};Oa.prototype.append=function(e){return e.length?(e=Oa.from(e),!this.length&&e||e.length<Na&&this.leafAppend(e)||this.length<Na&&e.leafPrepend(this)||this.appendInner(e)):this},Oa.prototype.prepend=function(e){return e.length?Oa.from(e).append(this):this},Oa.prototype.appendInner=function(e){return new ja(this,e)},Oa.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Oa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Oa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Oa.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Oa.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var s=[];return this.forEach((function(t,n){return s.push(e(t,n))}),t,n),s},Oa.from=function(e){return e instanceof Oa?e:e&&e.length?new Ha(e):Oa.empty};var Ha=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,s){for(var i=t;i<n;i++)if(!1===e(this.values[i],s+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,s){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],s+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=Na)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=Na)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Oa);Oa.empty=new Ha([]);var ja=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,s){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),s))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,s+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,s){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,s+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,s))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Oa);class Ra{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,s,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(n=this.remapping(i,this.items.length),s=n.maps.length);let o,r,a=e.tr,c=[],l=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),s=n.maps.length),s--,void l.push(e);if(n){l.push(new Pa(e.map));let t,i=e.step.map(n.slice(s));i&&a.maybeStep(i).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],c.push(new Pa(t,void 0,void 0,c.length+l.length))),s--,t&&n.appendMap(t,s)}else a.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(s)):e.selection,r=new Ra(this.items.slice(0,i).append(l.reverse().concat(c)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:r,transform:a,selection:o}}addTransform(e,t,n,s){let i=[],o=this.eventCount,r=this.items,a=!s&&r.length?r.get(r.length-1):null;for(let l=0;l<e.steps.length;l++){let n,c=e.steps[l].invert(e.docs[l]),u=new Pa(e.mapping.maps[l],c,t);(n=a&&a.merge(u))&&(u=n,l?i.pop():r=r.slice(0,r.length-1)),i.push(u),t&&(o++,t=void 0),s||(a=u)}let c=o-n.depth;return c>qa&&(r=function(e,t){let n;return e.forEach(((e,s)=>{if(e.selection&&0==t--)return n=s,!1})),e.slice(n)}(r,c),o-=c),new Ra(r.append(i),o)}remapping(e,t){let n=new Z;return this.items.forEach(((t,s)=>{let i=null!=t.mirrorOffset&&s-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new Ra(this.items.append(e.map((e=>new Pa(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,r=this.eventCount;this.items.forEach((e=>{e.selection&&r--}),s);let a=t;this.items.forEach((t=>{let s=i.getMirror(--a);if(null==s)return;o=Math.min(o,s);let c=i.maps[s];if(t.step){let o=e.steps[s].invert(e.docs[s]),l=t.selection&&t.selection.map(i.slice(a+1,s));l&&r++,n.push(new Pa(c,o,l))}else n.push(new Pa(c))}),s);let c=[];for(let d=t;d<o;d++)c.push(new Pa(i.maps[d]));let l=this.items.slice(0,s).append(c).append(n),u=new Ra(l,r);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,s=[],i=0;return this.items.forEach(((o,r)=>{if(r>=e)s.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),r=e&&e.getMap();if(n--,r&&t.appendMap(r,n),e){let a=o.selection&&o.selection.map(t.slice(n));a&&i++;let c,l=new Pa(r.invert(),e,a),u=s.length-1;(c=s.length&&s[u].merge(l))?s[u]=c:s.push(l)}}else o.map&&n--}),this.items.length,0),new Ra(Oa.from(s.reverse()),i)}}Ra.empty=new Ra(Oa.empty,0);class Pa{constructor(e,t,n,s){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Pa(t.getMap().invert(),t,this.selection)}}}class $a{constructor(e,t,n,s,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const qa=20;function Va(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach(((e,n,s,i)=>t.push(s,i)));return t}function Ua(e,t){if(!e)return null;let n=[];for(let s=0;s<e.length;s+=2){let i=t.map(e[s],1),o=t.map(e[s+1],-1);i<=o&&n.push(i,o)}return n}let Za=!1,Wa=null;function Ga(e){let t=e.plugins;if(Wa!=t){Za=!1,Wa=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Za=!0;break}}return Za}const Ka=new B("history"),Ja=new B("closeHistory");function Qa(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new z({key:Ka,state:{init:()=>new $a(Ra.empty,Ra.empty,null,0,-1),apply:(t,n,s)=>function(e,t,n,s){let i,o=n.getMeta(Ka);if(o)return o.historyState;n.getMeta(Ja)&&(e=new $a(e.done,e.undone,null,0,-1));let r=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(r&&r.getMeta(Ka))return r.getMeta(Ka).redo?new $a(e.done.addTransform(n,void 0,s,Ga(t)),e.undone,Va(n.mapping.maps),e.prevTime,e.prevComposition):new $a(e.done,e.undone.addTransform(n,void 0,s,Ga(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||r&&!1===r.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new $a(e.done.rebased(n,i),e.undone.rebased(n,i),Ua(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new $a(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Ua(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let i=n.getMeta("composition"),o=0==e.prevTime||!r&&e.prevComposition!=i&&(e.prevTime<(n.time||0)-s.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,s)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&s>=t[i]&&(n=!0)})),n}(n,e.prevRanges)),a=r?Ua(e.prevRanges,n.mapping):Va(n.mapping.maps);return new $a(e.done.addTransform(n,o?t.selection.getBookmark():void 0,s,Ga(t)),Ra.empty,a,n.time,null==i?e.prevComposition:i)}}(n,s,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,s="historyUndo"==n?Ya:"historyRedo"==n?ec:null;return!!s&&(t.preventDefault(),s(e.state,e.dispatch))}}}})}function Xa(e,t){return(n,s)=>{let i=Ka.getState(n);if(!i||0==(e?i.undone:i.done).eventCount)return!1;if(s){let o=function(e,t,n){let s=Ga(t),i=Ka.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,s);if(!o)return null;let r=o.selection.resolve(o.transform.doc),a=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,s),c=new $a(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(r).setMeta(Ka,{redo:n,historyState:c})}(i,n,e);o&&s(t?o.scrollIntoView():o)}return!0}}const Ya=Xa(!1,!0),ec=Xa(!0,!0),tc=O.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>Ya(e,t),redo:()=>({state:e,dispatch:t})=>ec(e,t)}),addProseMirrorPlugins(){return[Qa(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),nc=A.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",w(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{const{selection:n}=t,{$from:s,$to:i}=n,o=e();return 0===s.parentOffset?o.insertContentAt({from:Math.max(s.pos-1,0),to:i.pos},{type:this.name}):W(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command((({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,s=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(I.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(j.create(e.doc,t.pos)):e.setSelection(I.create(e.doc,t.pos));else{const i=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();i&&(e.insert(s,i),e.setSelection(I.create(e.doc,s+1)))}e.scrollIntoView()}return!0})).run()}}},addInputRules(){return[G({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),sc=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,ic=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,oc=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,rc=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,ac=x.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",w(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[S({find:sc,type:this.type}),S({find:oc,type:this.type})]},addPasteRules(){return[F({find:ic,type:this.type}),F({find:rc,type:this.type})]}}),cc=A.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",w(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),lc=A.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",w(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uc=x.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",w(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=L(e,this.type);return!!Object.entries(n).some((([,e])=>!!e))||t.unsetMark(this.name)}}}}),dc=/^(\d+)\.\s$/,hc=A.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",w(this.options.HTMLAttributes,n),0]:["ol",w(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(lc.name,this.editor.getAttributes(uc.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=E({find:dc,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=E({find:dc,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(uc.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),pc=A.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",w(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),mc=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,fc=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,gc=x.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",w(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[S({find:mc,type:this.type})]},addPasteRules(){return[F({find:fc,type:this.type})]}}),kc=A.create({name:"text",group:"inline"}),_c=O.create({name:"starterKit",addExtensions(){var e,t,n,s,i,o,r,a,c,l,u,d,h,p,m,f,g,k;const _=[];return!1!==this.options.bold&&_.push(da.configure(null===(e=this.options)||void 0===e?void 0:e.bold)),!1!==this.options.blockquote&&_.push(ra.configure(null===(t=this.options)||void 0===t?void 0:t.blockquote)),!1!==this.options.bulletList&&_.push(fa.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&_.push(_a.configure(null===(s=this.options)||void 0===s?void 0:s.code)),!1!==this.options.codeBlock&&_.push(ya.configure(null===(i=this.options)||void 0===i?void 0:i.codeBlock)),!1!==this.options.document&&_.push(Ca.configure(null===(o=this.options)||void 0===o?void 0:o.document)),!1!==this.options.dropcursor&&_.push(wa.configure(null===(r=this.options)||void 0===r?void 0:r.dropcursor)),!1!==this.options.gapcursor&&_.push(za.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&_.push(Ba.configure(null===(c=this.options)||void 0===c?void 0:c.hardBreak)),!1!==this.options.heading&&_.push(Ia.configure(null===(l=this.options)||void 0===l?void 0:l.heading)),!1!==this.options.history&&_.push(tc.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&_.push(nc.configure(null===(d=this.options)||void 0===d?void 0:d.horizontalRule)),!1!==this.options.italic&&_.push(ac.configure(null===(h=this.options)||void 0===h?void 0:h.italic)),!1!==this.options.listItem&&_.push(cc.configure(null===(p=this.options)||void 0===p?void 0:p.listItem)),!1!==this.options.orderedList&&_.push(hc.configure(null===(m=this.options)||void 0===m?void 0:m.orderedList)),!1!==this.options.paragraph&&_.push(pc.configure(null===(f=this.options)||void 0===f?void 0:f.paragraph)),!1!==this.options.strike&&_.push(gc.configure(null===(g=this.options)||void 0===g?void 0:g.strike)),!1!==this.options.text&&_.push(kc.configure(null===(k=this.options)||void 0===k?void 0:k.text)),_}}),bc=O.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new z({key:new B("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants(((e,t)=>{const n=s>=t&&s<=t+e.nodeSize,r=!e.isLeaf&&K(e);if((n||!this.options.showOnlyCurrent)&&r){const s=[this.options.emptyNodeClass];o&&s.push(this.options.emptyEditorClass);const r=q.node(t,t+e.nodeSize,{class:s.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});i.push(r)}return this.options.includeChildren})),$.create(e,i)}}})]}}),vc=A.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",w(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),yc=/^\s*(\[([( |x])?\])\s$/,Cc=A.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",w(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:s})=>{const i=document.createElement("li"),o=document.createElement("label"),r=document.createElement("span"),a=document.createElement("input"),c=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",(e=>e.preventDefault())),a.addEventListener("change",(t=>{if(!s.isEditable&&!this.options.onReadOnlyChecked)return void(a.checked=!a.checked);const{checked:i}=t.target;s.isEditable&&"function"==typeof n&&s.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:e})=>{const t=n();if("number"!=typeof t)return!1;const s=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==s?void 0:s.attrs,checked:i}),!0})).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,i)||(a.checked=!a.checked))})),Object.entries(this.options.HTMLAttributes).forEach((([e,t])=>{i.setAttribute(e,t)})),i.dataset.checked=e.attrs.checked,e.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,r),i.append(o,c),Object.entries(t).forEach((([e,t])=>{i.setAttribute(e,t)})),{dom:i,contentDOM:c,update:e=>e.type===this.type&&(i.dataset.checked=e.attrs.checked,e.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[E({find:yc,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),Dc="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Ac="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",wc=(e,t)=>{for(const n in t)e[n]=t[n];return e},Ec="numeric",xc="ascii",Sc="alpha",Fc="asciinumeric",Lc="alphanumeric",Tc="domain",Mc="emoji",zc="scheme",Bc="slashscheme",Ic="whitespace";function Nc(e,t){return e in t||(t[e]=[]),t[e]}function Oc(e,t,n){t[Ec]&&(t[Fc]=!0,t[Lc]=!0),t[xc]&&(t[Fc]=!0,t[Sc]=!0),t[Fc]&&(t[Lc]=!0),t[Sc]&&(t[Lc]=!0),t[Lc]&&(t[Tc]=!0),t[Mc]&&(t[Tc]=!0);for(const s in t){const t=Nc(s,n);t.indexOf(e)<0&&t.push(e)}}function Hc(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Hc.groups={},Hc.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let s=0;s<t.jr.length;s++){const n=t.jr[s][0],i=t.jr[s][1];if(i&&n.test(e))return i}return t.jd},has(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,s){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,s)},tr(e,t,n,s){let i;return s=s||Hc.groups,t&&t.j?i=t:(i=new Hc(t),n&&s&&Oc(t,n,s)),this.jr.push([e,i]),i},ts(e,t,n,s){let i=this;const o=e.length;if(!o)return i;for(let r=0;r<o-1;r++)i=i.tt(e[r]);return i.tt(e[o-1],t,n,s)},tt(e,t,n,s){s=s||Hc.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let r,a=i.go(e);if(a?(r=new Hc,wc(r.j,a.j),r.jr.push.apply(r.jr,a.jr),r.jd=a.jd,r.t=a.t):r=new Hc,o){if(s)if(r.t&&"string"==typeof r.t){const e=wc(function(e,t){const n={};for(const s in t)t[s].indexOf(e)>=0&&(n[s]=!0);return n}(r.t,s),n);Oc(o,e,s)}else n&&Oc(o,n,s);r.t=o}return i.j[e]=r,r}};const jc=(e,t,n,s,i)=>e.ta(t,n,s,i),Rc=(e,t,n,s,i)=>e.tr(t,n,s,i),Pc=(e,t,n,s,i)=>e.ts(t,n,s,i),$c=(e,t,n,s,i)=>e.tt(t,n,s,i),qc="WORD",Vc="UWORD",Uc="LOCALHOST",Zc="TLD",Wc="UTLD",Gc="SCHEME",Kc="SLASH_SCHEME",Jc="NUM",Qc="WS",Xc="NL",Yc="OPENBRACE",el="CLOSEBRACE",tl="OPENBRACKET",nl="CLOSEBRACKET",sl="OPENPAREN",il="CLOSEPAREN",ol="OPENANGLEBRACKET",rl="CLOSEANGLEBRACKET",al="FULLWIDTHLEFTPAREN",cl="FULLWIDTHRIGHTPAREN",ll="LEFTCORNERBRACKET",ul="RIGHTCORNERBRACKET",dl="LEFTWHITECORNERBRACKET",hl="RIGHTWHITECORNERBRACKET",pl="FULLWIDTHLESSTHAN",ml="FULLWIDTHGREATERTHAN",fl="AMPERSAND",gl="APOSTROPHE",kl="ASTERISK",_l="AT",bl="BACKSLASH",vl="BACKTICK",yl="CARET",Cl="COLON",Dl="COMMA",Al="DOLLAR",wl="DOT",El="EQUALS",xl="EXCLAMATION",Sl="HYPHEN",Fl="PERCENT",Ll="PIPE",Tl="PLUS",Ml="POUND",zl="QUERY",Bl="QUOTE",Il="SEMI",Nl="SLASH",Ol="TILDE",Hl="UNDERSCORE",jl="EMOJI",Rl="SYM";var Pl=Object.freeze({__proto__:null,WORD:qc,UWORD:Vc,LOCALHOST:Uc,TLD:Zc,UTLD:Wc,SCHEME:Gc,SLASH_SCHEME:Kc,NUM:Jc,WS:Qc,NL:Xc,OPENBRACE:Yc,CLOSEBRACE:el,OPENBRACKET:tl,CLOSEBRACKET:nl,OPENPAREN:sl,CLOSEPAREN:il,OPENANGLEBRACKET:ol,CLOSEANGLEBRACKET:rl,FULLWIDTHLEFTPAREN:al,FULLWIDTHRIGHTPAREN:cl,LEFTCORNERBRACKET:ll,RIGHTCORNERBRACKET:ul,LEFTWHITECORNERBRACKET:dl,RIGHTWHITECORNERBRACKET:hl,FULLWIDTHLESSTHAN:pl,FULLWIDTHGREATERTHAN:ml,AMPERSAND:fl,APOSTROPHE:gl,ASTERISK:kl,AT:_l,BACKSLASH:bl,BACKTICK:vl,CARET:yl,COLON:Cl,COMMA:Dl,DOLLAR:Al,DOT:wl,EQUALS:El,EXCLAMATION:xl,HYPHEN:Sl,PERCENT:Fl,PIPE:Ll,PLUS:Tl,POUND:Ml,QUERY:zl,QUOTE:Bl,SEMI:Il,SLASH:Nl,TILDE:Ol,UNDERSCORE:Hl,EMOJI:jl,SYM:Rl});const $l=/[a-z]/,ql=new RegExp("\\p{L}","u"),Vl=new RegExp("\\p{Emoji}","u"),Ul=/\d/,Zl=/\s/,Wl="\n",Gl="",Kl="";let Jl=null,Ql=null;function Xl(e,t,n,s,i){let o;const r=t.length;for(let a=0;a<r-1;a++){const n=t[a];e.j[n]?o=e.j[n]:(o=new Hc(s),o.jr=i.slice(),e.j[n]=o),e=o}return o=new Hc(n),o.jr=i.slice(),e.j[t[r-1]]=o,o}function Yl(e){const t=[],n=[];let s=0;for(;s<e.length;){let i=0;for(;"0123456789".indexOf(e[s+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let t=parseInt(e.substring(s,s+i),10);t>0;t--)n.pop();s+=i}else n.push(e[s]),s++}return t}const eu={defaultProtocol:"http",events:null,format:nu,formatHref:nu,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function tu(e,t){void 0===t&&(t=null);let n=wc({},eu);e&&(n=wc(n,e instanceof tu?e.o:e));const s=n.ignoreTags,i=[];for(let o=0;o<s.length;o++)i.push(s[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}function nu(e){return e}function su(e,t){this.t="token",this.v=e,this.tk=t}function iu(e,t){class n extends su{constructor(t,n){super(t,n),this.t=e}}for(const s in t)n.prototype[s]=t[s];return n.t=e,n}tu.prototype={o:eu,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const s=null!=t;let i=this.o[e];return i?("object"==typeof i?(i=n.t in i?i[n.t]:eu[e],"function"==typeof i&&s&&(i=i(t,n))):"function"==typeof i&&s&&(i=i(t,n.t,n)),i):i},getObj(e,t,n){let s=this.o[e];return"function"==typeof s&&null!=t&&(s=s(t,n.t,n)),s},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},su.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),s=e.get("format",t,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return void 0===e&&(e=eu.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),s=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),r={},a=e.get("className",n,t),c=e.get("target",n,t),l=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return r.href=s,a&&(r.class=a),c&&(r.target=c),l&&(r.rel=l),u&&wc(r,u),{tagName:i,attributes:r,content:o,eventListeners:d}}};const ou=iu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ru=iu("text"),au=iu("nl"),cu=iu("url",{isLink:!0,toHref(e){return void 0===e&&(e=eu.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Uc&&e[1].t===Cl}}),lu=e=>new Hc(e);function uu(e,t,n){const s=n[0].s,i=n[n.length-1].e;return new e(t.slice(s,i),n)}const du="undefined"!=typeof console&&console&&console.warn||(()=>{}),hu={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function pu(e,t){if(void 0===t&&(t=!1),hu.initialized&&du(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');hu.customSchemes.push([e,t])}function mu(){hu.scanner=function(e){void 0===e&&(e=[]);const t={};Hc.groups=t;const n=new Hc;null==Jl&&(Jl=Yl(Dc)),null==Ql&&(Ql=Yl(Ac)),$c(n,"'",gl),$c(n,"{",Yc),$c(n,"}",el),$c(n,"[",tl),$c(n,"]",nl),$c(n,"(",sl),$c(n,")",il),$c(n,"<",ol),$c(n,">",rl),$c(n,"",al),$c(n,"",cl),$c(n,"",ll),$c(n,"",ul),$c(n,"",dl),$c(n,"",hl),$c(n,"",pl),$c(n,"",ml),$c(n,"&",fl),$c(n,"*",kl),$c(n,"@",_l),$c(n,"`",vl),$c(n,"^",yl),$c(n,":",Cl),$c(n,",",Dl),$c(n,"$",Al),$c(n,".",wl),$c(n,"=",El),$c(n,"!",xl),$c(n,"-",Sl),$c(n,"%",Fl),$c(n,"|",Ll),$c(n,"+",Tl),$c(n,"#",Ml),$c(n,"?",zl),$c(n,'"',Bl),$c(n,"/",Nl),$c(n,";",Il),$c(n,"~",Ol),$c(n,"_",Hl),$c(n,"\\",bl);const s=Rc(n,Ul,Jc,{[Ec]:!0});Rc(s,Ul,s);const i=Rc(n,$l,qc,{[xc]:!0});Rc(i,$l,i);const o=Rc(n,ql,Vc,{[Sc]:!0});Rc(o,$l),Rc(o,ql,o);const r=Rc(n,Zl,Qc,{[Ic]:!0});$c(n,Wl,Xc,{[Ic]:!0}),$c(r,Wl),Rc(r,Zl,r);const a=Rc(n,Vl,jl,{[Mc]:!0});Rc(a,Vl,a),$c(a,Gl,a);const c=$c(a,Kl);Rc(c,Vl,a);const l=[[$l,i]],u=[[$l,null],[ql,o]];for(let d=0;d<Jl.length;d++)Xl(n,Jl[d],Zc,qc,l);for(let d=0;d<Ql.length;d++)Xl(n,Ql[d],Wc,Vc,u);Oc(Zc,{tld:!0,ascii:!0},t),Oc(Wc,{utld:!0,alpha:!0},t),Xl(n,"file",Gc,qc,l),Xl(n,"mailto",Gc,qc,l),Xl(n,"http",Kc,qc,l),Xl(n,"https",Kc,qc,l),Xl(n,"ftp",Kc,qc,l),Xl(n,"ftps",Kc,qc,l),Oc(Gc,{scheme:!0,ascii:!0},t),Oc(Kc,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let d=0;d<e.length;d++){const t=e[d][0],s=e[d][1]?{[zc]:!0}:{[Bc]:!0};t.indexOf("-")>=0?s[Tc]=!0:$l.test(t)?Ul.test(t)?s[Fc]=!0:s[xc]=!0:s[Ec]=!0,Pc(n,t,t,s)}return Pc(n,"localhost",Uc,{ascii:!0}),n.jd=new Hc(Rl),{start:n,tokens:wc({groups:t},Pl)}}(hu.customSchemes);for(let e=0;e<hu.tokenQueue.length;e++)hu.tokenQueue[e][1]({scanner:hu.scanner});hu.parser=function(e){let{groups:t}=e;const n=t.domain.concat([fl,kl,_l,bl,vl,yl,Al,El,Sl,Jc,Fl,Ll,Tl,Ml,Nl,Rl,Ol,Hl]),s=[gl,Cl,Dl,wl,xl,zl,Bl,Il,ol,rl,Yc,el,nl,tl,sl,il,al,cl,ll,ul,dl,hl,pl,ml],i=[fl,gl,kl,bl,vl,yl,Al,El,Sl,Yc,el,Fl,Ll,Tl,Ml,zl,Nl,Rl,Ol,Hl],o=lu(),r=$c(o,Ol);jc(r,i,r),jc(r,t.domain,r);const a=lu(),c=lu(),l=lu();jc(o,t.domain,a),jc(o,t.scheme,c),jc(o,t.slashscheme,l),jc(a,i,r),jc(a,t.domain,a);const u=$c(a,_l);$c(r,_l,u),$c(c,_l,u),$c(l,_l,u);const d=$c(r,wl);jc(d,i,r),jc(d,t.domain,r);const h=lu();jc(u,t.domain,h),jc(h,t.domain,h);const p=$c(h,wl);jc(p,t.domain,h);const m=lu(ou);jc(p,t.tld,m),jc(p,t.utld,m),$c(u,Uc,m);const f=$c(h,Sl);jc(f,t.domain,h),jc(m,t.domain,h),$c(m,wl,p),$c(m,Sl,f);const g=$c(m,Cl);jc(g,t.numeric,ou);const k=$c(a,Sl),_=$c(a,wl);jc(k,t.domain,a),jc(_,i,r),jc(_,t.domain,a);const b=lu(cu);jc(_,t.tld,b),jc(_,t.utld,b),jc(b,t.domain,a),jc(b,i,r),$c(b,wl,_),$c(b,Sl,k),$c(b,_l,u);const v=$c(b,Cl),y=lu(cu);jc(v,t.numeric,y);const C=lu(cu),D=lu();jc(C,n,C),jc(C,s,D),jc(D,n,C),jc(D,s,D),$c(b,Nl,C),$c(y,Nl,C);const A=$c(c,Cl),w=$c(l,Cl),E=$c(w,Nl),x=$c(E,Nl);jc(c,t.domain,a),$c(c,wl,_),$c(c,Sl,k),jc(l,t.domain,a),$c(l,wl,_),$c(l,Sl,k),jc(A,t.domain,C),$c(A,Nl,C),jc(x,t.domain,C),jc(x,n,C),$c(x,Nl,C);const S=[[Yc,el],[tl,nl],[sl,il],[ol,rl],[al,cl],[ll,ul],[dl,hl],[pl,ml]];for(let F=0;F<S.length;F++){const[e,t]=S[F],i=$c(C,e);$c(D,e,i),$c(i,t,C);const o=lu(cu);jc(i,n,o);const r=lu();jc(i,s),jc(o,n,o),jc(o,s,r),jc(r,n,o),jc(r,s,r),$c(o,t,C),$c(r,t,C)}return $c(o,Uc,b),$c(o,Xc,au),{start:o,tokens:Pl}}(hu.scanner.tokens);for(let e=0;e<hu.pluginQueue.length;e++)hu.pluginQueue[e][1]({scanner:hu.scanner,parser:hu.parser});hu.initialized=!0}function fu(e){return hu.initialized||mu(),function(e,t,n){let s=n.length,i=0,o=[],r=[];for(;i<s;){let a=e,c=null,l=null,u=0,d=null,h=-1;for(;i<s&&!(c=a.go(n[i].t));)r.push(n[i++]);for(;i<s&&(l=c||a.go(n[i].t));)c=null,a=l,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<s&&(r.push(n[i]),i++);else{r.length>0&&(o.push(uu(ru,t,r)),r=[]),i-=h,u-=h;const e=d.t,s=n.slice(i-u,i);o.push(uu(e,t,s))}}return r.length>0&&o.push(uu(ru,t,r)),o}(hu.parser.start,e,function(e,t){const n=function(e){const t=[],n=e.length;let s=0;for(;s<n;){let i,o=e.charCodeAt(s),r=o<55296||o>56319||s+1===n||(i=e.charCodeAt(s+1))<56320||i>57343?e[s]:e.slice(s,s+2);t.push(r),s+=r.length}return t}(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),s=n.length,i=[];let o=0,r=0;for(;r<s;){let a=e,c=null,l=0,u=null,d=-1,h=-1;for(;r<s&&(c=a.go(n[r]));)a=c,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[r].length,h++),l+=n[r].length,o+=n[r].length,r++;o-=d,r-=h,l-=d,i.push({t:u.t,v:t.slice(o-l,o),s:o-l,e:o})}return i}(hu.scanner.start,e))}function gu(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const s=new tu(n),i=fu(e),o=[];for(let r=0;r<i.length;r++){const e=i[r];!e.isLink||t&&e.t!==t||!s.check(e)||o.push(e.toFormattedObject(s))}return o}const ku=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function _u(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach((e=>{const t="string"==typeof e?e:e.scheme;t&&n.push(t)})),!e||e.replace(ku,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const bu=x.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach((e=>{"string"!=typeof e?pu(e.scheme,e.optionalSlashes):pu(e)}))},onDestroy(){Hc.groups={},hu.scanner=null,hu.parser=null,hu.tokenQueue=[],hu.pluginQueue=[],hu.customSchemes=[],hu.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!_u(t,this.options.protocols))&&null}}]},renderHTML({HTMLAttributes:e}){return _u(e.href,this.options.protocols)?["a",w(this.options.HTMLAttributes,e),0]:["a",w(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[F({find:e=>{const t=[];if(e){const{validate:n}=this.options,s=gu(e).filter((e=>e.isLink&&n(e.value)));s.length&&s.forEach((e=>t.push({text:e.value,data:{href:e.href},index:e.start})))}return t},type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];var t;return this.options.autolink&&e.push((t={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate},new z({key:new B("autolink"),appendTransaction:(e,n,s)=>{const i=e.some((e=>e.docChanged))&&!n.doc.eq(s.doc),o=e.some((e=>e.getMeta("preventAutolink")));if(!i||o)return;const{tr:r}=s,a=J(n.doc,[...e]);return Q(a).forEach((({newRange:e})=>{const n=X(s.doc,e,(e=>e.isTextblock));let i,o;if(n.length>1?(i=n[0],o=s.doc.textBetween(i.pos,i.pos+i.node.nodeSize,void 0," ")):n.length&&s.doc.textBetween(e.from,e.to," "," ").endsWith(" ")&&(i=n[0],o=s.doc.textBetween(i.pos,e.to,void 0," ")),i&&o){const e=o.split(" ").filter((e=>""!==e));if(e.length<=0)return!1;const n=e[e.length-1],c=i.pos+o.lastIndexOf(n);if(!n)return!1;const l=fu(n).map((e=>e.toObject(t.defaultProtocol)));if(!(1===(a=l).length?a[0].isLink:3===a.length&&a[1].isLink&&["()","[]"].includes(a[0].value+a[2].value)))return!1;l.filter((e=>e.isLink)).map((e=>({...e,from:c+e.start+1,to:c+e.end+1}))).filter((e=>!s.schema.marks.code||!s.doc.rangeHasMark(e.from,e.to,s.schema.marks.code))).filter((e=>t.validate(e.value))).forEach((e=>{Y(e.from,e.to,s.doc).some((e=>e.mark.type===t.type))||r.addMark(e.from,e.to,t.type.create({href:e.href}))}))}var a})),r.steps.length?r:void 0}}))),!0===this.options.openOnClick&&e.push(function(e){return new z({key:new B("handleClickLink"),props:{handleClick:(t,n,s)=>{var i,o;if(0!==s.button)return!1;if(!t.editable)return!1;let r=s.target;const a=[];for(;"DIV"!==r.nodeName;)a.push(r),r=r.parentNode;if(!a.find((e=>"A"===e.nodeName)))return!1;const c=ee(t.state,e.type.name),l=s.target,u=null!==(i=null==l?void 0:l.href)&&void 0!==i?i:c.href,d=null!==(o=null==l?void 0:l.target)&&void 0!==o?o:c.target;return!(!l||!u||(window.open(u,d),0))}}})}({type:this.type})),this.options.linkOnPaste&&e.push(function(e){return new z({key:new B("handlePasteLink"),props:{handlePaste:(t,n,s)=>{const{state:i}=t,{selection:o}=i,{empty:r}=o;if(r)return!1;let a="";s.content.forEach((e=>{a+=e.textContent}));const c=gu(a,{defaultProtocol:e.defaultProtocol}).find((e=>e.isLink&&e.value===a));return!(!a||!c||(e.editor.commands.setMark(e.type,{href:c.href}),0))}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),vu=nc.extend({addInputRules(){return[new te({find:/^(?:---|-|___\s|\*\*\*\s)$/,handler:({state:e,range:t})=>{const{tr:n}=e,s=t.from,i=t.to;n.insert(s-1,this.type.create({})).delete(n.mapping.map(s),n.mapping.map(i))}})]}}),yu=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Cu=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Du=da.extend({addInputRules(){return[S({find:yu,type:this.type})]},addPasteRules(){return[F({find:Cu,type:this.type})]}}),Au=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))$/,wu=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))/g,Eu=ac.extend({addInputRules(){return[S({find:Au,type:this.type})]},addPasteRules(){return[F({find:wu,type:this.type})]}}),xu=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Su=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Fu=x.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",w(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[S({find:xu,type:this.type})]},addPasteRules(){return[F({find:Su,type:this.type})]}}),Lu=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))$/,Tu=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))/g,Mu=Fu.extend({addInputRules(){return[S({find:Lu,type:this.type})]},addPasteRules(){return[F({find:Tu,type:this.type})]}}),zu=x.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",w(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Bu=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Iu=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Nu=zu.extend({addInputRules(){return[S({find:Bu,type:this.type})]},addPasteRules(){return[F({find:Iu,type:this.type})]}}),Ou=/(?:^|\s)((?:~)((?:[^~]+))(?:~))$/,Hu=/(?:^|\s)((?:~)((?:[^~]+))(?:~))/g,ju=gc.extend({addInputRules(){return[S({find:Ou,type:this.type})]},addPasteRules(){return[F({find:Hu,type:this.type})]}}),Ru={};function Pu(e,t){"string"!=typeof t&&(t=Pu.defaultChars);const n=function(e){let t=Ru[e];if(t)return t;t=Ru[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);t.push(e)}for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);t[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,(function(e){let t="";for(let s=0,i=e.length;s<i;s+=3){const o=parseInt(e.slice(s+1,s+3),16);if(o<128)t+=n[o];else{if(192==(224&o)&&s+3<i){const n=parseInt(e.slice(s+4,s+6),16);if(128==(192&n)){const e=o<<6&1984|63&n;t+=e<128?"":String.fromCharCode(e),s+=3;continue}}if(224==(240&o)&&s+6<i){const n=parseInt(e.slice(s+4,s+6),16),i=parseInt(e.slice(s+7,s+9),16);if(128==(192&n)&&128==(192&i)){const e=o<<12&61440|n<<6&4032|63&i;t+=e<2048||e>=55296&&e<=57343?"":String.fromCharCode(e),s+=6;continue}}if(240==(248&o)&&s+9<i){const n=parseInt(e.slice(s+4,s+6),16),i=parseInt(e.slice(s+7,s+9),16),r=parseInt(e.slice(s+10,s+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&r)){let e=o<<18&1835008|n<<12&258048|i<<6&4032|63&r;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),s+=9;continue}}t+=""}}return t}))}Pu.defaultChars=";/?:@&=+$,#",Pu.componentChars="";const $u={};function qu(e,t,n){"string"!=typeof t&&(n=t,t=qu.defaultChars),void 0===n&&(n=!0);const s=function(e){let t=$u[e];if(t)return t;t=$u[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);/^[0-9a-z]$/i.test(e)?t.push(e):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let i="";for(let o=0,r=e.length;o<r;o++){const t=e.charCodeAt(o);if(n&&37===t&&o+2<r&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))i+=e.slice(o,o+3),o+=2;else if(t<128)i+=s[t];else if(t>=55296&&t<=57343){if(t>=55296&&t<=56319&&o+1<r){const t=e.charCodeAt(o+1);if(t>=56320&&t<=57343){i+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(e[o])}return i}function Vu(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Uu(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}qu.defaultChars=";/?:@&=+$,-_.!~*'()#",qu.componentChars="-_.!~*'()";const Zu=/^([a-z0-9.+-]+:)/i,Wu=/:[0-9]*$/,Gu=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ku=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Ju=["'"].concat(Ku),Qu=["%","/","?",";","#"].concat(Ju),Xu=["/","?","#"],Yu=/^[+a-z0-9A-Z_-]{0,63}$/,ed=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,td={javascript:!0,"javascript:":!0},nd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function sd(e,t){if(e&&e instanceof Uu)return e;const n=new Uu;return n.parse(e,t),n}Uu.prototype.parse=function(e,t){let n,s,i,o=e;if(o=o.trim(),!t&&1===e.split("#").length){const e=Gu.exec(o);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let r=Zu.exec(o);if(r&&(r=r[0],n=r.toLowerCase(),this.protocol=r,o=o.substr(r.length)),(t||r||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||r&&td[r]||(o=o.substr(2),this.slashes=!0)),!td[r]&&(i||r&&!nd[r])){let e,t,n=-1;for(let a=0;a<Xu.length;a++)s=o.indexOf(Xu[a]),-1!==s&&(-1===n||s<n)&&(n=s);t=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==t&&(e=o.slice(0,t),o=o.slice(t+1),this.auth=e),n=-1;for(let a=0;a<Qu.length;a++)s=o.indexOf(Qu[a]),-1!==s&&(-1===n||s<n)&&(n=s);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(Yu)){let s="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?s+="x":s+=n[e];if(!s.match(Yu)){const s=e.slice(0,t),i=e.slice(t+1),r=n.match(ed);r&&(s.push(r[1]),i.unshift(r[2])),i.length&&(o=i.join(".")+o),this.hostname=s.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const c=o.indexOf("?");return-1!==c&&(this.search=o.substr(c),o=o.slice(0,c)),o&&(this.pathname=o),nd[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Uu.prototype.parseHost=function(e){let t=Wu.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const id=Object.freeze(Object.defineProperty({__proto__:null,decode:Pu,encode:qu,format:Vu,parse:sd},Symbol.toStringTag,{value:"Module"})),od=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,rd=/[\0-\x1F\x7F-\x9F]/,ad=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,cd=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,ld=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ud=Object.freeze(Object.defineProperty({__proto__:null,Any:od,Cc:rd,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:ad,S:cd,Z:ld},Symbol.toStringTag,{value:"Module"})),dd=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e=>e.charCodeAt(0)))),hd=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((e=>e.charCodeAt(0))));var pd;const md=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fd=null!==(pd=String.fromCodePoint)&&void 0!==pd?pd:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var gd,kd;(kd=gd||(gd={}))[kd.NUM=35]="NUM",kd[kd.SEMI=59]="SEMI",kd[kd.EQUALS=61]="EQUALS",kd[kd.ZERO=48]="ZERO",kd[kd.NINE=57]="NINE",kd[kd.LOWER_A=97]="LOWER_A",kd[kd.LOWER_F=102]="LOWER_F",kd[kd.LOWER_X=120]="LOWER_X",kd[kd.LOWER_Z=122]="LOWER_Z",kd[kd.UPPER_A=65]="UPPER_A",kd[kd.UPPER_F=70]="UPPER_F",kd[kd.UPPER_Z=90]="UPPER_Z";var _d,bd,vd,yd,Cd,Dd;function Ad(e){return e>=gd.ZERO&&e<=gd.NINE}function wd(e){return e===gd.EQUALS||function(e){return e>=gd.UPPER_A&&e<=gd.UPPER_Z||e>=gd.LOWER_A&&e<=gd.LOWER_Z||Ad(e)}(e)}(bd=_d||(_d={}))[bd.VALUE_LENGTH=49152]="VALUE_LENGTH",bd[bd.BRANCH_LENGTH=16256]="BRANCH_LENGTH",bd[bd.JUMP_TABLE=127]="JUMP_TABLE",(yd=vd||(vd={}))[yd.EntityStart=0]="EntityStart",yd[yd.NumericStart=1]="NumericStart",yd[yd.NumericDecimal=2]="NumericDecimal",yd[yd.NumericHex=3]="NumericHex",yd[yd.NamedEntity=4]="NamedEntity",(Dd=Cd||(Cd={}))[Dd.Legacy=0]="Legacy",Dd[Dd.Strict=1]="Strict",Dd[Dd.Attribute=2]="Attribute";class Ed{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=vd.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Cd.Strict}startEntity(e){this.decodeMode=e,this.state=vd.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case vd.EntityStart:return e.charCodeAt(t)===gd.NUM?(this.state=vd.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=vd.NamedEntity,this.stateNamedEntity(e,t));case vd.NumericStart:return this.stateNumericStart(e,t);case vd.NumericDecimal:return this.stateNumericDecimal(e,t);case vd.NumericHex:return this.stateNumericHex(e,t);case vd.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===gd.LOWER_X?(this.state=vd.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=vd.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,s){if(t!==n){const i=n-t;this.result=this.result*Math.pow(s,i)+parseInt(e.substr(t,i),s),this.consumed+=i}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(!(Ad(i)||(s=i,s>=gd.UPPER_A&&s<=gd.UPPER_F||s>=gd.LOWER_A&&s<=gd.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3);t+=1}var s;return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!Ad(s))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(s,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===gd.SEMI)this.consumed+=1;else if(this.decodeMode===Cd.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=md.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==gd.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let s=n[this.treeIndex],i=(s&_d.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const o=e.charCodeAt(t);if(this.treeIndex=Sd(n,s,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return 0===this.result||this.decodeMode===Cd.Attribute&&(0===i||wd(o))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],i=(s&_d.VALUE_LENGTH)>>14,0!==i){if(o===gd.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Cd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,s=(n[t]&_d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,s,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:s}=this;return this.emitCodePoint(1===t?s[e]&~_d.VALUE_LENGTH:s[e+1],n),3===t&&this.emitCodePoint(s[e+2],n),n}end(){var e;switch(this.state){case vd.NamedEntity:return 0===this.result||this.decodeMode===Cd.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case vd.NumericDecimal:return this.emitNumericEntity(0,2);case vd.NumericHex:return this.emitNumericEntity(0,3);case vd.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case vd.EntityStart:return 0}}}function xd(e){let t="";const n=new Ed(e,(e=>t+=fd(e)));return function(e,s){let i=0,o=0;for(;(o=e.indexOf("&",o))>=0;){t+=e.slice(i,o),n.startEntity(s);const r=n.write(e,o+1);if(r<0){i=o+n.end();break}i=o+r,o=0===r?i+1:i}const r=t+e.slice(i);return t="",r}}function Sd(e,t,n,s){const i=(t&_d.BRANCH_LENGTH)>>7,o=t&_d.JUMP_TABLE;if(0===i)return 0!==o&&s===o?n:-1;if(o){const t=s-o;return t<0||t>=i?-1:e[n+t]-1}let r=n,a=r+i-1;for(;r<=a;){const t=r+a>>>1,n=e[t];if(n<s)r=t+1;else{if(!(n>s))return e[t+i];a=t-1}}return-1}const Fd=xd(dd);function Ld(e,t=Cd.Legacy){return Fd(e,t)}function Td(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}xd(hd);const Md=Object.prototype.hasOwnProperty;function zd(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}function Bd(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Id(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(!!(65535&~e&&65534!=(65535&e))&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function Nd(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const Od=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Hd=new RegExp(Od.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),jd=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Rd(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Hd,(function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&jd.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Id(n)?Nd(n):e}const n=Ld(e);return n!==e?n:e}(e,n)}))}const Pd=/[&<>"]/,$d=/[&<>"]/g,qd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Vd(e){return qd[e]}function Ud(e){return Pd.test(e)?e.replace($d,Vd):e}const Zd=/[.?*+^$[\]\\(){}|-]/g;function Wd(e){switch(e){case 9:case 32:return!0}return!1}function Gd(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Kd(e){return ad.test(e)||cd.test(e)}function Jd(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Qd(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const Xd={mdurl:id,ucmicro:ud},Yd=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Bd,assign:zd,escapeHtml:Ud,escapeRE:function(e){return e.replace(Zd,"\\$&")},fromCodePoint:Nd,has:function(e,t){return Md.call(e,t)},isMdAsciiPunct:Jd,isPunctChar:Kd,isSpace:Wd,isString:Td,isValidEntityCode:Id,isWhiteSpace:Gd,lib:Xd,normalizeReference:Qd,unescapeAll:Rd,unescapeMd:function(e){return e.indexOf("\\")<0?e:e.replace(Od,"$1")}},Symbol.toStringTag,{value:"Module"}));const eh=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(e,t,n){let s,i=t;const o={ok:!1,pos:0,str:""};if(60===e.charCodeAt(i)){for(i++;i<n;){if(s=e.charCodeAt(i),10===s)return o;if(60===s)return o;if(62===s)return o.pos=i+1,o.str=Rd(e.slice(t+1,i)),o.ok=!0,o;92===s&&i+1<n?i+=2:i++}return o}let r=0;for(;i<n&&(s=e.charCodeAt(i),32!==s)&&!(s<32||127===s);)if(92===s&&i+1<n){if(32===e.charCodeAt(i+1))break;i+=2}else{if(40===s&&(r++,r>32))return o;if(41===s){if(0===r)break;r--}i++}return t===i||0!==r||(o.str=Rd(e.slice(t,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(e,t,n){let s,i,o,r;const a=e.posMax,c=e.pos;for(e.pos=t+1,s=1;e.pos<a;){if(o=e.src.charCodeAt(e.pos),93===o&&(s--,0===s)){i=!0;break}if(r=e.pos,e.md.inline.skipToken(e),91===o)if(r===e.pos-1)s++;else if(n)return e.pos=c,-1}let l=-1;return i&&(l=e.pos),e.pos=c,l},parseLinkTitle:function(e,t,n,s){let i,o=t;const r={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)r.str=s.str,r.marker=s.marker;else{if(o>=n)return r;let s=e.charCodeAt(o);if(34!==s&&39!==s&&40!==s)return r;t++,o++,40===s&&(s=41),r.marker=s}for(;o<n;){if(i=e.charCodeAt(o),i===r.marker)return r.pos=o+1,r.str+=Rd(e.slice(t,o)),r.ok=!0,r;if(40===i&&41===r.marker)return r;92===i&&o+1<n&&o++,o++}return r.can_continue=!0,r.str+=Rd(e.slice(t,o)),r}},Symbol.toStringTag,{value:"Module"})),th={};function nh(){this.rules=zd({},th)}function sh(){this.__rules__=[],this.__cache__=null}function ih(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function oh(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}th.code_inline=function(e,t,n,s,i){const o=e[t];return"<code"+i.renderAttrs(o)+">"+Ud(o.content)+"</code>"},th.code_block=function(e,t,n,s,i){const o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+Ud(e[t].content)+"</code></pre>\n"},th.fence=function(e,t,n,s,i){const o=e[t],r=o.info?Rd(o.info).trim():"";let a,c="",l="";if(r){const e=r.split(/(\s+)/g);c=e[0],l=e.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,c,l)||Ud(o.content),0===a.indexOf("<pre"))return a+"\n";if(r){const e=o.attrIndex("class"),t=o.attrs?o.attrs.slice():[];e<0?t.push(["class",n.langPrefix+c]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+c);const s={attrs:t};return`<pre><code${i.renderAttrs(s)}>${a}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${a}</code></pre>\n`},th.image=function(e,t,n,s,i){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,s),i.renderToken(e,t,n)},th.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},th.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},th.text=function(e,t){return Ud(e[t].content)},th.html_block=function(e,t){return e[t].content},th.html_inline=function(e,t){return e[t].content},nh.prototype.renderAttrs=function(e){let t,n,s;if(!e.attrs)return"";for(s="",t=0,n=e.attrs.length;t<n;t++)s+=" "+Ud(e.attrs[t][0])+'="'+Ud(e.attrs[t][1])+'"';return s},nh.prototype.renderToken=function(e,t,n){const s=e[t];let i="";if(s.hidden)return"";s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(s.block&&(o=!0,1===s.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===s.tag)&&(o=!1)}return i+=o?">\n":">",i},nh.prototype.renderInline=function(e,t,n){let s="";const i=this.rules;for(let o=0,r=e.length;o<r;o++){const r=e[o].type;void 0!==i[r]?s+=i[r](e,o,t,n,this):s+=this.renderToken(e,o,t)}return s},nh.prototype.renderInlineAsText=function(e,t,n){let s="";for(let i=0,o=e.length;i<o;i++)switch(e[i].type){case"text":case"html_inline":case"html_block":s+=e[i].content;break;case"image":s+=this.renderInlineAsText(e[i].children,t,n);break;case"softbreak":case"hardbreak":s+="\n"}return s},nh.prototype.render=function(e,t,n){let s="";const i=this.rules;for(let o=0,r=e.length;o<r;o++){const r=e[o].type;"inline"===r?s+=this.renderInline(e[o].children,t,n):void 0!==i[r]?s+=i[r](e,o,t,n,this):s+=this.renderToken(e,o,t,n)}return s},sh.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},sh.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},sh.prototype.at=function(e,t,n){const s=this.__find__(e),i=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__[s].fn=t,this.__rules__[s].alt=i.alt||[],this.__cache__=null},sh.prototype.before=function(e,t,n,s){const i=this.__find__(e),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},sh.prototype.after=function(e,t,n,s){const i=this.__find__(e),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},sh.prototype.push=function(e,t,n){const s=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:s.alt||[]}),this.__cache__=null},sh.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const s=this.__find__(e);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[s].enabled=!0,n.push(e)}),this),this.__cache__=null,n},sh.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},sh.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const s=this.__find__(e);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[s].enabled=!1,n.push(e)}),this),this.__cache__=null,n},sh.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},ih.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,s=t.length;n<s;n++)if(t[n][0]===e)return n;return-1},ih.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},ih.prototype.attrSet=function(e,t){const n=this.attrIndex(e),s=[e,t];n<0?this.attrPush(s):this.attrs[n]=s},ih.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},ih.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},oh.prototype.Token=ih;const rh=/\r\n?|\n/g,ah=/\0/g;function ch(e){return/^<\/a\s*>/i.test(e)}const lh=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,uh=/\((c|tm|r)\)/i,dh=/\((c|tm|r)\)/gi,hh={c:"",r:"",tm:""};function ph(e,t){return hh[t.toLowerCase()]}function mh(e){let t=0;for(let n=e.length-1;n>=0;n--){const s=e[n];"text"!==s.type||t||(s.content=s.content.replace(dh,ph)),"link_open"===s.type&&"auto"===s.info&&t--,"link_close"===s.type&&"auto"===s.info&&t++}}function fh(e){let t=0;for(let n=e.length-1;n>=0;n--){const s=e[n];"text"!==s.type||t||lh.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===s.type&&"auto"===s.info&&t--,"link_close"===s.type&&"auto"===s.info&&t++}}const gh=/['"]/,kh=/['"]/g,_h="";function bh(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function vh(e,t){let n;const s=[];for(let i=0;i<e.length;i++){const o=e[i],r=e[i].level;for(n=s.length-1;n>=0&&!(s[n].level<=r);n--);if(s.length=n+1,"text"!==o.type)continue;let a=o.content,c=0,l=a.length;e:for(;c<l;){kh.lastIndex=c;const u=kh.exec(a);if(!u)break;let d=!0,h=!0;c=u.index+1;const p="'"===u[0];let m=32;if(u.index-1>=0)m=a.charCodeAt(u.index-1);else for(n=i-1;n>=0&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n--)if(e[n].content){m=e[n].content.charCodeAt(e[n].content.length-1);break}let f=32;if(c<l)f=a.charCodeAt(c);else for(n=i+1;n<e.length&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n++)if(e[n].content){f=e[n].content.charCodeAt(0);break}const g=Jd(m)||Kd(String.fromCharCode(m)),k=Jd(f)||Kd(String.fromCharCode(f)),_=Gd(m),b=Gd(f);if(b?d=!1:k&&(_||g||(d=!1)),_?h=!1:g&&(b||k||(h=!1)),34===f&&'"'===u[0]&&m>=48&&m<=57&&(h=d=!1),d&&h&&(d=g,h=k),d||h){if(h)for(n=s.length-1;n>=0;n--){let d=s[n];if(s[n].level<r)break;if(d.single===p&&s[n].level===r){let r,h;d=s[n],p?(r=t.md.options.quotes[2],h=t.md.options.quotes[3]):(r=t.md.options.quotes[0],h=t.md.options.quotes[1]),o.content=bh(o.content,u.index,h),e[d.token].content=bh(e[d.token].content,d.pos,r),c+=h.length-1,d.token===i&&(c+=r.length-1),a=o.content,l=a.length,s.length=n;continue e}}d?s.push({token:i,pos:u.index,single:p,level:r}):h&&p&&(o.content=bh(o.content,u.index,_h))}else p&&(o.content=bh(o.content,u.index,_h))}}}const yh=[["normalize",function(e){let t;t=e.src.replace(rh,"\n"),t=t.replace(ah,""),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,s=t.length;n<s;n++){const s=t[n];"inline"===s.type&&e.md.inline.parse(s.content,e.md,e.env,s.children)}}],["linkify",function(e){const t=e.tokens;var n;if(e.md.options.linkify)for(let s=0,i=t.length;s<i;s++){if("inline"!==t[s].type||!e.md.linkify.pretest(t[s].content))continue;let i=t[s].children,o=0;for(let r=i.length-1;r>=0;r--){const a=i[r];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,ch(a.content)&&o++),!(o>0)&&"text"===a.type&&e.md.linkify.test(a.content)){const n=a.content;let o=e.md.linkify.match(n);const c=[];let l=a.level,u=0;o.length>0&&0===o[0].index&&r>0&&"text_special"===i[r-1].type&&(o=o.slice(1));for(let t=0;t<o.length;t++){const s=o[t].url,i=e.md.normalizeLink(s);if(!e.md.validateLink(i))continue;let r=o[t].text;r=o[t].schema?"mailto:"!==o[t].schema||/^mailto:/i.test(r)?e.md.normalizeLinkText(r):e.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"");const a=o[t].index;if(a>u){const t=new e.Token("text","",0);t.content=n.slice(u,a),t.level=l,c.push(t)}const d=new e.Token("link_open","a",1);d.attrs=[["href",i]],d.level=l++,d.markup="linkify",d.info="auto",c.push(d);const h=new e.Token("text","",0);h.content=r,h.level=l,c.push(h);const p=new e.Token("link_close","a",-1);p.level=--l,p.markup="linkify",p.info="auto",c.push(p),u=o[t].lastIndex}if(u<n.length){const t=new e.Token("text","",0);t.content=n.slice(u),t.level=l,c.push(t)}t[s].children=i=Bd(i,r,c)}}else for(r--;i[r].level!==a.level&&"link_open"!==i[r].type;)r--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(uh.test(e.tokens[t].content)&&mh(e.tokens[t].children),lh.test(e.tokens[t].content)&&fh(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&gh.test(e.tokens[t].content)&&vh(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const s=e.tokens,i=s.length;for(let o=0;o<i;o++){if("inline"!==s[o].type)continue;const e=s[o].children,i=e.length;for(t=0;t<i;t++)"text_special"===e[t].type&&(e[t].type="text");for(t=n=0;t<i;t++)"text"===e[t].type&&t+1<i&&"text"===e[t+1].type?e[t+1].content=e[t].content+e[t+1].content:(t!==n&&(e[n]=e[t]),n++);t!==n&&(e.length=n)}}]];function Ch(){this.ruler=new sh;for(let e=0;e<yh.length;e++)this.ruler.push(yh[e][0],yh[e][1])}function Dh(e,t,n,s){this.src=e,this.md=t,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,r=0,a=0,c=0,l=i.length,u=!1;r<l;r++){const e=i.charCodeAt(r);if(!u){if(Wd(e)){a++,9===e?c+=4-c%4:c++;continue}u=!0}10!==e&&r!==l-1||(10!==e&&r++,this.bMarks.push(o),this.eMarks.push(r),this.tShift.push(a),this.sCount.push(c),this.bsCount.push(0),u=!1,a=0,c=0,o=r+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ch.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,s=t.length;n<s;n++)t[n](e)},Ch.prototype.State=oh,Dh.prototype.push=function(e,t,n){const s=new ih(e,t,n);return s.block=!0,n<0&&this.level--,s.level=this.level,n>0&&this.level++,this.tokens.push(s),s},Dh.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},Dh.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},Dh.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!Wd(this.src.charCodeAt(e)))break}return e},Dh.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Wd(this.src.charCodeAt(--e)))return e+1;return e},Dh.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},Dh.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},Dh.prototype.getLines=function(e,t,n,s){if(e>=t)return"";const i=new Array(t-e);for(let o=0,r=e;r<t;r++,o++){let e=0;const a=this.bMarks[r];let c,l=a;for(c=r+1<t||s?this.eMarks[r]+1:this.eMarks[r];l<c&&e<n;){const t=this.src.charCodeAt(l);if(Wd(t))9===t?e+=4-(e+this.bsCount[r])%4:e++;else{if(!(l-a<this.tShift[r]))break;e++}l++}i[o]=e>n?new Array(e-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return i.join("")},Dh.prototype.Token=ih;function Ah(e,t){const n=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];return e.src.slice(n,s)}function wh(e){const t=[],n=e.length;let s=0,i=e.charCodeAt(s),o=!1,r=0,a="";for(;s<n;)124===i&&(o?(a+=e.substring(r,s-1),r=s):(t.push(a+e.substring(r,s)),a="",r=s+1)),o=92===i,s++,i=e.charCodeAt(s);return t.push(a+e.substring(r)),t}function Eh(e,t){const n=e.eMarks[t];let s=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(s++);if(42!==i&&45!==i&&43!==i)return-1;if(s<n){if(!Wd(e.src.charCodeAt(s)))return-1}return s}function xh(e,t){const n=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];let i=n;if(i+1>=s)return-1;let o=e.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=s)return-1;if(o=e.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<s&&(o=e.src.charCodeAt(i),!Wd(o))?-1:i}const Sh="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",Fh="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Lh=new RegExp("^(?:"+Sh+"|"+Fh+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),Th=new RegExp("^(?:"+Sh+"|"+Fh+")"),Mh=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Th.source+"\\s*$"),/^$/,!1]];const zh=[["table",function(e,t,n,s){if(t+2>n)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent)return!1;if(e.sCount[i]-e.blkIndent>=4)return!1;let o=e.bMarks[i]+e.tShift[i];if(o>=e.eMarks[i])return!1;const r=e.src.charCodeAt(o++);if(124!==r&&45!==r&&58!==r)return!1;if(o>=e.eMarks[i])return!1;const a=e.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!Wd(a))return!1;if(45===r&&Wd(a))return!1;for(;o<e.eMarks[i];){const t=e.src.charCodeAt(o);if(124!==t&&45!==t&&58!==t&&!Wd(t))return!1;o++}let c=Ah(e,t+1),l=c.split("|");const u=[];for(let k=0;k<l.length;k++){const e=l[k].trim();if(!e){if(0===k||k===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?u.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?u.push("left"):u.push("")}if(c=Ah(e,t).trim(),-1===c.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;l=wh(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop();const d=l.length;if(0===d||d!==u.length)return!1;if(s)return!0;const h=e.parentType;e.parentType="table";const p=e.md.block.ruler.getRules("blockquote"),m=[t,0];e.push("table_open","table",1).map=m,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let k=0;k<l.length;k++){const t=e.push("th_open","th",1);u[k]&&(t.attrs=[["style","text-align:"+u[k]]]);const n=e.push("inline","",0);n.content=l[k].trim(),n.children=[],e.push("th_close","th",-1)}let f;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let g=0;for(i=t+2;i<n&&!(e.sCount[i]<e.blkIndent);i++){let s=!1;for(let t=0,o=p.length;t<o;t++)if(p[t](e,i,n,!0)){s=!0;break}if(s)break;if(c=Ah(e,i).trim(),!c)break;if(e.sCount[i]-e.blkIndent>=4)break;if(l=wh(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop(),g+=d-l.length,g>65536)break;if(i===t+2){e.push("tbody_open","tbody",1).map=f=[t+2,0]}e.push("tr_open","tr",1).map=[i,i+1];for(let t=0;t<d;t++){const n=e.push("td_open","td",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const s=e.push("inline","",0);s.content=l[t]?l[t].trim():"",s.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return f&&(e.push("tbody_close","tbody",-1),f[1]=i),e.push("table_close","table",-1),m[1]=i,e.parentType=h,e.line=i,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let s=t+1,i=s;for(;s<n;)if(e.isEmpty(s))s++;else{if(!(e.sCount[s]-e.blkIndent>=4))break;s++,i=s}e.line=i;const o=e.push("code_block","code",0);return o.content=e.getLines(t,i,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}],["fence",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(i+3>o)return!1;const r=e.src.charCodeAt(i);if(126!==r&&96!==r)return!1;let a=i;i=e.skipChars(i,r);let c=i-a;if(c<3)return!1;const l=e.src.slice(a,i),u=e.src.slice(i,o);if(96===r&&u.indexOf(String.fromCharCode(r))>=0)return!1;if(s)return!0;let d=t,h=!1;for(;(d++,!(d>=n))&&(i=a=e.bMarks[d]+e.tShift[d],o=e.eMarks[d],!(i<o&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(i)===r&&!(e.sCount[d]-e.blkIndent>=4||(i=e.skipChars(i,r),i-a<c||(i=e.skipSpaces(i),i<o)))){h=!0;break}c=e.sCount[t],e.line=d+(h?1:0);const p=e.push("fence","code",0);return p.info=u,p.content=e.getLines(t+1,d,c,!0),p.markup=l,p.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const r=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(i))return!1;if(s)return!0;const a=[],c=[],l=[],u=[],d=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let p,m=!1;for(p=t;p<n;p++){const t=e.sCount[p]<e.blkIndent;if(i=e.bMarks[p]+e.tShift[p],o=e.eMarks[p],i>=o)break;if(62===e.src.charCodeAt(i++)&&!t){let t,n,s=e.sCount[p]+1;32===e.src.charCodeAt(i)?(i++,s++,n=!1,t=!0):9===e.src.charCodeAt(i)?(t=!0,(e.bsCount[p]+s)%4==3?(i++,s++,n=!1):n=!0):t=!1;let r=s;for(a.push(e.bMarks[p]),e.bMarks[p]=i;i<o;){const t=e.src.charCodeAt(i);if(!Wd(t))break;9===t?r+=4-(r+e.bsCount[p]+(n?1:0))%4:r++,i++}m=i>=o,c.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(t?1:0),l.push(e.sCount[p]),e.sCount[p]=r-s,u.push(e.tShift[p]),e.tShift[p]=i-e.bMarks[p];continue}if(m)break;let s=!1;for(let i=0,o=d.length;i<o;i++)if(d[i](e,p,n,!0)){s=!0;break}if(s){e.lineMax=p,0!==e.blkIndent&&(a.push(e.bMarks[p]),c.push(e.bsCount[p]),u.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}a.push(e.bMarks[p]),c.push(e.bsCount[p]),u.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]=-1}const f=e.blkIndent;e.blkIndent=0;const g=e.push("blockquote_open","blockquote",1);g.markup=">";const k=[t,0];g.map=k,e.md.block.tokenize(e,t,p),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=r,e.parentType=h,k[1]=e.line;for(let _=0;_<u.length;_++)e.bMarks[_+t]=a[_],e.tShift[_+t]=u[_],e.sCount[_+t]=l[_],e.bsCount[_+t]=c[_];return e.blkIndent=f,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,s){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const r=e.src.charCodeAt(o++);if(42!==r&&45!==r&&95!==r)return!1;let a=1;for(;o<i;){const t=e.src.charCodeAt(o++);if(t!==r&&!Wd(t))return!1;t===r&&a++}if(a<3)return!1;if(s)return!0;e.line=t+1;const c=e.push("hr","hr",0);return c.map=[t,e.line],c.markup=Array(a+1).join(String.fromCharCode(r)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,s){let i,o,r,a,c=t,l=!0;if(e.sCount[c]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[c]-e.listIndent>=4&&e.sCount[c]<e.blkIndent)return!1;let u,d,h,p=!1;if(s&&"paragraph"===e.parentType&&e.sCount[c]>=e.blkIndent&&(p=!0),(h=xh(e,c))>=0){if(u=!0,r=e.bMarks[c]+e.tShift[c],d=Number(e.src.slice(r,h-1)),p&&1!==d)return!1}else{if(!((h=Eh(e,c))>=0))return!1;u=!1}if(p&&e.skipSpaces(h)>=e.eMarks[c])return!1;if(s)return!0;const m=e.src.charCodeAt(h-1),f=e.tokens.length;u?(a=e.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=e.push("bullet_list_open","ul",1);const g=[c,0];a.map=g,a.markup=String.fromCharCode(m);let k=!1;const _=e.md.block.ruler.getRules("list"),b=e.parentType;for(e.parentType="list";c<n;){o=h,i=e.eMarks[c];const t=e.sCount[c]+h-(e.bMarks[c]+e.tShift[c]);let s=t;for(;o<i;){const t=e.src.charCodeAt(o);if(9===t)s+=4-(s+e.bsCount[c])%4;else{if(32!==t)break;s++}o++}const d=o;let p;p=d>=i?1:s-t,p>4&&(p=1);const f=t+p;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const g=[c,0];a.map=g,u&&(a.info=e.src.slice(r,h-1));const b=e.tight,v=e.tShift[c],y=e.sCount[c],C=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=f,e.tight=!0,e.tShift[c]=d-e.bMarks[c],e.sCount[c]=s,d>=i&&e.isEmpty(c+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,c,n,!0),e.tight&&!k||(l=!1),k=e.line-c>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=C,e.tShift[c]=v,e.sCount[c]=y,e.tight=b,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),c=e.line,g[1]=c,c>=n)break;if(e.sCount[c]<e.blkIndent)break;if(e.sCount[c]-e.blkIndent>=4)break;let D=!1;for(let i=0,o=_.length;i<o;i++)if(_[i](e,c,n,!0)){D=!0;break}if(D)break;if(u){if(h=xh(e,c),h<0)break;r=e.bMarks[c]+e.tShift[c]}else if(h=Eh(e,c),h<0)break;if(m!==e.src.charCodeAt(h-1))break}return a=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),g[1]=c,e.line=c,e.parentType=b,l&&function(e,t){const n=e.level+2;for(let s=t+2,i=e.tokens.length-2;s<i;s++)e.tokens[s].level===n&&"paragraph_open"===e.tokens[s].type&&(e.tokens[s+2].hidden=!0,e.tokens[s].hidden=!0,s+=2)}(e,f),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],r=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(i))return!1;function a(t){const n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let s=!1;if(e.sCount[t]-e.blkIndent>3&&(s=!0),e.sCount[t]<0&&(s=!0),!s){const s=e.md.block.ruler.getRules("reference"),i=e.parentType;e.parentType="reference";let o=!1;for(let r=0,a=s.length;r<a;r++)if(s[r](e,t,n,!0)){o=!0;break}if(e.parentType=i,o)return null}const i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(i,o+1)}let c=e.src.slice(i,o+1);o=c.length;let l=-1;for(i=1;i<o;i++){const e=c.charCodeAt(i);if(91===e)return!1;if(93===e){l=i;break}if(10===e){const e=a(r);null!==e&&(c+=e,o=c.length,r++)}else if(92===e&&(i++,i<o&&10===c.charCodeAt(i))){const e=a(r);null!==e&&(c+=e,o=c.length,r++)}}if(l<0||58!==c.charCodeAt(l+1))return!1;for(i=l+2;i<o;i++){const e=c.charCodeAt(i);if(10===e){const e=a(r);null!==e&&(c+=e,o=c.length,r++)}else if(!Wd(e))break}const u=e.md.helpers.parseLinkDestination(c,i,o);if(!u.ok)return!1;const d=e.md.normalizeLink(u.str);if(!e.md.validateLink(d))return!1;i=u.pos;const h=i,p=r,m=i;for(;i<o;i++){const e=c.charCodeAt(i);if(10===e){const e=a(r);null!==e&&(c+=e,o=c.length,r++)}else if(!Wd(e))break}let f,g=e.md.helpers.parseLinkTitle(c,i,o);for(;g.can_continue;){const t=a(r);if(null===t)break;c+=t,i=o,o=c.length,r++,g=e.md.helpers.parseLinkTitle(c,i,o,g)}for(i<o&&m!==i&&g.ok?(f=g.str,i=g.pos):(f="",i=h,r=p);i<o;){if(!Wd(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i)&&f)for(f="",i=h,r=p;i<o;){if(!Wd(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i))return!1;const k=Qd(c.slice(1,l));return!!k&&(s||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[k]&&(e.env.references[k]={title:f,href:d}),e.line=r),!0)}],["html_block",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(i))return!1;let r=e.src.slice(i,o),a=0;for(;a<Mh.length&&!Mh[a][0].test(r);a++);if(a===Mh.length)return!1;if(s)return Mh[a][2];let c=t+1;if(!Mh[a][1].test(r))for(;c<n&&!(e.sCount[c]<e.blkIndent);c++)if(i=e.bMarks[c]+e.tShift[c],o=e.eMarks[c],r=e.src.slice(i,o),Mh[a][1].test(r)){0!==r.length&&c++;break}e.line=c;const l=e.push("html_block","",0);return l.map=[t,c],l.content=e.getLines(t,c,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let r=e.src.charCodeAt(i);if(35!==r||i>=o)return!1;let a=1;for(r=e.src.charCodeAt(++i);35===r&&i<o&&a<=6;)a++,r=e.src.charCodeAt(++i);if(a>6||i<o&&!Wd(r))return!1;if(s)return!0;o=e.skipSpacesBack(o,i);const c=e.skipCharsBack(o,35,i);c>i&&Wd(e.src.charCodeAt(c-1))&&(o=c),e.line=t+1;const l=e.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[t,e.line];const u=e.push("inline","",0);return u.content=e.src.slice(i,o).trim(),u.map=[t,e.line],u.children=[],e.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const s=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let o,r=0,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let t=e.bMarks[a]+e.tShift[a];const n=e.eMarks[a];if(t<n&&(o=e.src.charCodeAt(t),(45===o||61===o)&&(t=e.skipChars(t,o),t=e.skipSpaces(t),t>=n))){r=61===o?1:2;break}}if(e.sCount[a]<0)continue;let t=!1;for(let i=0,o=s.length;i<o;i++)if(s[i](e,a,n,!0)){t=!0;break}if(t)break}if(!r)return!1;const c=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const l=e.push("heading_open","h"+String(r),1);l.markup=String.fromCharCode(o),l.map=[t,e.line];const u=e.push("inline","",0);return u.content=c,u.map=[t,e.line-1],u.children=[],e.push("heading_close","h"+String(r),-1).markup=String.fromCharCode(o),e.parentType=i,!0}],["paragraph",function(e,t,n){const s=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]<0)continue;let t=!1;for(let i=0,r=s.length;i<r;i++)if(s[i](e,o,n,!0)){t=!0;break}if(t)break}const r=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o,e.push("paragraph_open","p",1).map=[t,e.line];const a=e.push("inline","",0);return a.content=r,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}]];function Bh(){this.ruler=new sh;for(let e=0;e<zh.length;e++)this.ruler.push(zh[e][0],zh[e][1],{alt:(zh[e][2]||[]).slice()})}function Ih(e,t,n,s){this.src=e,this.env=n,this.md=t,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function Nh(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}Bh.prototype.tokenize=function(e,t,n){const s=this.ruler.getRules(""),i=s.length,o=e.md.options.maxNesting;let r=t,a=!1;for(;r<n&&(e.line=r=e.skipEmptyLines(r),!(r>=n))&&!(e.sCount[r]<e.blkIndent);){if(e.level>=o){e.line=n;break}const t=e.line;let c=!1;for(let o=0;o<i;o++)if(c=s[o](e,r,n,!1),c){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),r=e.line,r<n&&e.isEmpty(r)&&(a=!0,r++,e.line=r)}},Bh.prototype.parse=function(e,t,n,s){if(!e)return;const i=new this.State(e,t,n,s);this.tokenize(i,i.line,i.lineMax)},Bh.prototype.State=Dh,Ih.prototype.pushPending=function(){const e=new ih("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},Ih.prototype.push=function(e,t,n){this.pending&&this.pushPending();const s=new ih(e,t,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(i),s},Ih.prototype.scanDelims=function(e,t){const n=this.posMax,s=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<n&&this.src.charCodeAt(o)===s;)o++;const r=o-e,a=o<n?this.src.charCodeAt(o):32,c=Jd(i)||Kd(String.fromCharCode(i)),l=Jd(a)||Kd(String.fromCharCode(a)),u=Gd(i),d=Gd(a),h=!d&&(!l||u||c),p=!u&&(!c||d||l);return{can_open:h&&(t||!p||c),can_close:p&&(t||!h||l),length:r}},Ih.prototype.Token=ih;const Oh=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const Hh=[];for(let m=0;m<256;m++)Hh.push(0);function jh(e,t){let n;const s=[],i=t.length;for(let o=0;o<i;o++){const i=t[o];if(126!==i.marker)continue;if(-1===i.end)continue;const r=t[i.end];n=e.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[r.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[r.token-1].type&&"~"===e.tokens[r.token-1].content&&s.push(r.token-1)}for(;s.length;){const t=s.pop();let i=t+1;for(;i<e.tokens.length&&"s_close"===e.tokens[i].type;)i++;i--,t!==i&&(n=e.tokens[i],e.tokens[i]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){Hh[e.charCodeAt(0)]=1}));const Rh={tokenize:function(e,t){const n=e.pos,s=e.src.charCodeAt(n);if(t)return!1;if(126!==s)return!1;const i=e.scanDelims(e.pos,!0);let o=i.length;const r=String.fromCharCode(s);if(o<2)return!1;let a;o%2&&(a=e.push("text","",0),a.content=r,o--);for(let c=0;c<o;c+=2)a=e.push("text","",0),a.content=r+r,e.delimiters.push({marker:s,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;jh(e,e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&jh(e,t[s].delimiters)}};function Ph(e,t){for(let n=t.length-1;n>=0;n--){const s=t[n];if(95!==s.marker&&42!==s.marker)continue;if(-1===s.end)continue;const i=t[s.end],o=n>0&&t[n-1].end===s.end+1&&t[n-1].marker===s.marker&&t[n-1].token===s.token-1&&t[s.end+1].token===i.token+1,r=String.fromCharCode(s.marker),a=e.tokens[s.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?r+r:r,a.content="";const c=e.tokens[i.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?r+r:r,c.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[s.end+1].token].content="",n--)}}const $h={tokenize:function(e,t){const n=e.pos,s=e.src.charCodeAt(n);if(t)return!1;if(95!==s&&42!==s)return!1;const i=e.scanDelims(e.pos,42===s);for(let o=0;o<i.length;o++){e.push("text","",0).content=String.fromCharCode(s),e.delimiters.push({marker:s,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ph(e,e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&Ph(e,t[s].delimiters)}};const qh=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Vh=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const Uh=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Zh=/^&([a-z][a-z0-9]{1,31});/i;function Wh(e){const t={},n=e.length;if(!n)return;let s=0,i=-2;const o=[];for(let r=0;r<n;r++){const n=e[r];if(o.push(0),e[s].marker===n.marker&&i===n.token-1||(s=r),i=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[n.marker][(n.open?3:0)+n.length%3];let c=s-o[s]-1,l=c;for(;c>a;c-=o[c]+1){const t=e[c];if(t.marker===n.marker&&(t.open&&t.end<0)){let s=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3==0&&n.length%3==0||(s=!0)),!s){const s=c>0&&!e[c-1].open?o[c-1]+1:0;o[r]=r-c+s,o[c]=s,n.open=!1,t.end=r,t.close=!1,l=-1,i=-2;break}}}-1!==l&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=l)}}const Gh=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!Nh(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const s=e.pending.match(Oh);if(!s)return!1;const i=s[1],o=e.md.linkify.matchAtStart(e.src.slice(n-i.length));if(!o)return!1;let r=o.url;if(r.length<=i.length)return!1;r=r.replace(/\*+$/,"");const a=e.md.normalizeLink(r);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);const t=e.push("link_open","a",1);t.attrs=[["href",a]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(r);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=r.length-i.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const s=e.pending.length-1,i=e.posMax;if(!t)if(s>=0&&32===e.pending.charCodeAt(s))if(s>=1&&32===e.pending.charCodeAt(s-1)){let t=s-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&Wd(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const s=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=s)return!1;let i=e.src.charCodeAt(n);if(10===i){for(t||e.push("hardbreak","br",0),n++;n<s&&(i=e.src.charCodeAt(n),Wd(i));)n++;return e.pos=n,!0}let o=e.src[n];if(i>=55296&&i<=56319&&n+1<s){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(o+=e.src[n+1],n++)}const r="\\"+o;if(!t){const t=e.push("text_special","",0);i<256&&0!==Hh[i]?t.content=o:t.content=r,t.markup=r,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const s=n;n++;const i=e.posMax;for(;n<i&&96===e.src.charCodeAt(n);)n++;const o=e.src.slice(s,n),r=o.length;if(e.backticksScanned&&(e.backticks[r]||0)<=s)return t||(e.pending+=o),e.pos+=r,!0;let a,c=n;for(;-1!==(a=e.src.indexOf("`",c));){for(c=a+1;c<i&&96===e.src.charCodeAt(c);)c++;const s=c-a;if(s===r){if(!t){const t=e.push("code_inline","code",0);t.markup=o,t.content=e.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=c,!0}e.backticks[s]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=r,!0}],["strikethrough",Rh.tokenize],["emphasis",$h.tokenize],["link",function(e,t){let n,s,i,o,r="",a="",c=e.pos,l=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const u=e.pos,d=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let m=p+1;if(m<d&&40===e.src.charCodeAt(m)){for(l=!1,m++;m<d&&(n=e.src.charCodeAt(m),Wd(n)||10===n);m++);if(m>=d)return!1;if(c=m,i=e.md.helpers.parseLinkDestination(e.src,m,e.posMax),i.ok){for(r=e.md.normalizeLink(i.str),e.md.validateLink(r)?m=i.pos:r="",c=m;m<d&&(n=e.src.charCodeAt(m),Wd(n)||10===n);m++);if(i=e.md.helpers.parseLinkTitle(e.src,m,e.posMax),m<d&&c!==m&&i.ok)for(a=i.str,m=i.pos;m<d&&(n=e.src.charCodeAt(m),Wd(n)||10===n);m++);}(m>=d||41!==e.src.charCodeAt(m))&&(l=!0),m++}if(l){if(void 0===e.env.references)return!1;if(m<d&&91===e.src.charCodeAt(m)?(c=m+1,m=e.md.helpers.parseLinkLabel(e,m),m>=0?s=e.src.slice(c,m++):m=p+1):m=p+1,s||(s=e.src.slice(h,p)),o=e.env.references[Qd(s)],!o)return e.pos=u,!1;r=o.href,a=o.title}if(!t){e.pos=h,e.posMax=p;const t=[["href",r]];e.push("link_open","a",1).attrs=t,a&&t.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=m,e.posMax=d,!0}],["image",function(e,t){let n,s,i,o,r,a,c,l,u="";const d=e.pos,h=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const p=e.pos+2,m=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(m<0)return!1;if(o=m+1,o<h&&40===e.src.charCodeAt(o)){for(o++;o<h&&(n=e.src.charCodeAt(o),Wd(n)||10===n);o++);if(o>=h)return!1;for(l=o,a=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),a.ok&&(u=e.md.normalizeLink(a.str),e.md.validateLink(u)?o=a.pos:u=""),l=o;o<h&&(n=e.src.charCodeAt(o),Wd(n)||10===n);o++);if(a=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<h&&l!==o&&a.ok)for(c=a.str,o=a.pos;o<h&&(n=e.src.charCodeAt(o),Wd(n)||10===n);o++);else c="";if(o>=h||41!==e.src.charCodeAt(o))return e.pos=d,!1;o++}else{if(void 0===e.env.references)return!1;if(o<h&&91===e.src.charCodeAt(o)?(l=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?i=e.src.slice(l,o++):o=m+1):o=m+1,i||(i=e.src.slice(p,m)),r=e.env.references[Qd(i)],!r)return e.pos=d,!1;u=r.href,c=r.title}if(!t){s=e.src.slice(p,m);const t=[];e.md.inline.parse(s,e.md,e.env,t);const n=e.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=t,n.content=s,c&&i.push(["title",c])}return e.pos=o,e.posMax=h,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const s=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const o=e.src.slice(s+1,n);if(Vh.test(o)){const n=e.md.normalizeLink(o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const s=e.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return e.pos+=o.length+2,!0}if(qh.test(o)){const n=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const s=e.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return e.pos+=o.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,s=e.pos;if(60!==e.src.charCodeAt(s)||s+2>=n)return!1;const i=e.src.charCodeAt(s+1);if(33!==i&&63!==i&&47!==i&&!function(e){const t=32|e;return t>=97&&t<=122}(i))return!1;const o=e.src.slice(s).match(Lh);if(!o)return!1;if(!t){const t=e.push("html_inline","",0);t.content=o[0],r=t.content,/^<a[>\s]/i.test(r)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var r;return e.pos+=o[0].length,!0}],["entity",function(e,t){const n=e.pos,s=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=s)return!1;if(35===e.src.charCodeAt(n+1)){const s=e.src.slice(n).match(Uh);if(s){if(!t){const t="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),n=e.push("text_special","",0);n.content=Id(t)?Nd(t):Nd(65533),n.markup=s[0],n.info="entity"}return e.pos+=s[0].length,!0}}else{const s=e.src.slice(n).match(Zh);if(s){const n=Ld(s[0]);if(n!==s[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=s[0],t.info="entity"}return e.pos+=s[0].length,!0}}}return!1}]],Kh=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Wh(e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&Wh(t[s].delimiters)}],["strikethrough",Rh.postProcess],["emphasis",$h.postProcess],["fragments_join",function(e){let t,n,s=0;const i=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)i[t].nesting<0&&s--,i[t].level=s,i[t].nesting>0&&s++,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}]];function Jh(){this.ruler=new sh;for(let e=0;e<Gh.length;e++)this.ruler.push(Gh[e][0],Gh[e][1]);this.ruler2=new sh;for(let e=0;e<Kh.length;e++)this.ruler2.push(Kh[e][0],Kh[e][1])}function Qh(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function Xh(e){return Object.prototype.toString.call(e)}function Yh(e){return"[object Function]"===Xh(e)}function ep(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}Jh.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),s=n.length,i=e.md.options.maxNesting,o=e.cache;if(void 0!==o[t])return void(e.pos=o[t]);let r=!1;if(e.level<i){for(let a=0;a<s;a++)if(e.level++,r=n[a](e,!0),e.level--,r){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;r||e.pos++,o[t]=e.pos},Jh.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,s=e.posMax,i=e.md.options.maxNesting;for(;e.pos<s;){const o=e.pos;let r=!1;if(e.level<i)for(let s=0;s<n;s++)if(r=t[s](e,!1),r){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(r){if(e.pos>=s)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Jh.prototype.parse=function(e,t,n,s){const i=new this.State(e,t,n,s);this.tokenize(i);const o=this.ruler2.getRules(""),r=o.length;for(let a=0;a<r;a++)o[a](i)},Jh.prototype.State=Ih;const tp={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const np={"http:":{validate:function(e,t,n){const s=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const s=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const s=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},sp="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",ip="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function op(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=od.source,t.src_Cc=rd.source,t.src_Z=ld.source,t.src_P=ad.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push(sp),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");const i=[];function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){const n=e.__schemas__[t];if(null===n)return;const s={validate:null,link:null};if(e.__compiled__[t]=s,"[object Object]"===Xh(n))return!function(e){return"[object RegExp]"===Xh(e)}(n.validate)?Yh(n.validate)?s.validate=n.validate:o(t,n):s.validate=function(e){return function(t,n){const s=t.slice(n);return e.test(s)?s.match(e)[0].length:0}}(n.validate),void(Yh(n.normalize)?s.normalize=n.normalize:n.normalize?o(t,n):s.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===Xh(e)}(n)?o(t,n):i.push(t)})),i.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const r=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(ep).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+r+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+r+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function rp(e,t){const n=e.__index__,s=e.__last_index__,i=e.__text_cache__.slice(n,s);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=s+t,this.raw=i,this.text=i,this.url=i}function ap(e,t){const n=new rp(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function cp(e,t){if(!(this instanceof cp))return new cp(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||tp.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=Qh({},tp,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Qh({},np,e),this.__compiled__={},this.__tlds__=ip,this.__tlds_replaced__=!1,this.re={},op(this)}cp.prototype.add=function(e,t){return this.__schemas__[e]=t,op(this),this},cp.prototype.set=function(e){return this.__opts__=Qh(this.__opts__,e),this},cp.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,s,i,o,r,a,c,l;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(i=this.testSchemaAt(e,t[2],a.lastIndex),i){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&null!==(s=e.match(this.re.email_fuzzy))&&(o=s.index+s[1].length,r=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),this.__index__>=0},cp.prototype.pretest=function(e){return this.re.pretest.test(e)},cp.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},cp.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(ap(this,n)),n=this.__last_index__);let s=n?e.slice(n):e;for(;this.test(s);)t.push(ap(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},cp.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,ap(this,0)):null},cp.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),op(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,op(this),this)},cp.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},cp.prototype.onCompile=function(){};const lp=2147483647,up=36,dp=/^xn--/,hp=/[^\0-\x7F]/,pp=/[\x2E\u3002\uFF0E\uFF61]/g,mp={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},fp=Math.floor,gp=String.fromCharCode;function kp(e){throw new RangeError(mp[e])}function _p(e,t){const n=e.split("@");let s="";n.length>1&&(s=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let s=e.length;for(;s--;)n[s]=t(e[s]);return n}((e=e.replace(pp,".")).split("."),t).join(".");return s+i}function bp(e){const t=[];let n=0;const s=e.length;for(;n<s;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){const s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t}const vp=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},yp=function(e,t,n){let s=0;for(e=n?fp(e/700):e>>1,e+=fp(e/t);e>455;s+=up)e=fp(e/35);return fp(s+36*e/(e+38))},Cp=function(e){const t=[],n=e.length;let s=0,i=128,o=72,r=e.lastIndexOf("-");r<0&&(r=0);for(let c=0;c<r;++c)e.charCodeAt(c)>=128&&kp("not-basic"),t.push(e.charCodeAt(c));for(let c=r>0?r+1:0;c<n;){const r=s;for(let t=1,i=up;;i+=up){c>=n&&kp("invalid-input");const r=(a=e.charCodeAt(c++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:up;r>=up&&kp("invalid-input"),r>fp((lp-s)/t)&&kp("overflow"),s+=r*t;const l=i<=o?1:i>=o+26?26:i-o;if(r<l)break;const u=up-l;t>fp(lp/u)&&kp("overflow"),t*=u}const l=t.length+1;o=yp(s-r,l,0==r),fp(s/l)>lp-i&&kp("overflow"),i+=fp(s/l),s%=l,t.splice(s++,0,i)}var a;return String.fromCodePoint(...t)},Dp=function(e){const t=[],n=(e=bp(e)).length;let s=128,i=0,o=72;for(const c of e)c<128&&t.push(gp(c));const r=t.length;let a=r;for(r&&t.push("-");a<n;){let n=lp;for(const t of e)t>=s&&t<n&&(n=t);const c=a+1;n-s>fp((lp-i)/c)&&kp("overflow"),i+=(n-s)*c,s=n;for(const l of e)if(l<s&&++i>lp&&kp("overflow"),l===s){let e=i;for(let n=up;;n+=up){const s=n<=o?1:n>=o+26?26:n-o;if(e<s)break;const i=e-s,r=up-s;t.push(gp(vp(s+i%r,0))),e=fp(i/r)}t.push(gp(vp(e,0))),o=yp(i,c,a===r),i=0,++a}++i,++s}return t.join("")},Ap={version:"2.3.1",ucs2:{decode:bp,encode:e=>String.fromCodePoint(...e)},decode:Cp,encode:Dp,toASCII:function(e){return _p(e,(function(e){return hp.test(e)?"xn--"+Dp(e):e}))},toUnicode:function(e){return _p(e,(function(e){return dp.test(e)?Cp(e.slice(4).toLowerCase()):e}))}},wp={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Ep=/^(vbscript|javascript|file|data):/,xp=/^data:image\/(gif|png|jpeg|webp);/;function Sp(e){const t=e.trim().toLowerCase();return!Ep.test(t)||xp.test(t)}const Fp=["http:","https:","mailto:"];function Lp(e){const t=sd(e,!0);if(t.hostname&&(!t.protocol||Fp.indexOf(t.protocol)>=0))try{t.hostname=Ap.toASCII(t.hostname)}catch(n){}return qu(Vu(t))}function Tp(e){const t=sd(e,!0);if(t.hostname&&(!t.protocol||Fp.indexOf(t.protocol)>=0))try{t.hostname=Ap.toUnicode(t.hostname)}catch(n){}return Pu(Vu(t),Pu.defaultChars+"%")}function Mp(e,t){if(!(this instanceof Mp))return new Mp(e,t);t||Td(e)||(t=e||{},e="default"),this.inline=new Jh,this.block=new Bh,this.core=new Ch,this.renderer=new nh,this.linkify=new cp,this.validateLink=Sp,this.normalizeLink=Lp,this.normalizeLinkText=Tp,this.utils=Yd,this.helpers=zd({},eh),this.options={},this.configure(e),t&&this.set(t)}Mp.prototype.set=function(e){return zd(this.options,e),this},Mp.prototype.configure=function(e){const t=this;if(Td(e)){const t=e;if(!(e=wp[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)})),this},Mp.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));const s=e.filter((function(e){return n.indexOf(e)<0}));if(s.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this},Mp.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));const s=e.filter((function(e){return n.indexOf(e)<0}));if(s.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this},Mp.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},Mp.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},Mp.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Mp.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},Mp.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const zp=new ne({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM:e=>["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ul",{"data-tight":e.attrs.tight?"true":null},0]},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>"em"==e.type.name}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>"strong"==e.type.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM:e=>["a",e.attrs]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class Bp{constructor(e,t){this.schema=e,this.tokenHandlers=t,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:se.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let t,n=this.top(),s=n.content,i=s[s.length-1],o=this.schema.text(e,n.marks);i&&(t=function(e,t){if(e.isText&&t.isText&&se.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(i,o))?s[s.length-1]=t:s.push(o)}openMark(e){let t=this.top();t.marks=e.addToSet(t.marks)}closeMark(e){let t=this.top();t.marks=e.removeFromSet(t.marks)}parseTokens(e){for(let t=0;t<e.length;t++){let n=e[t],s=this.tokenHandlers[n.type];if(!s)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");s(this,n,e,t)}}addNode(e,t,n){let s=this.top(),i=e.createAndFill(t,n,s?s.marks:[]);return i?(this.push(i),i):null}openNode(e,t){this.stack.push({type:e,attrs:t,content:[],marks:se.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function Ip(e,t,n,s){return e.getAttrs?e.getAttrs(t,n,s):e.attrs instanceof Function?e.attrs(t):e.attrs}function Np(e,t){return e.noCloseToken||"code_inline"==t||"code_block"==t||"fence"==t}function Op(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function Hp(){}function jp(e,t){for(;++t<e.length;)if("list_item_open"!=e[t].type)return e[t].hidden;return!1}new class{constructor(e,t,n){this.schema=e,this.tokenizer=t,this.tokens=n,this.tokenHandlers=function(e,t){let n=Object.create(null);for(let s in t){let i=t[s];if(i.block){let t=e.nodeType(i.block);Np(i,s)?n[s]=(e,n,s,o)=>{e.openNode(t,Ip(i,n,s,o)),e.addText(Op(n.content)),e.closeNode()}:(n[s+"_open"]=(e,n,s,o)=>e.openNode(t,Ip(i,n,s,o)),n[s+"_close"]=e=>e.closeNode())}else if(i.node){let t=e.nodeType(i.node);n[s]=(e,n,s,o)=>e.addNode(t,Ip(i,n,s,o))}else if(i.mark){let t=e.marks[i.mark];Np(i,s)?n[s]=(e,n,s,o)=>{e.openMark(t.create(Ip(i,n,s,o))),e.addText(Op(n.content)),e.closeMark(t)}:(n[s+"_open"]=(e,n,s,o)=>e.openMark(t.create(Ip(i,n,s,o))),n[s+"_close"]=e=>e.closeMark(t))}else{if(!i.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(i));Np(i,s)?n[s]=Hp:(n[s+"_open"]=Hp,n[s+"_close"]=Hp)}}return n.text=(e,t)=>e.addText(t.content),n.inline=(e,t)=>e.parseTokens(t.children),n.softbreak=n.softbreak||(e=>e.addText(" ")),n}(e,n)}parse(e,t={}){let n,s=new Bp(this.schema,this.tokenHandlers);s.parseTokens(this.tokenizer.parse(e,t));do{n=s.closeNode()}while(s.stack.length);return n||this.schema.topNodeType.createAndFill()}}(zp,Mp("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:jp(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:jp(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const Rp={open:"",close:"",mixable:!0};const Pp=new class{constructor(e,t,n={}){this.nodes=e,this.marks=t,this.options=n}serialize(e,t={}){t=Object.assign({},this.options,t);let n=new qp(this.nodes,this.marks,t);return n.renderContent(e),n.out}}({blockquote(e,t){e.wrapBlock("> ",null,t,(()=>e.renderContent(t)))},code_block(e,t){const n=t.textContent.match(/`{3,}/gm),s=n?n.sort().slice(-1)[0]+"`":"```";e.write(s+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.write("\n"),e.write(s),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t,!1),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",(()=>(t.attrs.bullet||"*")+" "))},ordered_list(e,t){let n=t.attrs.order||1,s=String(n+t.childCount-1).length,i=e.repeat(" ",s+2);e.renderList(t,i,(t=>{let i=String(n+t);return e.repeat(" ",s-i.length)+i+". "}))},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src.replace(/[\(\)]/g,"\\$&")+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,n,s){for(let i=s+1;i<n.childCount;i++)if(n.child(i).type!=t.type)return void e.write("\\\n")},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(e,t,n,s)=>(e.inAutolink=function(e,t,n){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let s=t.child(n);return!(!s.isText||s.text!=e.attrs.href||s.marks[s.marks.length-1]!=e)&&(n==t.childCount-1||!e.isInSet(t.child(n+1).marks))}(t,n,s),e.inAutolink?"<":"["),close(e,t,n,s){let{inAutolink:i}=e;return e.inAutolink=void 0,i?">":"]("+t.attrs.href.replace(/[\(\)"]/g,"\\$&")+(t.attrs.title?` "${t.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open:(e,t,n,s)=>$p(n.child(s),-1),close:(e,t,n,s)=>$p(n.child(s-1),1),escape:!1}});function $p(e,t){let n,s=/`+/g,i=0;if(e.isText)for(;n=s.exec(e.text);)i=Math.max(i,n[0].length);let o=i>0&&t>0?" `":"`";for(let r=0;r<i;r++)o+="`";return i>0&&t<0&&(o+=" "),o}let qp=class{constructor(e,t,n){this.nodes=e,this.marks=t,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1),void 0===this.options.hardBreakNodeName&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),e>1){let t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(let s=1;s<e;s++)this.out+=t+"\n"}this.closed=null}}getMark(e){let t=this.marks[e];if(!t){if(!1!==this.options.strict)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);t=Rp}return t}wrapBlock(e,t,n,s){let i=this.delim;this.write(null!=t?t:e),this.delim+=e,s(),this.delim=i,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,t=!0){let n=e.split("\n");for(let s=0;s<n.length;s++)this.write(),!t&&"["==n[s][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=t?this.esc(n[s],this.atBlockStart):n[s],s!=n.length-1&&(this.out+="\n")}render(e,t,n){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,t,n);else{if(!1!==this.options.strict)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach(((t,n,s)=>this.render(t,e,s)))}renderInline(e,t=!0){this.atBlockStart=t;let n=[],s="",i=(t,i,o)=>{let r=t?t.marks:[];t&&t.type.name===this.options.hardBreakNodeName&&(r=r.filter((t=>{if(o+1==e.childCount)return!1;let n=e.child(o+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));let a=s;if(s="",t&&t.isText&&r.some((e=>{let t=this.getMark(e.type.name);return t&&t.expelEnclosingWhitespace&&!e.isInSet(n)}))){let[e,s,i]=/^(\s*)(.*)$/m.exec(t.text);s&&(a+=s,(t=i?t.withText(i):null)||(r=n))}if(t&&t.isText&&r.some((t=>{let n=this.getMark(t.type.name);return n&&n.expelEnclosingWhitespace&&(o==e.childCount-1||!t.isInSet(e.child(o+1).marks))}))){let[e,i,o]=/^(.*?)(\s*)$/m.exec(t.text);o&&(s=o,(t=i?t.withText(i):null)||(r=n))}let c=r.length?r[r.length-1]:null,l=c&&!1===this.getMark(c.type.name).escape,u=r.length-(l?1:0);e:for(let e=0;e<u;e++){let t=r[e];if(!this.getMark(t.type.name).mixable)break;for(let s=0;s<n.length;s++){let i=n[s];if(!this.getMark(i.type.name).mixable)break;if(t.eq(i)){e>s?r=r.slice(0,s).concat(t).concat(r.slice(s,e)).concat(r.slice(e+1,u)):s>e&&(r=r.slice(0,e).concat(r.slice(e+1,s)).concat(t).concat(r.slice(s,u)));continue e}}}let d=0;for(;d<Math.min(n.length,u)&&r[d].eq(n[d]);)++d;for(;d<n.length;)this.text(this.markString(n.pop(),!1,e,o),!1);if(a&&this.text(a),t){for(;n.length<u;){let t=r[n.length];n.push(t),this.text(this.markString(t,!0,e,o),!1),this.atBlockStart=!1}l&&t.isText?this.text(this.markString(c,!0,e,o)+t.text+this.markString(c,!1,e,o+1),!1):this.render(t,e,o),this.atBlockStart=!1}(null==t?void 0:t.isText)&&t.nodeSize>0&&(this.atBlockStart=!1)};e.forEach(i),i(null,0,e.childCount),this.atBlockStart=!1}renderList(e,t,n){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let s=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=s,e.forEach(((i,o,r)=>{r&&s&&this.flushClose(1),this.wrapBlock(t,n(r),e,(()=>this.render(i,e,r)))})),this.inTightList=i}esc(e,t=!1){return e=e.replace(/[`*\\~\[\]_]/g,((t,n)=>"_"==t&&n>0&&n+1<e.length&&e[n-1].match(/\w/)&&e[n+1].match(/\w/)?t:"\\"+t)),t&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]}repeat(e,t){let n="";for(let s=0;s<t;s++)n+=e;return n}markString(e,t,n,s){let i=this.getMark(e.type.name),o=t?i.open:i.close;return"string"==typeof o?o:o(this,e,n,s)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}};const Vp={};function Up(e,t){"string"!=typeof t&&(t=Up.defaultChars);const n=function(e){let t=Vp[e];if(t)return t;t=Vp[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);t.push(e)}for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);t[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,(function(e){let t="";for(let s=0,i=e.length;s<i;s+=3){const o=parseInt(e.slice(s+1,s+3),16);if(o<128)t+=n[o];else{if(192==(224&o)&&s+3<i){const n=parseInt(e.slice(s+4,s+6),16);if(128==(192&n)){const e=o<<6&1984|63&n;t+=e<128?"":String.fromCharCode(e),s+=3;continue}}if(224==(240&o)&&s+6<i){const n=parseInt(e.slice(s+4,s+6),16),i=parseInt(e.slice(s+7,s+9),16);if(128==(192&n)&&128==(192&i)){const e=o<<12&61440|n<<6&4032|63&i;t+=e<2048||e>=55296&&e<=57343?"":String.fromCharCode(e),s+=6;continue}}if(240==(248&o)&&s+9<i){const n=parseInt(e.slice(s+4,s+6),16),i=parseInt(e.slice(s+7,s+9),16),r=parseInt(e.slice(s+10,s+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&r)){let e=o<<18&1835008|n<<12&258048|i<<6&4032|63&r;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),s+=9;continue}}t+=""}}return t}))}Up.defaultChars=";/?:@&=+$,#",Up.componentChars="";const Zp={};function Wp(e,t,n){"string"!=typeof t&&(n=t,t=Wp.defaultChars),void 0===n&&(n=!0);const s=function(e){let t=Zp[e];if(t)return t;t=Zp[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);/^[0-9a-z]$/i.test(e)?t.push(e):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let i="";for(let o=0,r=e.length;o<r;o++){const t=e.charCodeAt(o);if(n&&37===t&&o+2<r&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))i+=e.slice(o,o+3),o+=2;else if(t<128)i+=s[t];else if(t>=55296&&t<=57343){if(t>=55296&&t<=56319&&o+1<r){const t=e.charCodeAt(o+1);if(t>=56320&&t<=57343){i+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(e[o])}return i}function Gp(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Kp(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}Wp.defaultChars=";/?:@&=+$,-_.!~*'()#",Wp.componentChars="-_.!~*'()";const Jp=/^([a-z0-9.+-]+:)/i,Qp=/:[0-9]*$/,Xp=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Yp=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),em=["'"].concat(Yp),tm=["%","/","?",";","#"].concat(em),nm=["/","?","#"],sm=/^[+a-z0-9A-Z_-]{0,63}$/,im=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,om={javascript:!0,"javascript:":!0},rm={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function am(e,t){if(e&&e instanceof Kp)return e;const n=new Kp;return n.parse(e,t),n}Kp.prototype.parse=function(e,t){let n,s,i,o=e;if(o=o.trim(),!t&&1===e.split("#").length){const e=Xp.exec(o);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let r=Jp.exec(o);if(r&&(r=r[0],n=r.toLowerCase(),this.protocol=r,o=o.substr(r.length)),(t||r||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||r&&om[r]||(o=o.substr(2),this.slashes=!0)),!om[r]&&(i||r&&!rm[r])){let e,t,n=-1;for(let a=0;a<nm.length;a++)s=o.indexOf(nm[a]),-1!==s&&(-1===n||s<n)&&(n=s);t=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==t&&(e=o.slice(0,t),o=o.slice(t+1),this.auth=e),n=-1;for(let a=0;a<tm.length;a++)s=o.indexOf(tm[a]),-1!==s&&(-1===n||s<n)&&(n=s);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(sm)){let s="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?s+="x":s+=n[e];if(!s.match(sm)){const s=e.slice(0,t),i=e.slice(t+1),r=n.match(im);r&&(s.push(r[1]),i.unshift(r[2])),i.length&&(o=i.join(".")+o),this.hostname=s.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const c=o.indexOf("?");return-1!==c&&(this.search=o.substr(c),o=o.slice(0,c)),o&&(this.pathname=o),rm[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Kp.prototype.parseHost=function(e){let t=Qp.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const cm=Object.freeze(Object.defineProperty({__proto__:null,decode:Up,encode:Wp,format:Gp,parse:am},Symbol.toStringTag,{value:"Module"})),lm=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,um=/[\0-\x1F\x7F-\x9F]/,dm=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,hm=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,pm=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,mm=Object.freeze(Object.defineProperty({__proto__:null,Any:lm,Cc:um,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:dm,S:hm,Z:pm},Symbol.toStringTag,{value:"Module"}));function fm(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}const gm=Object.prototype.hasOwnProperty;function km(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}function _m(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function bm(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(!!(65535&~e&&65534!=(65535&e))&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function vm(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const ym=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Cm=new RegExp(ym.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),Dm=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Am(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Cm,(function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&Dm.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return bm(n)?vm(n):e}const n=Ld(e);return n!==e?n:e}(e,n)}))}const wm=/[&<>"]/,Em=/[&<>"]/g,xm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Sm(e){return xm[e]}function Fm(e){return wm.test(e)?e.replace(Em,Sm):e}const Lm=/[.?*+^$[\]\\(){}|-]/g;function Tm(e){switch(e){case 9:case 32:return!0}return!1}function Mm(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function zm(e){return dm.test(e)||hm.test(e)}function Bm(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Im(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const Nm={mdurl:cm,ucmicro:mm},Om=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:_m,assign:km,escapeHtml:Fm,escapeRE:function(e){return e.replace(Lm,"\\$&")},fromCodePoint:vm,has:function(e,t){return gm.call(e,t)},isMdAsciiPunct:Bm,isPunctChar:zm,isSpace:Tm,isString:fm,isValidEntityCode:bm,isWhiteSpace:Mm,lib:Nm,normalizeReference:Im,unescapeAll:Am,unescapeMd:function(e){return e.indexOf("\\")<0?e:e.replace(ym,"$1")}},Symbol.toStringTag,{value:"Module"}));const Hm=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(e,t,n){let s,i=t;const o={ok:!1,pos:0,str:""};if(60===e.charCodeAt(i)){for(i++;i<n;){if(s=e.charCodeAt(i),10===s)return o;if(60===s)return o;if(62===s)return o.pos=i+1,o.str=Am(e.slice(t+1,i)),o.ok=!0,o;92===s&&i+1<n?i+=2:i++}return o}let r=0;for(;i<n&&(s=e.charCodeAt(i),32!==s)&&!(s<32||127===s);)if(92===s&&i+1<n){if(32===e.charCodeAt(i+1))break;i+=2}else{if(40===s&&(r++,r>32))return o;if(41===s){if(0===r)break;r--}i++}return t===i||0!==r||(o.str=Am(e.slice(t,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(e,t,n){let s,i,o,r;const a=e.posMax,c=e.pos;for(e.pos=t+1,s=1;e.pos<a;){if(o=e.src.charCodeAt(e.pos),93===o&&(s--,0===s)){i=!0;break}if(r=e.pos,e.md.inline.skipToken(e),91===o)if(r===e.pos-1)s++;else if(n)return e.pos=c,-1}let l=-1;return i&&(l=e.pos),e.pos=c,l},parseLinkTitle:function(e,t,n,s){let i,o=t;const r={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)r.str=s.str,r.marker=s.marker;else{if(o>=n)return r;let s=e.charCodeAt(o);if(34!==s&&39!==s&&40!==s)return r;t++,o++,40===s&&(s=41),r.marker=s}for(;o<n;){if(i=e.charCodeAt(o),i===r.marker)return r.pos=o+1,r.str+=Am(e.slice(t,o)),r.ok=!0,r;if(40===i&&41===r.marker)return r;92===i&&o+1<n&&o++,o++}return r.can_continue=!0,r.str+=Am(e.slice(t,o)),r}},Symbol.toStringTag,{value:"Module"})),jm={};function Rm(){this.rules=km({},jm)}function Pm(){this.__rules__=[],this.__cache__=null}function $m(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function qm(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}jm.code_inline=function(e,t,n,s,i){const o=e[t];return"<code"+i.renderAttrs(o)+">"+Fm(o.content)+"</code>"},jm.code_block=function(e,t,n,s,i){const o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+Fm(e[t].content)+"</code></pre>\n"},jm.fence=function(e,t,n,s,i){const o=e[t],r=o.info?Am(o.info).trim():"";let a,c="",l="";if(r){const e=r.split(/(\s+)/g);c=e[0],l=e.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,c,l)||Fm(o.content),0===a.indexOf("<pre"))return a+"\n";if(r){const e=o.attrIndex("class"),t=o.attrs?o.attrs.slice():[];e<0?t.push(["class",n.langPrefix+c]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+c);const s={attrs:t};return`<pre><code${i.renderAttrs(s)}>${a}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${a}</code></pre>\n`},jm.image=function(e,t,n,s,i){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,s),i.renderToken(e,t,n)},jm.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},jm.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},jm.text=function(e,t){return Fm(e[t].content)},jm.html_block=function(e,t){return e[t].content},jm.html_inline=function(e,t){return e[t].content},Rm.prototype.renderAttrs=function(e){let t,n,s;if(!e.attrs)return"";for(s="",t=0,n=e.attrs.length;t<n;t++)s+=" "+Fm(e.attrs[t][0])+'="'+Fm(e.attrs[t][1])+'"';return s},Rm.prototype.renderToken=function(e,t,n){const s=e[t];let i="";if(s.hidden)return"";s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(s.block&&(o=!0,1===s.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===s.tag)&&(o=!1)}return i+=o?">\n":">",i},Rm.prototype.renderInline=function(e,t,n){let s="";const i=this.rules;for(let o=0,r=e.length;o<r;o++){const r=e[o].type;void 0!==i[r]?s+=i[r](e,o,t,n,this):s+=this.renderToken(e,o,t)}return s},Rm.prototype.renderInlineAsText=function(e,t,n){let s="";for(let i=0,o=e.length;i<o;i++)switch(e[i].type){case"text":case"html_inline":case"html_block":s+=e[i].content;break;case"image":s+=this.renderInlineAsText(e[i].children,t,n);break;case"softbreak":case"hardbreak":s+="\n"}return s},Rm.prototype.render=function(e,t,n){let s="";const i=this.rules;for(let o=0,r=e.length;o<r;o++){const r=e[o].type;"inline"===r?s+=this.renderInline(e[o].children,t,n):void 0!==i[r]?s+=i[r](e,o,t,n,this):s+=this.renderToken(e,o,t,n)}return s},Pm.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Pm.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},Pm.prototype.at=function(e,t,n){const s=this.__find__(e),i=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__[s].fn=t,this.__rules__[s].alt=i.alt||[],this.__cache__=null},Pm.prototype.before=function(e,t,n,s){const i=this.__find__(e),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Pm.prototype.after=function(e,t,n,s){const i=this.__find__(e),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Pm.prototype.push=function(e,t,n){const s=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:s.alt||[]}),this.__cache__=null},Pm.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const s=this.__find__(e);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[s].enabled=!0,n.push(e)}),this),this.__cache__=null,n},Pm.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},Pm.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const s=this.__find__(e);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[s].enabled=!1,n.push(e)}),this),this.__cache__=null,n},Pm.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},$m.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,s=t.length;n<s;n++)if(t[n][0]===e)return n;return-1},$m.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},$m.prototype.attrSet=function(e,t){const n=this.attrIndex(e),s=[e,t];n<0?this.attrPush(s):this.attrs[n]=s},$m.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},$m.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},qm.prototype.Token=$m;const Vm=/\r\n?|\n/g,Um=/\0/g;function Zm(e){return/^<\/a\s*>/i.test(e)}const Wm=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Gm=/\((c|tm|r)\)/i,Km=/\((c|tm|r)\)/gi,Jm={c:"",r:"",tm:""};function Qm(e,t){return Jm[t.toLowerCase()]}function Xm(e){let t=0;for(let n=e.length-1;n>=0;n--){const s=e[n];"text"!==s.type||t||(s.content=s.content.replace(Km,Qm)),"link_open"===s.type&&"auto"===s.info&&t--,"link_close"===s.type&&"auto"===s.info&&t++}}function Ym(e){let t=0;for(let n=e.length-1;n>=0;n--){const s=e[n];"text"!==s.type||t||Wm.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===s.type&&"auto"===s.info&&t--,"link_close"===s.type&&"auto"===s.info&&t++}}const ef=/['"]/,tf=/['"]/g,nf="";function sf(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function of(e,t){let n;const s=[];for(let i=0;i<e.length;i++){const o=e[i],r=e[i].level;for(n=s.length-1;n>=0&&!(s[n].level<=r);n--);if(s.length=n+1,"text"!==o.type)continue;let a=o.content,c=0,l=a.length;e:for(;c<l;){tf.lastIndex=c;const u=tf.exec(a);if(!u)break;let d=!0,h=!0;c=u.index+1;const p="'"===u[0];let m=32;if(u.index-1>=0)m=a.charCodeAt(u.index-1);else for(n=i-1;n>=0&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n--)if(e[n].content){m=e[n].content.charCodeAt(e[n].content.length-1);break}let f=32;if(c<l)f=a.charCodeAt(c);else for(n=i+1;n<e.length&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n++)if(e[n].content){f=e[n].content.charCodeAt(0);break}const g=Bm(m)||zm(String.fromCharCode(m)),k=Bm(f)||zm(String.fromCharCode(f)),_=Mm(m),b=Mm(f);if(b?d=!1:k&&(_||g||(d=!1)),_?h=!1:g&&(b||k||(h=!1)),34===f&&'"'===u[0]&&m>=48&&m<=57&&(h=d=!1),d&&h&&(d=g,h=k),d||h){if(h)for(n=s.length-1;n>=0;n--){let d=s[n];if(s[n].level<r)break;if(d.single===p&&s[n].level===r){let r,h;d=s[n],p?(r=t.md.options.quotes[2],h=t.md.options.quotes[3]):(r=t.md.options.quotes[0],h=t.md.options.quotes[1]),o.content=sf(o.content,u.index,h),e[d.token].content=sf(e[d.token].content,d.pos,r),c+=h.length-1,d.token===i&&(c+=r.length-1),a=o.content,l=a.length,s.length=n;continue e}}d?s.push({token:i,pos:u.index,single:p,level:r}):h&&p&&(o.content=sf(o.content,u.index,nf))}else p&&(o.content=sf(o.content,u.index,nf))}}}const rf=[["normalize",function(e){let t;t=e.src.replace(Vm,"\n"),t=t.replace(Um,""),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,s=t.length;n<s;n++){const s=t[n];"inline"===s.type&&e.md.inline.parse(s.content,e.md,e.env,s.children)}}],["linkify",function(e){const t=e.tokens;var n;if(e.md.options.linkify)for(let s=0,i=t.length;s<i;s++){if("inline"!==t[s].type||!e.md.linkify.pretest(t[s].content))continue;let i=t[s].children,o=0;for(let r=i.length-1;r>=0;r--){const a=i[r];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,Zm(a.content)&&o++),!(o>0)&&"text"===a.type&&e.md.linkify.test(a.content)){const n=a.content;let o=e.md.linkify.match(n);const c=[];let l=a.level,u=0;o.length>0&&0===o[0].index&&r>0&&"text_special"===i[r-1].type&&(o=o.slice(1));for(let t=0;t<o.length;t++){const s=o[t].url,i=e.md.normalizeLink(s);if(!e.md.validateLink(i))continue;let r=o[t].text;r=o[t].schema?"mailto:"!==o[t].schema||/^mailto:/i.test(r)?e.md.normalizeLinkText(r):e.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"");const a=o[t].index;if(a>u){const t=new e.Token("text","",0);t.content=n.slice(u,a),t.level=l,c.push(t)}const d=new e.Token("link_open","a",1);d.attrs=[["href",i]],d.level=l++,d.markup="linkify",d.info="auto",c.push(d);const h=new e.Token("text","",0);h.content=r,h.level=l,c.push(h);const p=new e.Token("link_close","a",-1);p.level=--l,p.markup="linkify",p.info="auto",c.push(p),u=o[t].lastIndex}if(u<n.length){const t=new e.Token("text","",0);t.content=n.slice(u),t.level=l,c.push(t)}t[s].children=i=_m(i,r,c)}}else for(r--;i[r].level!==a.level&&"link_open"!==i[r].type;)r--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(Gm.test(e.tokens[t].content)&&Xm(e.tokens[t].children),Wm.test(e.tokens[t].content)&&Ym(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&ef.test(e.tokens[t].content)&&of(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const s=e.tokens,i=s.length;for(let o=0;o<i;o++){if("inline"!==s[o].type)continue;const e=s[o].children,i=e.length;for(t=0;t<i;t++)"text_special"===e[t].type&&(e[t].type="text");for(t=n=0;t<i;t++)"text"===e[t].type&&t+1<i&&"text"===e[t+1].type?e[t+1].content=e[t].content+e[t+1].content:(t!==n&&(e[n]=e[t]),n++);t!==n&&(e.length=n)}}]];function af(){this.ruler=new Pm;for(let e=0;e<rf.length;e++)this.ruler.push(rf[e][0],rf[e][1])}function cf(e,t,n,s){this.src=e,this.md=t,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,r=0,a=0,c=0,l=i.length,u=!1;r<l;r++){const e=i.charCodeAt(r);if(!u){if(Tm(e)){a++,9===e?c+=4-c%4:c++;continue}u=!0}10!==e&&r!==l-1||(10!==e&&r++,this.bMarks.push(o),this.eMarks.push(r),this.tShift.push(a),this.sCount.push(c),this.bsCount.push(0),u=!1,a=0,c=0,o=r+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}af.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,s=t.length;n<s;n++)t[n](e)},af.prototype.State=qm,cf.prototype.push=function(e,t,n){const s=new $m(e,t,n);return s.block=!0,n<0&&this.level--,s.level=this.level,n>0&&this.level++,this.tokens.push(s),s},cf.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},cf.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},cf.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!Tm(this.src.charCodeAt(e)))break}return e},cf.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Tm(this.src.charCodeAt(--e)))return e+1;return e},cf.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},cf.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},cf.prototype.getLines=function(e,t,n,s){if(e>=t)return"";const i=new Array(t-e);for(let o=0,r=e;r<t;r++,o++){let e=0;const a=this.bMarks[r];let c,l=a;for(c=r+1<t||s?this.eMarks[r]+1:this.eMarks[r];l<c&&e<n;){const t=this.src.charCodeAt(l);if(Tm(t))9===t?e+=4-(e+this.bsCount[r])%4:e++;else{if(!(l-a<this.tShift[r]))break;e++}l++}i[o]=e>n?new Array(e-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return i.join("")},cf.prototype.Token=$m;function lf(e,t){const n=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];return e.src.slice(n,s)}function uf(e){const t=[],n=e.length;let s=0,i=e.charCodeAt(s),o=!1,r=0,a="";for(;s<n;)124===i&&(o?(a+=e.substring(r,s-1),r=s):(t.push(a+e.substring(r,s)),a="",r=s+1)),o=92===i,s++,i=e.charCodeAt(s);return t.push(a+e.substring(r)),t}function df(e,t){const n=e.eMarks[t];let s=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(s++);if(42!==i&&45!==i&&43!==i)return-1;if(s<n){if(!Tm(e.src.charCodeAt(s)))return-1}return s}function hf(e,t){const n=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];let i=n;if(i+1>=s)return-1;let o=e.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=s)return-1;if(o=e.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<s&&(o=e.src.charCodeAt(i),!Tm(o))?-1:i}const pf="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",mf="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",ff=new RegExp("^(?:"+pf+"|"+mf+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),gf=new RegExp("^(?:"+pf+"|"+mf+")"),kf=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(gf.source+"\\s*$"),/^$/,!1]];const _f=[["table",function(e,t,n,s){if(t+2>n)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent)return!1;if(e.sCount[i]-e.blkIndent>=4)return!1;let o=e.bMarks[i]+e.tShift[i];if(o>=e.eMarks[i])return!1;const r=e.src.charCodeAt(o++);if(124!==r&&45!==r&&58!==r)return!1;if(o>=e.eMarks[i])return!1;const a=e.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!Tm(a))return!1;if(45===r&&Tm(a))return!1;for(;o<e.eMarks[i];){const t=e.src.charCodeAt(o);if(124!==t&&45!==t&&58!==t&&!Tm(t))return!1;o++}let c=lf(e,t+1),l=c.split("|");const u=[];for(let k=0;k<l.length;k++){const e=l[k].trim();if(!e){if(0===k||k===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?u.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?u.push("left"):u.push("")}if(c=lf(e,t).trim(),-1===c.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;l=uf(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop();const d=l.length;if(0===d||d!==u.length)return!1;if(s)return!0;const h=e.parentType;e.parentType="table";const p=e.md.block.ruler.getRules("blockquote"),m=[t,0];e.push("table_open","table",1).map=m,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let k=0;k<l.length;k++){const t=e.push("th_open","th",1);u[k]&&(t.attrs=[["style","text-align:"+u[k]]]);const n=e.push("inline","",0);n.content=l[k].trim(),n.children=[],e.push("th_close","th",-1)}let f;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let g=0;for(i=t+2;i<n&&!(e.sCount[i]<e.blkIndent);i++){let s=!1;for(let t=0,o=p.length;t<o;t++)if(p[t](e,i,n,!0)){s=!0;break}if(s)break;if(c=lf(e,i).trim(),!c)break;if(e.sCount[i]-e.blkIndent>=4)break;if(l=uf(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop(),g+=d-l.length,g>65536)break;if(i===t+2){e.push("tbody_open","tbody",1).map=f=[t+2,0]}e.push("tr_open","tr",1).map=[i,i+1];for(let t=0;t<d;t++){const n=e.push("td_open","td",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const s=e.push("inline","",0);s.content=l[t]?l[t].trim():"",s.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return f&&(e.push("tbody_close","tbody",-1),f[1]=i),e.push("table_close","table",-1),m[1]=i,e.parentType=h,e.line=i,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let s=t+1,i=s;for(;s<n;)if(e.isEmpty(s))s++;else{if(!(e.sCount[s]-e.blkIndent>=4))break;s++,i=s}e.line=i;const o=e.push("code_block","code",0);return o.content=e.getLines(t,i,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}],["fence",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(i+3>o)return!1;const r=e.src.charCodeAt(i);if(126!==r&&96!==r)return!1;let a=i;i=e.skipChars(i,r);let c=i-a;if(c<3)return!1;const l=e.src.slice(a,i),u=e.src.slice(i,o);if(96===r&&u.indexOf(String.fromCharCode(r))>=0)return!1;if(s)return!0;let d=t,h=!1;for(;(d++,!(d>=n))&&(i=a=e.bMarks[d]+e.tShift[d],o=e.eMarks[d],!(i<o&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(i)===r&&!(e.sCount[d]-e.blkIndent>=4||(i=e.skipChars(i,r),i-a<c||(i=e.skipSpaces(i),i<o)))){h=!0;break}c=e.sCount[t],e.line=d+(h?1:0);const p=e.push("fence","code",0);return p.info=u,p.content=e.getLines(t+1,d,c,!0),p.markup=l,p.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const r=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(i))return!1;if(s)return!0;const a=[],c=[],l=[],u=[],d=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let p,m=!1;for(p=t;p<n;p++){const t=e.sCount[p]<e.blkIndent;if(i=e.bMarks[p]+e.tShift[p],o=e.eMarks[p],i>=o)break;if(62===e.src.charCodeAt(i++)&&!t){let t,n,s=e.sCount[p]+1;32===e.src.charCodeAt(i)?(i++,s++,n=!1,t=!0):9===e.src.charCodeAt(i)?(t=!0,(e.bsCount[p]+s)%4==3?(i++,s++,n=!1):n=!0):t=!1;let r=s;for(a.push(e.bMarks[p]),e.bMarks[p]=i;i<o;){const t=e.src.charCodeAt(i);if(!Tm(t))break;9===t?r+=4-(r+e.bsCount[p]+(n?1:0))%4:r++,i++}m=i>=o,c.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(t?1:0),l.push(e.sCount[p]),e.sCount[p]=r-s,u.push(e.tShift[p]),e.tShift[p]=i-e.bMarks[p];continue}if(m)break;let s=!1;for(let i=0,o=d.length;i<o;i++)if(d[i](e,p,n,!0)){s=!0;break}if(s){e.lineMax=p,0!==e.blkIndent&&(a.push(e.bMarks[p]),c.push(e.bsCount[p]),u.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}a.push(e.bMarks[p]),c.push(e.bsCount[p]),u.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]=-1}const f=e.blkIndent;e.blkIndent=0;const g=e.push("blockquote_open","blockquote",1);g.markup=">";const k=[t,0];g.map=k,e.md.block.tokenize(e,t,p),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=r,e.parentType=h,k[1]=e.line;for(let _=0;_<u.length;_++)e.bMarks[_+t]=a[_],e.tShift[_+t]=u[_],e.sCount[_+t]=l[_],e.bsCount[_+t]=c[_];return e.blkIndent=f,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,s){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const r=e.src.charCodeAt(o++);if(42!==r&&45!==r&&95!==r)return!1;let a=1;for(;o<i;){const t=e.src.charCodeAt(o++);if(t!==r&&!Tm(t))return!1;t===r&&a++}if(a<3)return!1;if(s)return!0;e.line=t+1;const c=e.push("hr","hr",0);return c.map=[t,e.line],c.markup=Array(a+1).join(String.fromCharCode(r)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,s){let i,o,r,a,c=t,l=!0;if(e.sCount[c]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[c]-e.listIndent>=4&&e.sCount[c]<e.blkIndent)return!1;let u,d,h,p=!1;if(s&&"paragraph"===e.parentType&&e.sCount[c]>=e.blkIndent&&(p=!0),(h=hf(e,c))>=0){if(u=!0,r=e.bMarks[c]+e.tShift[c],d=Number(e.src.slice(r,h-1)),p&&1!==d)return!1}else{if(!((h=df(e,c))>=0))return!1;u=!1}if(p&&e.skipSpaces(h)>=e.eMarks[c])return!1;if(s)return!0;const m=e.src.charCodeAt(h-1),f=e.tokens.length;u?(a=e.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=e.push("bullet_list_open","ul",1);const g=[c,0];a.map=g,a.markup=String.fromCharCode(m);let k=!1;const _=e.md.block.ruler.getRules("list"),b=e.parentType;for(e.parentType="list";c<n;){o=h,i=e.eMarks[c];const t=e.sCount[c]+h-(e.bMarks[c]+e.tShift[c]);let s=t;for(;o<i;){const t=e.src.charCodeAt(o);if(9===t)s+=4-(s+e.bsCount[c])%4;else{if(32!==t)break;s++}o++}const d=o;let p;p=d>=i?1:s-t,p>4&&(p=1);const f=t+p;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const g=[c,0];a.map=g,u&&(a.info=e.src.slice(r,h-1));const b=e.tight,v=e.tShift[c],y=e.sCount[c],C=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=f,e.tight=!0,e.tShift[c]=d-e.bMarks[c],e.sCount[c]=s,d>=i&&e.isEmpty(c+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,c,n,!0),e.tight&&!k||(l=!1),k=e.line-c>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=C,e.tShift[c]=v,e.sCount[c]=y,e.tight=b,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),c=e.line,g[1]=c,c>=n)break;if(e.sCount[c]<e.blkIndent)break;if(e.sCount[c]-e.blkIndent>=4)break;let D=!1;for(let i=0,o=_.length;i<o;i++)if(_[i](e,c,n,!0)){D=!0;break}if(D)break;if(u){if(h=hf(e,c),h<0)break;r=e.bMarks[c]+e.tShift[c]}else if(h=df(e,c),h<0)break;if(m!==e.src.charCodeAt(h-1))break}return a=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),g[1]=c,e.line=c,e.parentType=b,l&&function(e,t){const n=e.level+2;for(let s=t+2,i=e.tokens.length-2;s<i;s++)e.tokens[s].level===n&&"paragraph_open"===e.tokens[s].type&&(e.tokens[s+2].hidden=!0,e.tokens[s].hidden=!0,s+=2)}(e,f),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],r=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(i))return!1;function a(t){const n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let s=!1;if(e.sCount[t]-e.blkIndent>3&&(s=!0),e.sCount[t]<0&&(s=!0),!s){const s=e.md.block.ruler.getRules("reference"),i=e.parentType;e.parentType="reference";let o=!1;for(let r=0,a=s.length;r<a;r++)if(s[r](e,t,n,!0)){o=!0;break}if(e.parentType=i,o)return null}const i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(i,o+1)}let c=e.src.slice(i,o+1);o=c.length;let l=-1;for(i=1;i<o;i++){const e=c.charCodeAt(i);if(91===e)return!1;if(93===e){l=i;break}if(10===e){const e=a(r);null!==e&&(c+=e,o=c.length,r++)}else if(92===e&&(i++,i<o&&10===c.charCodeAt(i))){const e=a(r);null!==e&&(c+=e,o=c.length,r++)}}if(l<0||58!==c.charCodeAt(l+1))return!1;for(i=l+2;i<o;i++){const e=c.charCodeAt(i);if(10===e){const e=a(r);null!==e&&(c+=e,o=c.length,r++)}else if(!Tm(e))break}const u=e.md.helpers.parseLinkDestination(c,i,o);if(!u.ok)return!1;const d=e.md.normalizeLink(u.str);if(!e.md.validateLink(d))return!1;i=u.pos;const h=i,p=r,m=i;for(;i<o;i++){const e=c.charCodeAt(i);if(10===e){const e=a(r);null!==e&&(c+=e,o=c.length,r++)}else if(!Tm(e))break}let f,g=e.md.helpers.parseLinkTitle(c,i,o);for(;g.can_continue;){const t=a(r);if(null===t)break;c+=t,i=o,o=c.length,r++,g=e.md.helpers.parseLinkTitle(c,i,o,g)}for(i<o&&m!==i&&g.ok?(f=g.str,i=g.pos):(f="",i=h,r=p);i<o;){if(!Tm(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i)&&f)for(f="",i=h,r=p;i<o;){if(!Tm(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i))return!1;const k=Im(c.slice(1,l));return!!k&&(s||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[k]&&(e.env.references[k]={title:f,href:d}),e.line=r),!0)}],["html_block",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(i))return!1;let r=e.src.slice(i,o),a=0;for(;a<kf.length&&!kf[a][0].test(r);a++);if(a===kf.length)return!1;if(s)return kf[a][2];let c=t+1;if(!kf[a][1].test(r))for(;c<n&&!(e.sCount[c]<e.blkIndent);c++)if(i=e.bMarks[c]+e.tShift[c],o=e.eMarks[c],r=e.src.slice(i,o),kf[a][1].test(r)){0!==r.length&&c++;break}e.line=c;const l=e.push("html_block","",0);return l.map=[t,c],l.content=e.getLines(t,c,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,s){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let r=e.src.charCodeAt(i);if(35!==r||i>=o)return!1;let a=1;for(r=e.src.charCodeAt(++i);35===r&&i<o&&a<=6;)a++,r=e.src.charCodeAt(++i);if(a>6||i<o&&!Tm(r))return!1;if(s)return!0;o=e.skipSpacesBack(o,i);const c=e.skipCharsBack(o,35,i);c>i&&Tm(e.src.charCodeAt(c-1))&&(o=c),e.line=t+1;const l=e.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[t,e.line];const u=e.push("inline","",0);return u.content=e.src.slice(i,o).trim(),u.map=[t,e.line],u.children=[],e.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const s=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let o,r=0,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let t=e.bMarks[a]+e.tShift[a];const n=e.eMarks[a];if(t<n&&(o=e.src.charCodeAt(t),(45===o||61===o)&&(t=e.skipChars(t,o),t=e.skipSpaces(t),t>=n))){r=61===o?1:2;break}}if(e.sCount[a]<0)continue;let t=!1;for(let i=0,o=s.length;i<o;i++)if(s[i](e,a,n,!0)){t=!0;break}if(t)break}if(!r)return!1;const c=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const l=e.push("heading_open","h"+String(r),1);l.markup=String.fromCharCode(o),l.map=[t,e.line];const u=e.push("inline","",0);return u.content=c,u.map=[t,e.line-1],u.children=[],e.push("heading_close","h"+String(r),-1).markup=String.fromCharCode(o),e.parentType=i,!0}],["paragraph",function(e,t,n){const s=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]<0)continue;let t=!1;for(let i=0,r=s.length;i<r;i++)if(s[i](e,o,n,!0)){t=!0;break}if(t)break}const r=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o,e.push("paragraph_open","p",1).map=[t,e.line];const a=e.push("inline","",0);return a.content=r,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}]];function bf(){this.ruler=new Pm;for(let e=0;e<_f.length;e++)this.ruler.push(_f[e][0],_f[e][1],{alt:(_f[e][2]||[]).slice()})}function vf(e,t,n,s){this.src=e,this.env=n,this.md=t,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function yf(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}bf.prototype.tokenize=function(e,t,n){const s=this.ruler.getRules(""),i=s.length,o=e.md.options.maxNesting;let r=t,a=!1;for(;r<n&&(e.line=r=e.skipEmptyLines(r),!(r>=n))&&!(e.sCount[r]<e.blkIndent);){if(e.level>=o){e.line=n;break}const t=e.line;let c=!1;for(let o=0;o<i;o++)if(c=s[o](e,r,n,!1),c){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),r=e.line,r<n&&e.isEmpty(r)&&(a=!0,r++,e.line=r)}},bf.prototype.parse=function(e,t,n,s){if(!e)return;const i=new this.State(e,t,n,s);this.tokenize(i,i.line,i.lineMax)},bf.prototype.State=cf,vf.prototype.pushPending=function(){const e=new $m("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},vf.prototype.push=function(e,t,n){this.pending&&this.pushPending();const s=new $m(e,t,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(i),s},vf.prototype.scanDelims=function(e,t){const n=this.posMax,s=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<n&&this.src.charCodeAt(o)===s;)o++;const r=o-e,a=o<n?this.src.charCodeAt(o):32,c=Bm(i)||zm(String.fromCharCode(i)),l=Bm(a)||zm(String.fromCharCode(a)),u=Mm(i),d=Mm(a),h=!d&&(!l||u||c),p=!u&&(!c||d||l);return{can_open:h&&(t||!p||c),can_close:p&&(t||!h||l),length:r}},vf.prototype.Token=$m;const Cf=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const Df=[];for(let m=0;m<256;m++)Df.push(0);function Af(e,t){let n;const s=[],i=t.length;for(let o=0;o<i;o++){const i=t[o];if(126!==i.marker)continue;if(-1===i.end)continue;const r=t[i.end];n=e.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[r.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[r.token-1].type&&"~"===e.tokens[r.token-1].content&&s.push(r.token-1)}for(;s.length;){const t=s.pop();let i=t+1;for(;i<e.tokens.length&&"s_close"===e.tokens[i].type;)i++;i--,t!==i&&(n=e.tokens[i],e.tokens[i]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){Df[e.charCodeAt(0)]=1}));const wf={tokenize:function(e,t){const n=e.pos,s=e.src.charCodeAt(n);if(t)return!1;if(126!==s)return!1;const i=e.scanDelims(e.pos,!0);let o=i.length;const r=String.fromCharCode(s);if(o<2)return!1;let a;o%2&&(a=e.push("text","",0),a.content=r,o--);for(let c=0;c<o;c+=2)a=e.push("text","",0),a.content=r+r,e.delimiters.push({marker:s,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Af(e,e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&Af(e,t[s].delimiters)}};function Ef(e,t){for(let n=t.length-1;n>=0;n--){const s=t[n];if(95!==s.marker&&42!==s.marker)continue;if(-1===s.end)continue;const i=t[s.end],o=n>0&&t[n-1].end===s.end+1&&t[n-1].marker===s.marker&&t[n-1].token===s.token-1&&t[s.end+1].token===i.token+1,r=String.fromCharCode(s.marker),a=e.tokens[s.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?r+r:r,a.content="";const c=e.tokens[i.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?r+r:r,c.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[s.end+1].token].content="",n--)}}const xf={tokenize:function(e,t){const n=e.pos,s=e.src.charCodeAt(n);if(t)return!1;if(95!==s&&42!==s)return!1;const i=e.scanDelims(e.pos,42===s);for(let o=0;o<i.length;o++){e.push("text","",0).content=String.fromCharCode(s),e.delimiters.push({marker:s,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ef(e,e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&Ef(e,t[s].delimiters)}};const Sf=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Ff=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const Lf=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Tf=/^&([a-z][a-z0-9]{1,31});/i;function Mf(e){const t={},n=e.length;if(!n)return;let s=0,i=-2;const o=[];for(let r=0;r<n;r++){const n=e[r];if(o.push(0),e[s].marker===n.marker&&i===n.token-1||(s=r),i=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[n.marker][(n.open?3:0)+n.length%3];let c=s-o[s]-1,l=c;for(;c>a;c-=o[c]+1){const t=e[c];if(t.marker===n.marker&&(t.open&&t.end<0)){let s=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3==0&&n.length%3==0||(s=!0)),!s){const s=c>0&&!e[c-1].open?o[c-1]+1:0;o[r]=r-c+s,o[c]=s,n.open=!1,t.end=r,t.close=!1,l=-1,i=-2;break}}}-1!==l&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=l)}}const zf=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!yf(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const s=e.pending.match(Cf);if(!s)return!1;const i=s[1],o=e.md.linkify.matchAtStart(e.src.slice(n-i.length));if(!o)return!1;let r=o.url;if(r.length<=i.length)return!1;r=r.replace(/\*+$/,"");const a=e.md.normalizeLink(r);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);const t=e.push("link_open","a",1);t.attrs=[["href",a]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(r);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=r.length-i.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const s=e.pending.length-1,i=e.posMax;if(!t)if(s>=0&&32===e.pending.charCodeAt(s))if(s>=1&&32===e.pending.charCodeAt(s-1)){let t=s-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&Tm(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const s=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=s)return!1;let i=e.src.charCodeAt(n);if(10===i){for(t||e.push("hardbreak","br",0),n++;n<s&&(i=e.src.charCodeAt(n),Tm(i));)n++;return e.pos=n,!0}let o=e.src[n];if(i>=55296&&i<=56319&&n+1<s){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(o+=e.src[n+1],n++)}const r="\\"+o;if(!t){const t=e.push("text_special","",0);i<256&&0!==Df[i]?t.content=o:t.content=r,t.markup=r,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const s=n;n++;const i=e.posMax;for(;n<i&&96===e.src.charCodeAt(n);)n++;const o=e.src.slice(s,n),r=o.length;if(e.backticksScanned&&(e.backticks[r]||0)<=s)return t||(e.pending+=o),e.pos+=r,!0;let a,c=n;for(;-1!==(a=e.src.indexOf("`",c));){for(c=a+1;c<i&&96===e.src.charCodeAt(c);)c++;const s=c-a;if(s===r){if(!t){const t=e.push("code_inline","code",0);t.markup=o,t.content=e.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=c,!0}e.backticks[s]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=r,!0}],["strikethrough",wf.tokenize],["emphasis",xf.tokenize],["link",function(e,t){let n,s,i,o,r="",a="",c=e.pos,l=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const u=e.pos,d=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let m=p+1;if(m<d&&40===e.src.charCodeAt(m)){for(l=!1,m++;m<d&&(n=e.src.charCodeAt(m),Tm(n)||10===n);m++);if(m>=d)return!1;if(c=m,i=e.md.helpers.parseLinkDestination(e.src,m,e.posMax),i.ok){for(r=e.md.normalizeLink(i.str),e.md.validateLink(r)?m=i.pos:r="",c=m;m<d&&(n=e.src.charCodeAt(m),Tm(n)||10===n);m++);if(i=e.md.helpers.parseLinkTitle(e.src,m,e.posMax),m<d&&c!==m&&i.ok)for(a=i.str,m=i.pos;m<d&&(n=e.src.charCodeAt(m),Tm(n)||10===n);m++);}(m>=d||41!==e.src.charCodeAt(m))&&(l=!0),m++}if(l){if(void 0===e.env.references)return!1;if(m<d&&91===e.src.charCodeAt(m)?(c=m+1,m=e.md.helpers.parseLinkLabel(e,m),m>=0?s=e.src.slice(c,m++):m=p+1):m=p+1,s||(s=e.src.slice(h,p)),o=e.env.references[Im(s)],!o)return e.pos=u,!1;r=o.href,a=o.title}if(!t){e.pos=h,e.posMax=p;const t=[["href",r]];e.push("link_open","a",1).attrs=t,a&&t.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=m,e.posMax=d,!0}],["image",function(e,t){let n,s,i,o,r,a,c,l,u="";const d=e.pos,h=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const p=e.pos+2,m=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(m<0)return!1;if(o=m+1,o<h&&40===e.src.charCodeAt(o)){for(o++;o<h&&(n=e.src.charCodeAt(o),Tm(n)||10===n);o++);if(o>=h)return!1;for(l=o,a=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),a.ok&&(u=e.md.normalizeLink(a.str),e.md.validateLink(u)?o=a.pos:u=""),l=o;o<h&&(n=e.src.charCodeAt(o),Tm(n)||10===n);o++);if(a=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<h&&l!==o&&a.ok)for(c=a.str,o=a.pos;o<h&&(n=e.src.charCodeAt(o),Tm(n)||10===n);o++);else c="";if(o>=h||41!==e.src.charCodeAt(o))return e.pos=d,!1;o++}else{if(void 0===e.env.references)return!1;if(o<h&&91===e.src.charCodeAt(o)?(l=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?i=e.src.slice(l,o++):o=m+1):o=m+1,i||(i=e.src.slice(p,m)),r=e.env.references[Im(i)],!r)return e.pos=d,!1;u=r.href,c=r.title}if(!t){s=e.src.slice(p,m);const t=[];e.md.inline.parse(s,e.md,e.env,t);const n=e.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=t,n.content=s,c&&i.push(["title",c])}return e.pos=o,e.posMax=h,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const s=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const o=e.src.slice(s+1,n);if(Ff.test(o)){const n=e.md.normalizeLink(o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const s=e.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return e.pos+=o.length+2,!0}if(Sf.test(o)){const n=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const s=e.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return e.pos+=o.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,s=e.pos;if(60!==e.src.charCodeAt(s)||s+2>=n)return!1;const i=e.src.charCodeAt(s+1);if(33!==i&&63!==i&&47!==i&&!function(e){const t=32|e;return t>=97&&t<=122}(i))return!1;const o=e.src.slice(s).match(ff);if(!o)return!1;if(!t){const t=e.push("html_inline","",0);t.content=o[0],r=t.content,/^<a[>\s]/i.test(r)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var r;return e.pos+=o[0].length,!0}],["entity",function(e,t){const n=e.pos,s=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=s)return!1;if(35===e.src.charCodeAt(n+1)){const s=e.src.slice(n).match(Lf);if(s){if(!t){const t="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),n=e.push("text_special","",0);n.content=bm(t)?vm(t):vm(65533),n.markup=s[0],n.info="entity"}return e.pos+=s[0].length,!0}}else{const s=e.src.slice(n).match(Tf);if(s){const n=Ld(s[0]);if(n!==s[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=s[0],t.info="entity"}return e.pos+=s[0].length,!0}}}return!1}]],Bf=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Mf(e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&Mf(t[s].delimiters)}],["strikethrough",wf.postProcess],["emphasis",xf.postProcess],["fragments_join",function(e){let t,n,s=0;const i=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)i[t].nesting<0&&s--,i[t].level=s,i[t].nesting>0&&s++,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}]];function If(){this.ruler=new Pm;for(let e=0;e<zf.length;e++)this.ruler.push(zf[e][0],zf[e][1]);this.ruler2=new Pm;for(let e=0;e<Bf.length;e++)this.ruler2.push(Bf[e][0],Bf[e][1])}function Nf(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function Of(e){return Object.prototype.toString.call(e)}function Hf(e){return"[object Function]"===Of(e)}function jf(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}If.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),s=n.length,i=e.md.options.maxNesting,o=e.cache;if(void 0!==o[t])return void(e.pos=o[t]);let r=!1;if(e.level<i){for(let a=0;a<s;a++)if(e.level++,r=n[a](e,!0),e.level--,r){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;r||e.pos++,o[t]=e.pos},If.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,s=e.posMax,i=e.md.options.maxNesting;for(;e.pos<s;){const o=e.pos;let r=!1;if(e.level<i)for(let s=0;s<n;s++)if(r=t[s](e,!1),r){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(r){if(e.pos>=s)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},If.prototype.parse=function(e,t,n,s){const i=new this.State(e,t,n,s);this.tokenize(i);const o=this.ruler2.getRules(""),r=o.length;for(let a=0;a<r;a++)o[a](i)},If.prototype.State=vf;const Rf={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const Pf={"http:":{validate:function(e,t,n){const s=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const s=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const s=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},$f="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",qf="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Vf(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=lm.source,t.src_Cc=um.source,t.src_Z=pm.source,t.src_P=dm.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push($f),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");const i=[];function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){const n=e.__schemas__[t];if(null===n)return;const s={validate:null,link:null};if(e.__compiled__[t]=s,"[object Object]"===Of(n))return!function(e){return"[object RegExp]"===Of(e)}(n.validate)?Hf(n.validate)?s.validate=n.validate:o(t,n):s.validate=function(e){return function(t,n){const s=t.slice(n);return e.test(s)?s.match(e)[0].length:0}}(n.validate),void(Hf(n.normalize)?s.normalize=n.normalize:n.normalize?o(t,n):s.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===Of(e)}(n)?o(t,n):i.push(t)})),i.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const r=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(jf).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+r+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+r+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function Uf(e,t){const n=e.__index__,s=e.__last_index__,i=e.__text_cache__.slice(n,s);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=s+t,this.raw=i,this.text=i,this.url=i}function Zf(e,t){const n=new Uf(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Wf(e,t){if(!(this instanceof Wf))return new Wf(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||Rf.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=Nf({},Rf,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Nf({},Pf,e),this.__compiled__={},this.__tlds__=qf,this.__tlds_replaced__=!1,this.re={},Vf(this)}Wf.prototype.add=function(e,t){return this.__schemas__[e]=t,Vf(this),this},Wf.prototype.set=function(e){return this.__opts__=Nf(this.__opts__,e),this},Wf.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,s,i,o,r,a,c,l;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(i=this.testSchemaAt(e,t[2],a.lastIndex),i){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&null!==(s=e.match(this.re.email_fuzzy))&&(o=s.index+s[1].length,r=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),this.__index__>=0},Wf.prototype.pretest=function(e){return this.re.pretest.test(e)},Wf.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},Wf.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(Zf(this,n)),n=this.__last_index__);let s=n?e.slice(n):e;for(;this.test(s);)t.push(Zf(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},Wf.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,Zf(this,0)):null},Wf.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),Vf(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Vf(this),this)},Wf.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},Wf.prototype.onCompile=function(){};const Gf={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Kf=/^(vbscript|javascript|file|data):/,Jf=/^data:image\/(gif|png|jpeg|webp);/;function Qf(e){const t=e.trim().toLowerCase();return!Kf.test(t)||Jf.test(t)}const Xf=["http:","https:","mailto:"];function Yf(e){const t=am(e,!0);if(t.hostname&&(!t.protocol||Xf.indexOf(t.protocol)>=0))try{t.hostname=Ap.toASCII(t.hostname)}catch(n){}return Wp(Gp(t))}function eg(e){const t=am(e,!0);if(t.hostname&&(!t.protocol||Xf.indexOf(t.protocol)>=0))try{t.hostname=Ap.toUnicode(t.hostname)}catch(n){}return Up(Gp(t),Up.defaultChars+"%")}function tg(e,t){if(!(this instanceof tg))return new tg(e,t);t||fm(e)||(t=e||{},e="default"),this.inline=new If,this.block=new bf,this.core=new af,this.renderer=new Rm,this.linkify=new Wf,this.validateLink=Qf,this.normalizeLink=Yf,this.normalizeLinkText=eg,this.utils=Om,this.helpers=km({},Hm),this.options={},this.configure(e),t&&this.set(t)}var ng,sg;tg.prototype.set=function(e){return km(this.options,e),this},tg.prototype.configure=function(e){const t=this;if(fm(e)){const t=e;if(!(e=Gf[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)})),this},tg.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));const s=e.filter((function(e){return n.indexOf(e)<0}));if(s.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this},tg.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));const s=e.filter((function(e){return n.indexOf(e)<0}));if(s.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this},tg.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},tg.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},tg.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},tg.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},tg.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const ig=Dr(function(){if(sg)return ng;sg=1;var e=!0,t=!1,n=!1;function s(e,t,n){var s=e.attrIndex(t),i=[t,n];s<0?e.attrPush(i):e.attrs[s]=i}function i(e,t){for(var n=e[t].level-1,s=t-1;s>=0;s--)if(e[s].level===n)return s;return-1}function o(e,t){return"inline"===e[t].type&&function(e){return"paragraph_open"===e.type}(e[t-1])&&function(e){return"list_item_open"===e.type}(e[t-2])&&function(e){return 0===e.content.indexOf("[ ] ")||0===e.content.indexOf("[x] ")||0===e.content.indexOf("[X] ")}(e[t])}function r(s,i){if(s.children.unshift(function(t,n){var s=new n("html_inline","",0),i=e?' disabled="" ':"";0===t.content.indexOf("[ ] ")?s.content='<input class="task-list-item-checkbox"'+i+'type="checkbox">':0!==t.content.indexOf("[x] ")&&0!==t.content.indexOf("[X] ")||(s.content='<input class="task-list-item-checkbox" checked=""'+i+'type="checkbox">');return s}(s,i)),s.children[1].content=s.children[1].content.slice(3),s.content=s.content.slice(3),t)if(n){s.children.pop();var o="task-item-"+Math.ceil(1e7*Math.random()-1e3);s.children[0].content=s.children[0].content.slice(0,-1)+' id="'+o+'">',s.children.push(function(e,t,n){var s=new n("html_inline","",0);return s.content='<label class="task-list-item-label" for="'+t+'">'+e+"</label>",s.attrs=[{for:t}],s}(s.content,o,i))}else s.children.unshift(function(e){var t=new e("html_inline","",0);return t.content="<label>",t}(i)),s.children.push(function(e){var t=new e("html_inline","",0);return t.content="</label>",t}(i))}return ng=function(a,c){c&&(e=!c.enabled,t=!!c.label,n=!!c.labelAfter),a.core.ruler.after("inline","github-task-lists",(function(t){for(var n=t.tokens,a=2;a<n.length;a++)o(n,a)&&(r(n[a],t.Token),s(n[a-2],"class","task-list-item"+(e?"":" enabled")),s(n[i(n,a-2)],"class","contains-task-list"))}))}}());var og=Object.defineProperty,rg=(e,t,n)=>(((e,t,n)=>{t in e?og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const ag=O.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:e=>"true"===e.getAttribute("data-tight")||!e.querySelector("p"),renderHTML:e=>({class:e.tight?this.options.tightClass:null,"data-tight":e.tight?"true":null})}}}]},addCommands(){var e=this;return{toggleTight:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n=>{let{editor:s,commands:i}=n;return e.options.listTypes.some((e=>function(e){if(!s.isActive(e))return!1;const n=s.getAttributes(e);return i.updateAttributes(e,{tight:null!=t?t:!(null!=n&&n.tight)})}(e)))}}}}}),cg=tg();function lg(e,t){cg.inline.State.prototype.scanDelims.call({src:e,posMax:e.length});return new cg.inline.State(e,null,null,[]).scanDelims(t,!0)}function ug(e,t,n,s){let i=e.substring(0,n)+e.substring(n+t.length);return i=i.substring(0,n+s)+t+i.substring(n+s),i}function dg(e,t,n,s){let i={text:e,from:n,to:s};return i=function(e,t,n,s){let i=n,o=e;for(;i<s&&!lg(o,i).can_open;)o=ug(o,t,i,1),i++;return{text:o,from:i,to:s}}(i.text,t,i.from,i.to),i=function(e,t,n,s){let i=s,o=e;for(;i>n&&!lg(o,i).can_close;)o=ug(o,t,i,-1),i--;return{text:o,from:n,to:i}}(i.text,t,i.from,i.to),i.to-i.from<t.length+1&&(i.text=i.text.substring(0,i.from)+i.text.substring(i.to+t.length)),i.text}class hg extends qp{constructor(e,t,n){super(e,t,null!=n?n:{}),rg(this,"inTable",!1),this.inlines=[]}render(e,t,n){super.render(e,t,n);const s=this.inlines[this.inlines.length-1];if(null!=s&&s.start&&null!=s&&s.end){const{delimiter:e,start:t,end:n}=this.normalizeInline(s);this.out=dg(this.out,e,t,n),this.inlines.pop()}}markString(e,t,n,s){const i=this.marks[e.type.name];if(i.expelEnclosingWhitespace)if(t)this.inlines.push({start:this.out.length,delimiter:i.open});else{const e=this.inlines.pop();this.inlines.push({...e,end:this.out.length})}return super.markString(e,t,n,s)}normalizeInline(e){let{start:t,end:n}=e;for(;this.out.charAt(t).match(/\s/);)t++;return{...e,start:t}}}const pg=x.create({name:"markdownHTMLMark",addStorage:()=>({markdown:{serialize:{open(e,t){var n,s;return this.editor.storage.markdown.options.html?null!==(n=null===(s=mg(t))||void 0===s?void 0:s[0])&&void 0!==n?n:"":(console.warn(`Tiptap Markdown: "${t.type.name}" mark is only available in html mode`),"")},close(e,t){var n,s;return this.editor.storage.markdown.options.html&&null!==(n=null===(s=mg(t))||void 0===s?void 0:s[1])&&void 0!==n?n:""}},parse:{}}})});function mg(e){const t=e.type.schema,n=t.text(" ",[e]),s=ie(R.from(n),t).match(/^(<.*?>) (<\/.*?>)$/);return s?[s[1],s[2]]:null}function fg(e){const t=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(t,"text/html").body}const gg=A.create({name:"markdownHTMLNode",addStorage:()=>({markdown:{serialize(e,t,n){this.editor.storage.markdown.options.html?e.write(function(e,t){const n=e.type.schema,s=ie(R.from(e),n);if(e.isBlock&&(t instanceof R||t.type.name===n.topNodeType.name))return function(e){const t=fg(e),n=t.firstElementChild;return n.innerHTML=n.innerHTML.trim()?`\n${n.innerHTML}\n`:"\n",n.outerHTML}(s);return s}(t,n)):(console.warn(`Tiptap Markdown: "${t.type.name}" node is only available in html mode`),e.write(`[${t.type.name}]`)),t.isBlock&&e.closeBlock(t)},parse:{}}})});const kg=A.create({name:"blockquote"}).extend({addStorage:()=>({markdown:{serialize:Pp.nodes.blockquote,parse:{}}})}),_g=A.create({name:"bulletList"}).extend({addStorage:()=>({markdown:{serialize(e,t){return e.renderList(t,"  ",(()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" "))},parse:{}}})}),bg=A.create({name:"codeBlock"}).extend({addStorage:()=>({markdown:{serialize(e,t){e.write("```"+(t.attrs.language||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},parse:{setup(e){var t;e.set({langPrefix:null!==(t=this.options.languageClassPrefix)&&void 0!==t?t:"language-"})},updateDOM(e){e.innerHTML=e.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}})}),vg=A.create({name:"hardBreak"}).extend({addStorage:()=>({markdown:{serialize(e,t,n,s){for(let i=s+1;i<n.childCount;i++)if(n.child(i).type!=t.type)return void e.write(e.inTable?gg.storage.markdown.serialize.call(this,e,t,n):"\\\n")},parse:{}}})}),yg=A.create({name:"heading"}).extend({addStorage:()=>({markdown:{serialize:Pp.nodes.heading,parse:{}}})}),Cg=A.create({name:"horizontalRule"}).extend({addStorage:()=>({markdown:{serialize:Pp.nodes.horizontal_rule,parse:{}}})}),Dg=A.create({name:"image"}).extend({addStorage:()=>({markdown:{serialize:Pp.nodes.image,parse:{}}})}),Ag=A.create({name:"listItem"}).extend({addStorage:()=>({markdown:{serialize:Pp.nodes.list_item,parse:{}}})});const wg=A.create({name:"orderedList"}).extend({addStorage:()=>({markdown:{serialize(e,t,n,s){const i=t.attrs.start||1,o=String(i+t.childCount-1).length,r=e.repeat(" ",o+2),a=function(e,t,n){let s=0;for(;n-s>0&&t.child(n-s-1).type.name===e.type.name;s++);return s}(t,n,s),c=a%2?") ":". ";e.renderList(t,r,(t=>{const n=String(i+t);return e.repeat(" ",o-n.length)+n+c}))},parse:{}}})}),Eg=A.create({name:"paragraph"}).extend({addStorage:()=>({markdown:{serialize:Pp.nodes.paragraph,parse:{}}})});function xg(e){var t,n;return null!==(t=null==e||null===(n=e.content)||void 0===n?void 0:n.content)&&void 0!==t?t:[]}const Sg=A.create({name:"table"}).extend({addStorage:()=>({markdown:{serialize(e,t,n){!function(e){const t=xg(e),n=t[0],s=t.slice(1);if(xg(n).some((e=>"tableHeader"!==e.type.name||Fg(e)||e.childCount>1)))return!1;if(s.some((e=>xg(e).some((e=>"tableHeader"===e.type.name||Fg(e)||e.childCount>1)))))return!1;return!0}(t)?gg.storage.markdown.serialize.call(this,e,t,n):(e.inTable=!0,t.forEach(((t,n,s)=>{if(e.write("| "),t.forEach(((t,n,s)=>{s&&e.write(" | ");const i=t.firstChild;i.textContent.trim()&&e.renderInline(i)})),e.write(" |"),e.ensureNewLine(),!s){const n=Array.from({length:t.childCount}).map((()=>"---")).join(" | ");e.write(`| ${n} |`),e.ensureNewLine()}})),e.closeBlock(t),e.inTable=!1)},parse:{}}})});function Fg(e){return e.attrs.colspan>1||e.attrs.rowspan>1}const Lg=A.create({name:"taskItem"}).extend({addStorage:()=>({markdown:{serialize(e,t){const n=t.attrs.checked?"[x]":"[ ]";e.write(`${n} `),e.renderContent(t)},parse:{updateDOM(e){[...e.querySelectorAll(".task-list-item")].forEach((e=>{const t=e.querySelector("input");e.setAttribute("data-type","taskItem"),t&&(e.setAttribute("data-checked",t.checked),t.remove())}))}}}})}),Tg=A.create({name:"taskList"}).extend({addStorage:()=>({markdown:{serialize:_g.storage.markdown.serialize,parse:{setup(e){e.use(ig)},updateDOM(e){[...e.querySelectorAll(".contains-task-list")].forEach((e=>{e.setAttribute("data-type","taskList")}))}}}})}),Mg=A.create({name:"text"}).extend({addStorage:()=>({markdown:{serialize(e,t){var n;e.text(null==(n=t.text)?void 0:n.replace(/</g,"&lt;").replace(/>/g,"&gt;"))},parse:{}}})}),zg=x.create({name:"bold"}).extend({addStorage:()=>({markdown:{serialize:Pp.marks.strong,parse:{}}})}),Bg=x.create({name:"code"}).extend({addStorage:()=>({markdown:{serialize:Pp.marks.code,parse:{}}})}),Ig=x.create({name:"italic"}).extend({addStorage:()=>({markdown:{serialize:Pp.marks.em,parse:{}}})}),Ng=x.create({name:"link"}).extend({addStorage:()=>({markdown:{serialize:Pp.marks.link,parse:{}}})}),Og=x.create({name:"strike"}).extend({addStorage:()=>({markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}})}),Hg=[kg,_g,bg,vg,yg,Cg,gg,Dg,Ag,wg,Eg,Sg,Lg,Tg,Mg,zg,Bg,pg,Ig,Ng,Og];function jg(e){var t,n;const s=null===(t=e.storage)||void 0===t?void 0:t.markdown,i=null===(n=Hg.find((t=>t.name===e.name)))||void 0===n?void 0:n.storage.markdown;return s||i?{...i,...s}:null}class Rg{constructor(e){rg(this,"editor",null),this.editor=e}serialize(e){const t=new hg(this.nodes,this.marks,{hardBreakNodeName:vg.name});return t.renderContent(e),t.out}get nodes(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map((e=>[e,this.serializeNode(gg)]))),...Object.fromEntries(null!==(e=this.editor.extensionManager.extensions.filter((e=>"node"===e.type&&this.serializeNode(e))).map((e=>[e.name,this.serializeNode(e)])))&&void 0!==e?e:[])}}get marks(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map((e=>[e,this.serializeMark(pg)]))),...Object.fromEntries(null!==(e=this.editor.extensionManager.extensions.filter((e=>"mark"===e.type&&this.serializeMark(e))).map((e=>[e.name,this.serializeMark(e)])))&&void 0!==e?e:[])}}serializeNode(e){var t;return null===(t=jg(e))||void 0===t||null===(t=t.serialize)||void 0===t?void 0:t.bind({editor:this.editor,options:e.options})}serializeMark(e){var t;const n=null===(t=jg(e))||void 0===t?void 0:t.serialize;return n?{...n,open:"function"==typeof n.open?n.open.bind({editor:this.editor,options:e.options}):n.open,close:"function"==typeof n.close?n.close.bind({editor:this.editor,options:e.options}):n.close}:null}}class Pg{constructor(e,t){rg(this,"editor",null),rg(this,"md",null);let{html:n,linkify:s,breaks:i}=t;this.editor=e,this.md=this.withPatchedRenderer(tg({html:n,linkify:s,breaks:i}))}parse(e){let{inline:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){this.editor.extensionManager.extensions.forEach((e=>{var t;return null===(t=jg(e))||void 0===t||null===(t=t.parse)||void 0===t||null===(t=t.setup)||void 0===t?void 0:t.call({editor:this.editor,options:e.options},this.md)}));const n=fg(this.md.render(e));return this.editor.extensionManager.extensions.forEach((e=>{var t;return null===(t=jg(e))||void 0===t||null===(t=t.parse)||void 0===t||null===(t=t.updateDOM)||void 0===t?void 0:t.call({editor:this.editor,options:e.options},n)})),this.normalizeDOM(n,{inline:t,content:e}),n.innerHTML}return e}normalizeDOM(e,t){let{inline:n,content:s}=t;return this.normalizeBlocks(e),e.querySelectorAll("*").forEach((e=>{var t;(null===(t=e.nextSibling)||void 0===t?void 0:t.nodeType)!==Node.TEXT_NODE||e.closest("pre")||(e.nextSibling.textContent=e.nextSibling.textContent.replace(/^\n/,""))})),n&&this.normalizeInline(e,s),e}normalizeBlocks(e){const t=Object.values(this.editor.schema.nodes).filter((e=>e.isBlock)).map((e=>{var t;return null===(t=e.spec.parseDOM)||void 0===t?void 0:t.map((e=>e.tag))})).flat().filter(Boolean).join(",");t&&[...e.querySelectorAll(t)].forEach((e=>{e.parentElement.matches("p")&&function(e){const t=e.parentElement,n=t.cloneNode();for(;t.firstChild&&t.firstChild!==e;)n.appendChild(t.firstChild);n.childNodes.length>0&&t.parentElement.insertBefore(n,t),t.parentElement.insertBefore(e,t),0===t.childNodes.length&&t.remove()}(e)}))}normalizeInline(e,t){var n;if(null!==(n=e.firstElementChild)&&void 0!==n&&n.matches("p")){var s,i,o,r;const n=e.firstElementChild,{nextElementSibling:a}=n,c=null!==(s=null===(i=t.match(/^\s+/))||void 0===i?void 0:i[0])&&void 0!==s?s:"",l=a?"":null!==(o=null===(r=t.match(/\s+$/))||void 0===r?void 0:r[0])&&void 0!==o?o:"";if(t.match(/^\n\n/))return void(n.innerHTML=`${n.innerHTML}${l}`);!function(e){const t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(n),e.innerHTML=`${c}${e.innerHTML}${l}`}}withPatchedRenderer(e){const t=e=>function(){const t=e(...arguments);return"\n"===t?t:"\n"===t[t.length-1]?t.slice(0,-1):t};return e.renderer.rules.hardbreak=t(e.renderer.rules.hardbreak),e.renderer.rules.softbreak=t(e.renderer.rules.softbreak),e.renderer.rules.fence=t(e.renderer.rules.fence),e.renderer.rules.code_block=t(e.renderer.rules.code_block),e.renderer.renderToken=t(e.renderer.renderToken.bind(e.renderer)),e}}const $g=O.create({name:"markdownClipboard",addOptions:()=>({transformPastedText:!1,transformCopiedText:!1}),addProseMirrorPlugins(){return[new z({key:new B("markdownClipboard"),props:{clipboardTextParser:(e,t,n)=>{if(n||!this.options.transformPastedText)return null;const s=this.editor.storage.markdown.parser.parse(e,{inline:!0});return oe.fromSchema(this.editor.schema).parseSlice(fg(s),{preserveWhitespace:!0,context:t})},clipboardTextSerializer:e=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(e.content):null}})]}}),qg=O.create({name:"markdown",priority:50,addOptions:()=>({html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}),addCommands(){const e=re.Commands.config.addCommands();return{setContent:(t,n,s)=>i=>e.setContent(i.editor.storage.markdown.parser.parse(t),n,s)(i),insertContentAt:(t,n,s)=>i=>e.insertContentAt(t,i.editor.storage.markdown.parser.parse(n,{inline:!0}),s)(i)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new Pg(this.editor,this.options),serializer:new Rg(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage:()=>({}),addExtensions(){return[ag.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),$g.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),Vg=Ca.extend({content:`${b} block*`});const Ug=s({name:"NotesEditorTitleBackLinks",components:{NotesEditorBackLinks:s({name:"NotesEditorBackLinks",components:{NotesEditorLinkPreview:ae,BaseDropdown:Oe,BaseDropdownContent:Pe},inject:["activeNote"],setup:()=>({notesStore:ce(),notesViewStateStore:Ar()}),computed:{activeNoteBackLinks(){return this.notesStore.getBackLinks[this.activeNote.linkKey]??[]}},methods:{setActiveNote(e){e.deleted?this.notesViewStateStore.setActiveView("deleted"):this.notesViewStateStore.setActiveView("list"),this.notesStore.activeItemId=e.id}}},(function(){var e=this,t=e._self._c;return e.activeNoteBackLinks.length>0?t("div",{staticClass:"notes-editor-back-links",attrs:{"data-test":"note-back-links"}},[t("base-dropdown",{attrs:{hover:!0},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("inline-svg",{staticClass:"icon icon-back-link",attrs:{src:Dn}})]},proxy:!0}],null,!1,154415150)},[t("template",{slot:"contentOverride"},[t("base-dropdown-content",{staticClass:"notes-editor-back-links-tooltip-content"},[t("span",[e._v("Linked to this note")]),t("a",{attrs:{href:"https://get.momentumdash.help/hc/en-us/articles/17665906818839",target:"_blank"}},[e._v("Learn more")])])],1)],2),t("div",{staticClass:"notes-editor-back-links-items"},e._l(e.activeNoteBackLinks,(function(n){return t("button",{key:n.id,staticClass:"notes-editor-back-links-item",attrs:{"data-test":"note-back-links-item"},on:{click:function(t){return e.setActiveNote(n)}}},[t("notes-editor-link-preview",{attrs:{note:n}})],1)})),0)],1):e._e()}),[],!1,null,"8148431e").exports,NodeViewWrapper:le,NodeViewContent:ue},inject:["activeNote"],props:{...de},computed:{placeholder(){return this.activeNote.draft?he.New:he.None}}},(function(){var e=this._self._c;return e("node-view-wrapper",{ref:"nodeViewWrapper",staticClass:"notes-editor-title-node-view"},[e("node-view-content",{staticClass:"title",attrs:{as:"h1","data-placeholder":this.placeholder}}),e("notes-editor-back-links",{attrs:{contenteditable:"false"}})],1)}),[],!1,null,"ec614a5a").exports,Zg=Ia.extend({name:b,content:"text*",marks:"",group:b,addAttributes:()=>({levels:[1]}),addCommands:()=>({}),addNodeView:()=>pe(Ug)}),Wg=(()=>{const e=[bc.configure({showOnlyCurrent:!1}),vu,Du,Eu,Mu,Nu,ju,vc,Cc,bu],t=[_c.configure({document:!1,horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),Vg,Zg,qg.configure({transformPastedText:!0}),me.configure({renderHTMLWithDOMContent:!0}),...e],n=[_c.configure({horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),me,...e],s=new fe({content:"",editable:!0,extensions:t}),i=a("notesEditor",{state:()=>({cursor:{x:"0px",y:"0px",width:"0px",height:"0px",left:"0px",right:"0px",top:"0px"},controlStates:{bold:!1,italic:!1,strike:!1,bulletList:!1,orderedList:!1,heading:{1:{options:{level:1},value:!1},2:{options:{level:2},value:!1}},link:!1,highlight:!1,underline:!1},selection:{from:0,to:0},bodyEmpty:!0}),getters:{editor:()=>s,selectedText(e){const{from:t,to:n}=e.selection;return s.state.selection.from!==t||s.state.selection.to!==n?"":s.state.doc.textBetween(t,n," ")??""},selectedHTML(e){const{from:t,to:n}=e.selection;return s.state.selection.from!==t||s.state.selection.to!==n?"":ie(s.state.doc.cut(t,n).content,s.schema)}},actions:{updateSelection(){this.selection=s.state.selection},updateCursorDetails(){const e=ge(s.view,this.selection.from,this.selection.to),t=s.view.dom.getBoundingClientRect();this.cursor={x:e.x-t.x+"px",y:e.y-t.y+"px",width:`${e.width}px`,height:`${e.height}px`,left:e.left-t.left+"px",right:t.right-e.right+"px",top:e.top-t.top+"px"}},updateControlStates(){Object.entries(this.controlStates).forEach((([e,t])=>{"heading"!==e?this.controlStates[e]=this.editor.isActive(e):Object.values(t).forEach((t=>{t.value=this.editor.isActive(e,t.options)}))}))},updateEditorBodyEmpty(){const e=this.getBodyHTMLContent();this.bodyEmpty=""===e||e===ke.BodyHTML.toString()},setContent(e,t,i=!0){var o,r;const a=_e(t,n),c={type:b,...e?{content:[{type:"text",text:e}]}:{}};null==(o=a.content)||o.unshift(c),""===t&&(null==(r=a.content)||r.splice(-1,1)),s.commands.setContent(a),i&&this.resetHistory()},getTitleBodyNodes(){const e=s.state.doc.child(0);return[e,s.state.doc.cut(e.nodeSize)]},getTitleContent(){try{const[e]=this.getTitleBodyNodes();return e.textContent}catch(e){return console.log(e),ke.BodyOrTitleText}},getBodyHTMLContent(e=!1){try{const[,t]=this.getTitleBodyNodes();return e?ie(t.content,s.schema):be(t.toJSON(),n)}catch(t){return console.log(t),ke.BodyHTML}},getBodyTextContent(){try{const[,e]=this.getTitleBodyNodes();return e.textContent}catch(e){return console.log(e),ke.BodyOrTitleText}},getLinkedKeys(){const e=new Set;return s.state.doc.descendants((t=>{t.type.name===me.name&&e.add(t.attrs.key)})),[...e]},resetHistory(){const e=ve.create({doc:s.state.doc,plugins:s.state.plugins,schema:s.state.schema});s.view.updateState(e)},setEditable(e){s.setEditable(e,!1)},updatePlaceholder(){const e=s.extensionManager.extensions.find((e=>"placeholder"===e.name));if(!e)return;const t=Ce[Math.round(Math.random()*(Ce.length-1))]??"";e.options.placeholder=()=>t},resetSelection(){var e;s.commands.setTextSelection(0),null==(e=window.getSelection())||e.removeAllRanges()},ensureAtLeastParagraphInBody(){var e;(null==(e=s.state.doc.lastChild)?void 0:e.type.name)===b&&s.commands.command((({tr:e,dispatch:t,editor:n})=>{if(!t)return!0;const s=ye({type:"paragraph"},n.schema);return e.setMeta("addToHistory",!1),e.replaceWith(n.state.doc.content.size,n.state.doc.content.size,s),!0}))},focus(){try{const e=s.state.doc.child(0),t=s.state.doc.cut(e.nodeSize);""===e.textContent&&""===t.textContent?s.commands.focus(0):s.commands.focus(e.nodeSize+1)}catch(e){console.error(e),s.commands.focus()}},blur(){s.commands.blur()},toggleBold(){s.chain().focus().toggleBold().run()},toggleItalic(){s.chain().focus().toggleItalic().run()},toggleStrike(){s.chain().focus().toggleStrike().run()},toggleUnderline(){s.chain().focus().toggleUnderline().run()},toggleHighlight(){s.chain().focus().toggleHighlight().run()},toggleBulletList(){s.chain().focus().toggleBulletList().run()},toggleOrderedList(){s.chain().focus().toggleOrderedList().run()},toggleHeading(e){s.chain().focus().toggleHeading({level:e}).run()},unsetAllMarks(){s.chain().focus().unsetAllMarks().run()},createNoteLink(e,t){s.chain().focus().insertContentAt(t,[{type:me.name,attrs:{key:e}}]).run()}}}),o=i();return s.on("selectionUpdate",(()=>{o.updateSelection(),o.updateControlStates(),o.updateCursorDetails()})),s.on("update",(()=>{o.updateControlStates(),o.updateCursorDetails(),o.ensureAtLeastParagraphInBody()})),s.on("transaction",(()=>{o.updateEditorBodyEmpty()})),o.updatePlaceholder(),c(l.windowDimensions,(()=>o.updateCursorDetails()),{deep:!0}),i})();const Gg={name:"NotesEditor",components:{NotesEditorLinkSuggestion:s({name:"NotesEditorLinkSuggestion",components:{BaseDropdownText:Cr,BaseDropdownDivider:br,BaseDropdownOption:Ie,BaseDropdown:Oe},inject:["notesEditorElement"],setup:()=>({editorViewStateStore:Xr(),editorStore:Wg(),notesStore:ce(),dropdown:u(),range:null,destroyEscapeEvent:!0,DropdownPosition:je,DropdownAlignment:Re}),data:()=>({activeOptionIndex:0,query:null,visible:!1}),computed:{availableItems(){return{...this.notesStore.getPinnedItems,...this.notesStore.getUnpinnedItems}},items(){return null===this.query?[]:Object.values(this.availableItems).filter((e=>e.id!==this.notesStore.activeItemId&&e.preview.toLowerCase().includes(this.query.toLowerCase()))).slice(0,5)},itemsVisible(){return this.items.length>0},newNoteOptionVisible(){return!!this.query},activeNote(){return this.availableItems[this.notesStore.activeItemId]}},watch:{visible(){this.visible?this.activateSuggestion():this.deactivateSuggestion()},items(){this.activeOptionIndex=0}},mounted(){this.editorStore.editor.on("selectionUpdate",this.updateDropdownPosition),this.editorStore.editor.on("transaction",this.updateDataFromLinkState)},destroyed(){this.editorStore.editor.off("selectionUpdate",this.updateDropdownPosition),this.editorStore.editor.off("transaction",this.updateDataFromLinkState)},methods:{openDropdown(){var e;null==(e=this.dropdown)||e.openDropdown()},closeDropdown(){var e;null==(e=this.dropdown)||e.closeDropdown()},addEvents(){wr.registerEventListener("setDropdownOptionPrev","keydown",38,(()=>this.setOptionAdjacent(-1))),wr.registerEventListener("setDropdownOptionNext","keydown",40,(()=>this.setOptionAdjacent(1))),wr.registerEventListener("selectOrCreateOption","keydown",13,this.selectOrCreateNoteAtOption),wr.registerEventListener("closeSuggestionDropdown","keyup",27,(()=>{wr.removeEventListener("closeSuggestionDropdown","keyup",27)}))},removeEvents(){wr.removeEventListener("setDropdownOptionPrev","keydown",38),wr.removeEventListener("setDropdownOptionNext","keydown",40),wr.removeEventListener("selectOrCreateOption","keydown",13),this.destroyEscapeEvent?wr.removeEventListener("closeSuggestionDropdown","keyup",27):this.destroyEscapeEvent=!0},deactivateSuggestion(){this.removeEvents(),this.closeDropdown()},activateSuggestion(){this.addEvents(),this.openDropdown()},updateDropdownPosition(){var e;this.$nextTick().then(null==(e=this.dropdown)?void 0:e.forceUpdateDropdownPosition)},async selectNote(e){this.range&&(e.linkKey||(e.linkKey=Er(),await this.notesStore.update(e.id,{linkKey:e.linkKey},{updateDate:!1})),this.editorStore.createNoteLink(e.linkKey,this.range))},async selectOrCreateNoteAtOption(){this.activeOptionIndex!==this.items.length?await this.selectNote(this.items[this.activeOptionIndex]):await this.createNewNote()},async createNewNote(){if(!this.query)return;const e=this.notesStore.create();await this.notesStore.update(e.id,{title:this.query},{updateDate:!1}),await this.selectNote(e)},setOptionAdjacent(e){const t=this.items.length+(this.newNoteOptionVisible?1:0);this.activeOptionIndex=((this.activeOptionIndex+e)%t+t)%t},updateDataFromLinkState({editor:e}){const t=De.getState(e.state);this.visible=t.active,this.query=t.query,this.range=t.range,this.visible||"Escape"!==t.prevKeyPressed||(this.destroyEscapeEvent=!1)}}},(function(){var e=this,t=e._self._c;return t("base-dropdown",{ref:"dropdown",staticClass:"notes-editor-link-suggestion",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:e.DropdownAlignment.Left,position:e.DropdownPosition.Bottom,"nipple-alignment-offset":16,"scroll-target":e.notesEditorElement,"use-toast-mobile":!1,"max-width":"15rem","container-data-test":"link-suggestion-container"},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"notes-editor-link-suggestion-toggle"})]},proxy:!0}])},[e.itemsVisible?[t("base-dropdown-text",{attrs:{"is-title":""}},[e._v(" Link to note ")]),e._l(e.items,(function(n,s){return t("base-dropdown-option",{key:n.id,attrs:{active:e.activeOptionIndex===s,"data-test":"existing-suggestion"},on:{click:function(t){return e.selectNote(n)}}},[t("inline-svg",{staticClass:"icon icon-note",attrs:{src:ms}}),t("span",{staticClass:"u--text-no-wrap"},[e._v(e._s(n.preview))])],1)}))]:e._e(),e.itemsVisible&&e.newNoteOptionVisible?t("base-dropdown-divider"):e._e(),e.newNoteOptionVisible?[t("base-dropdown-text",{attrs:{"is-title":""}},[e._v(" New note ")]),t("base-dropdown-option",{attrs:{active:e.activeOptionIndex===e.items.length},on:{click:function(t){return e.createNewNote()}}},[t("inline-svg",{staticClass:"icon icon-plus",attrs:{src:Wt}}),t("span",{staticClass:"u--text-no-wrap"},[e._v("New note: "+e._s(e.query))])],1)]:e._e(),e.itemsVisible||e.newNoteOptionVisible?e._e():[t("base-dropdown-text",[e._v(" No notes found ")])]],2)}),[],!1,null,"30371981").exports,NotesEditorAi:ia,NotesEditorToolbar:Yr,EditorContent:Ae},provide(){return{notesEditorElement:d((()=>this.editorElement))}},inject:["itemStore","viewStateStore","editorStore","activeNote"],props:{focusOnCreated:{type:Boolean,default:!0}},data:()=>({restoreBannerActive:!1,editorElement:null}),computed:{windowDimensions:()=>l.windowDimensions,cursor(){return this.editorStore.cursor}},watch:{"activeNote.id":{handler(e){e&&this.activeNote&&(this.editorStore.updatePlaceholder(),this.updateEditorWithActiveNote()),this.restoreBannerActive=!1},immediate:!0},"activeNote.updatedDate"(){const e=this.editorStore.getTitleContent(),t=this.editorStore.getBodyHTMLContent();this.editorStore.editor.isFocused||this.activeNote.body===t&&this.activeNote.title===e||this.updateEditorWithActiveNote()},"activeNote.deleted"(e){!e&&this.restoreBannerActive&&(this.restoreBannerActive=!1)}},created(){this.editorStore.editor.on("update",this.onUpdate),this.editorStore.editor.on("blur",this.onBlur),this.editorStore.editor.on("focus",this.onFocus),this.updateEditorWithActiveNote(),this.focusOnCreated&&this.focus()},mounted(){this.editorElement=this.$refs["notes-editor"]},beforeDestroy(){const e=this.$refs["editor-content"].$el,t=document.createElement("div");e.before(t),t.outerHTML=e.outerHTML,t.style.display="none",this.editorStore.editor.off("update",this.onUpdate),this.editorStore.editor.off("blur",this.onBlur),this.editorStore.editor.off("focus",this.onFocus)},methods:{save(){this.viewStateStore.activeItemId=this.activeNote.id;const e=this.editorStore.getTitleContent(),t=this.editorStore.getBodyHTMLContent(),n=this.editorStore.getLinkedKeys(),s=this.itemStore.getUpdatedProperties(this.activeNote.id,{title:e,body:t,linkedKeys:n});!this.activeNote.deleted&&Object.keys(s).length&&this.itemStore.update(this.activeNote.id,s)},restore(){this.itemStore.restore(this.activeNote.id),this.viewStateStore.setActiveView("list"),this.editorStore.focus()},onUpdate(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return m.cmd("modal.open","UPSELL_NOTES",{eventSource:"dash"}),this.editorStore.editor.commands.undo(),void this.editorStore.editor.commands.blur();clearTimeout(this.saveDebounce),this.saveDebounce=setTimeout((()=>{this.save()}),we)},onBlur(){clearTimeout(this.saveDebounce),this.save()},onFocus(){this.activeNote.deleted&&(this.restoreBannerActive=!0)},updateEditorWithActiveNote(){var e,t,n;this.editorStore.setEditable(!((null==(e=this.activeNote)?void 0:e.deleted)??1)),this.editorStore.setContent((null==(t=this.activeNote)?void 0:t.title)??"",(null==(n=this.activeNote)?void 0:n.body)??"")},focus(){this.editorStore.focus()}}},Kg=()=>{h(((e,t)=>({"635c462a":e.cursor.x,"635c4628":e.cursor.y,"61ed8494":e.cursor.height,"671698b9":e.cursor.width,af10ea98:e.cursor.left,"66d02d0f":e.cursor.right,"58428d98":e.cursor.bottom,fd6365f0:e.cursor.top})))},Jg=Gg.setup;Gg.setup=Jg?(e,t)=>(Kg(),Jg(e,t)):Kg;const Qg=s(Gg,(function(){var e=this,t=e._self._c;return t("div",{ref:"notes-editor",staticClass:"notes-editor"},[e.restoreBannerActive?t("div",{staticClass:"message"},[e._v(" Restore this note to edit. "),t("span",{staticClass:"button restore-note",on:{click:e.restore}},[e._v("Restore")])]):e._e(),t("editor-content",{ref:"editor-content",staticClass:"editor",attrs:{"data-test":"editor",editor:e.editorStore.editor}}),e.activeNote.deleted?e._e():[t("notes-editor-toolbar"),t("notes-editor-ai",{attrs:{"active-note":e.activeNote}}),t("notes-editor-link-suggestion")]],2)}),[],!1,null,"2b7d172d").exports;const Xg=s({name:"NotesHeaderAi",components:{AppHeaderControl:He,NotesAiHistory:ta,NotesAiActions:sa},inject:["viewStateStore","editorStore"],props:{activeNote:{type:Object,default:null},disabled:{type:Boolean,default:!1}},unreactive:()=>({DropdownAlignment:Re}),data:()=>({actionsOpen:!1,historyOpen:!1}),computed:{fullscreen(){return this.viewStateStore.fullscreen}},watch:{fullscreen(){this.closeDropdowns()}},methods:{openHistoryDropdown(){var e;null==(e=this.$refs["notes-ai-history"])||e.openDropdown(),this.historyOpen=!0},closeHistoryDropdown(){var e;null==(e=this.$refs["notes-ai-history"])||e.closeDropdown(),this.historyOpen=!1},openActionsDropdown(){var e;null==(e=this.$refs["notes-ai-actions"])||e.openDropdown(),this.actionsOpen=!0},closeActionsDropdown(){var e;null==(e=this.$refs["notes-ai-actions"])||e.closeDropdown(),this.actionsOpen=!1},closeDropdowns(){this.closeActionsDropdown(),this.closeHistoryDropdown()},onHeaderAiClick(){this.actionsOpen||this.historyOpen?this.closeDropdowns():(this.openActionsDropdown(),this.editorStore.resetSelection())},actionClicked(){this.closeActionsDropdown(),this.openHistoryDropdown()}}},(function(){var e=this,t=e._self._c;return t("app-header-control",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDropdowns,expression:"closeDropdowns"}],staticClass:"notes-header-ai",attrs:{"data-test":"notes-header-ai",disabled:e.disabled},on:{click:e.onHeaderAiClick}},[t("div",{staticClass:"notes-header-ai-content"},[t("div",{staticClass:"notes-header-ai-content-toggle"},[t("inline-svg",{staticClass:"icon icon-ai",attrs:{src:si}}),t("span",{staticClass:"ai-label"},[e._v("AI")]),t("inline-svg",{staticClass:"icon icon-chevron-down",attrs:{src:zs}})],1),e.activeNote?t("notes-ai-history",{ref:"notes-ai-history",attrs:{alignment:e.DropdownAlignment.Left,"append-to-end":!0},on:{close:e.closeDropdowns,toggle:function(t){e.historyOpen=t}}}):e._e(),e.activeNote?t("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"active-note":e.activeNote,"use-ai-header":!1,alignment:e.DropdownAlignment.Left},on:{"action:history":e.actionClicked,toggle:function(t){e.actionsOpen=t}}}):e._e()],1)])}),[],!1,null,"84757636").exports,Yg=((e=Ee().noteAiService)=>a("notesAi",{state:()=>({data:[],activeIndex:0,activeAction:null,activeActionLabel:null,languages:{data:[],loading:!1,loaded:!1},loading:!1,loaded:!1,error:null}),getters:{activeHistoryData:e=>e.data[e.activeIndex]??{result:""}},actions:{async runActiveRequest(t){if(t&&(this.activeAction=()=>e.request(t.id,t.type,t.data),this.activeActionLabel=t.type),!this.activeAction||!this.activeActionLabel)throw new Error("Unable to run active action! No current or previous action and label defined.");let n={result:""},s=null;try{this.loading=!0,this.error=null,n=await this.activeAction(),""===n.result?s=new Tr:this.appendToHistory(n)}catch(i){s=i}finally{this.loading=!1,this.loaded=!0}return s&&(this.error=p(s,{default:C.ErrorAiRequestHistory})),n},appendToHistory(e){this.activeIndex=this.data.length,this.data.push(e)},async getLanguages(){this.languages.loading||this.languages.loaded||(this.languages.loading=!0,this.languages.data=await e.getLanguages(),this.languages.loading=!1,this.languages.loaded=!0)},reset(){this.activeAction=null,this.activeActionLabel=null,this.loading=!1,this.loaded=!1,this.error=null,this.activeIndex=0,this.data=[]}}}))(),ek=f({name:"LazyRender",props:{placeholderHeight:{type:String,required:!0}},setup(){const e=u(!1),t=u(),{stop:n}=Fr(t,(([t])=>{const{isIntersecting:s}=t??{};s&&(e.value=!0,n())}),{rootMargin:l.windowDimensions.height/4+"px"});return{targetElement:t,shouldRender:e}},render(e){var t,n;if(!this.shouldRender){return e("div",{ref:"targetElement",style:{minHeight:this.placeholderHeight}})}return e({functional:!0,render:(e,t)=>t.props.vNodes},{attrs:{vNodes:(null==(n=(t=this.$scopedSlots).default)?void 0:n.call(t,{}))??[]}})}});const tk=s(f({name:"NotesSidebarSearch",components:{AppSearch:s({name:"AppSearch",props:{value:{type:String,required:!0}},emits:["input","enter","blur","focus","up","down"],methods:{clear(){this.$emit("input",""),this.focus()},clearAndBlur(){this.$emit("input",""),this.$refs.search.blur()},focus(){this.$refs.search.focus()},select(){this.$refs.search.select()},onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-search search-wrapper"},[t("span",{staticClass:"input-wrapper"},[t("i",{staticClass:"icon icon-search"}),e.value.length?t("span",{staticClass:"icon-clear-wrapper",on:{click:e.clear}},[t("inline-svg",{staticClass:"icon icon-clear",attrs:{src:zt}})],1):e._e(),t("input",{ref:"search",staticClass:"search-input",attrs:{type:"text",name:"search","data-test":"search-input",placeholder:"Search",autocomplete:"off"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("enter")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.stopPropagation(),t.preventDefault(),e.$emit("up"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.stopPropagation(),t.preventDefault(),e.$emit("down"))}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.clearAndBlur.apply(null,arguments))},focus:e.onFocus,blur:e.onBlur}})])])}),[],!1,null,"4e1d8603").exports},props:{value:{type:String,required:!0}},emits:["close","input","enter","up","down","focus","blur"]}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"notes-sidebar-search"},[t("app-search",{ref:"search",attrs:{value:e.value},on:{input:function(t){return e.$emit("input",t)},enter:function(t){return e.$emit("enter")},up:function(t){return e.$emit("up")},down:function(t){return e.$emit("down")},focus:function(t){return e.$emit("focus")},blur:function(t){return e.$emit("blur")}}})],1)}),[],!1,null,"0840e5ee").exports,nk=()=>l.windowDimensions.width<850;const sk=s({name:"NotesApp",components:{NotesSidebarSearch:tk,SmoothReflow:vr,BaseIcon:$s,LazyRender:ek,BaseDropdownDivider:br,NotesHeaderAi:Xg,NotesEditor:Qg,BaseDropdownContent:Pe,BaseDropdown:Oe,AppHeaderControl:He,BaseItemList:Ne,BaseDropdownOption:Ie,AppEmpty:Me,AppLoading:Te,NotesListItem:Wr,AppPopup:Le,AppView:t,AppViewSwitchStatic:Zr,AppHeader:ze},inject:["viewStateStore"],provide(){return{itemStore:this.notesStore,editorStore:this.notesEditorStore,editorViewStateStore:this.notesEditorViewStateStore,aiStore:this.notesAiStore,activeNote:d((()=>this.activeNote))}},setup:()=>({notesStore:ce(),notesEditorStore:Wg(),notesEditorViewStateStore:Xr(),notesAiStore:Yg(),DropdownAlignment:Re,AppHeaderCloseOn:Be}),data(){return{searchString:"",searchFocused:!1,searchVisible:!1,sidebarOpen:!nk()&&this.getStorageSidebarState()}},computed:{condensed:nk,empty(){return this.loaded&&!Object.keys(this.activeListNotes).length},loading(){return this.notesStore.loading},loaded(){return this.notesStore.loaded},error(){return this.notesStore.error},deletedListActive(){return"deleted"===this.activeViewId},emptyStateProps(){return this.searchString?{description:"No notes found.",buttonText:"New Note"}:this.deletedListActive?{description:"No deleted notes yet.",buttonText:"Back To List"}:{title:"Take quick notes and store wisdom to view later.",description:"No notes yet. Add a note to get started!",buttonText:"New Note"}},activeListNotes(){return this.deletedListActive?this.notesStore.getDeletedItems:{...this.notesStore.getPinnedItems,...this.notesStore.getUnpinnedItems}},unpinnedNotes(){return this.filterNotes(this.notesStore.getUnpinnedItems,this.searchString)},pinnedNotes(){return this.filterNotes(this.notesStore.getPinnedItems,this.searchString)},pinnedEmpty(){return 0===Object.keys(this.pinnedNotes).length},deletedNotes(){return this.filterNotes(this.notesStore.getDeletedItems,this.searchString)},activeViewId(){return this.viewStateStore.activeViewId},activeView(){return this.viewStateStore.activeView},activeNoteId:{get(){return this.notesStore.activeItemId},set(e){this.notesStore.activeItemId=e}},activeNote(){return this.activeListNotes[this.activeNoteId]},activeNoteLastUpdatedDateString(){if(!this.activeNote)return"";const e=new Date(this.activeNote.updatedDate);return g.formatMonthDayRelative(e,!1)+g.formatYearRelative(e)+" at "+g.formatTime(e)},activeNotePinned(){var e;return null==(e=this.activeNote)?void 0:e.pinned},fullscreen:{get(){return xr.notesFullscreen&&!this.$touch},set(e){Sr.notesFullscreen=e}}},watch:{async activeNote(e){var t;e?null==(t=document.querySelector(`[data-note-id="${e.id}"]`))||t.scrollIntoView({block:"nearest",behavior:"auto"}):this.notesStore.clearActiveItem()},searchString(){this.notesStore.clearActiveItem()},searchFocused(){this.searchFocused||this.toggleSidebar(!this.condensed&&this.getStorageSidebarState())},activeListNotes(){var e;this.activeNoteId||(this.notesStore.activeItemId=null==(e=Object.values(this.activeListNotes)[0])?void 0:e.id)},deletedListActive(){this.deletedListActive&&this.refreshDeletedNotes()},activeNoteId(){this.searchFocused||this.$nextTick(this.focusNotePad)}},created(){this.loaded||this.notesStore.refresh()},mounted(){m.on("globalEvent:metaBracketLeft",this.setNotePrev),m.on("globalEvent:metaBracketRight",this.setNoteNext),m.on("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.on("globalEvent:metaBackSlash",this.toggleSidebar),m.on("globalEvent:metaCtrlN",this.createNote)},destroyed(){m.off("globalEvent:metaBracketLeft",this.setNotePrev),m.off("globalEvent:metaBracketRight",this.setNoteNext),m.off("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.off("globalEvent:metaBackSlash",this.toggleSidebar),m.off("globalEvent:metaCtrlN",this.createNote),m.on("modal:showUpgrade",this.closePopup)},methods:{setActiveView(e){this.searchString="",this.viewStateStore.setActiveView(e),this.notesStore.clearActiveItem()},deleteNote(){this.notesStore.delete(this.activeNoteId),this.notesStore.clearActiveItem(),this.closeDeleteConf()},closeDeleteConf(){var e;null==(e=this.$refs["delete-dropdown"])||e.closeDropdown()},closeOptionsDropdown(){var e;null==(e=this.$refs.optionsDropdown)||e.closeDropdown()},focusNotePad(){var e;null==(e=this.$refs["notes-editor"])||e.focus(),this.condensed&&(this.sidebarOpen=!1)},createNote(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return this.notesEditorStore.blur(),void m.cmd("modal.open","UPSELL_NOTES",{eventSource:"dash"});this.searchString="";const e=this.notesStore.create();this.activeNoteId=e.id,this.deletedListActive&&this.setActiveView("list"),this.$nextTick(this.focusNotePad)},restoreNote(){this.notesStore.restore(this.activeNoteId),this.setActiveView("list"),this.$nextTick(this.focusNotePad)},toggleNotePinned(){var e;const t=!(null==(e=this.activeNote)?void 0:e.pinned);this.notesStore.update(this.activeNoteId,{pinned:t},{updateDate:!1})},refreshDeletedNotes(){this.notesStore.refresh(!0)},enterFullscreen(){this.fullscreen=!0,this.notesEditorStore.resetSelection()},exitFullscreen(){this.fullscreen=!1,this.notesEditorStore.resetSelection()},closePopup(){this.viewStateStore.togglePopup(!1)},getStorageSidebarState:()=>g.getLocalStorageBool(xe,!0),saveStorageSidebarState(){localStorage.setItem(xe,this.sidebarOpen)},toggleSidebar(e,t={saveInStorage:!0}){e="boolean"==typeof e?e:void 0,this.sidebarOpen=e??!this.sidebarOpen,t.saveInStorage&&this.saveStorageSidebarState(),this.notesEditorStore.resetSelection()},setNoteAdjacent(e){this.$refs["notes-editor"].save();const t=Object.keys(this.activeListNotes),n=t.indexOf(this.activeNoteId),s=t.length;const i=t[((n+e)%s+s)%s];i&&(this.activeNoteId=i)},setNoteNext(){this.setNoteAdjacent(1)},setNotePrev(){this.setNoteAdjacent(-1)},toggleSearchFocused(){var e;const t=!this.condensed&&this.getStorageSidebarState();this.toggleSidebar(!this.searchFocused||t,{saveInStorage:!1}),this.searchFocused?this.$nextTick().then(this.focusNotePad):null==(e=this.$refs.search)||e.select()},openHelpPage(){window.open(Se,"_blank")},openMarkdownGuide(){window.open(Fe,"_blank")},closeEditorDropdowns(){this.notesEditorStore.resetSelection(),this.notesEditorViewStateStore.setActiveView(Qr.ToolbarDefault)},toggleSearch(){this.searchVisible=!this.searchVisible,this.closeOptionsDropdown()},filterNotes(e,t){if(!t)return e;const n={},s=t.toLowerCase();return Object.entries(this.getSearchableContent(e)).forEach((([t,i])=>{i.includes(s)&&(n[t]=e[t])})),n},getSearchableContent:e=>Object.entries(e).reduce(((e,[t,n])=>{var s;return e[t]=`${(null==(s=n.title)?void 0:s.toLowerCase())??""} ${n.bodyTextContent.toLowerCase()}`,e}),{})}},(function(){var e=this,t=e._self._c;return t("app-popup",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeEditorDropdowns,expression:"closeEditorDropdowns"}],ref:"popup",staticClass:"notes-app",class:{"sidebar-open":e.sidebarOpen},attrs:{position:"top-left",region:"bottom-right",width:e.condensed?750:950,fullscreen:e.fullscreen,"hide-apps-exclusions":".apps .notes","data-test":"notes-app",focused:e.viewStateStore.focused},on:{close:e.closePopup},nativeOn:{click:function(t){return e.viewStateStore.focus()}},scopedSlots:e._u([{key:"default",fn:function({showFullscreenElements:n}){return[t("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[e.loading&&!e.loaded?t("app-loading"):e.error?t("app-empty",{attrs:{title:"Oops! Something went wrong",description:"Please reload the tab and try again"}}):e.loaded?t("div",{staticClass:"app-content"},[t("app-view-switch-static",{staticClass:"list-switcher",attrs:{"order-key":e.activeView.order,"data-test":"list-view"}},[e.deletedListActive?e.deletedListActive?t("app-view",{staticClass:"list deleted-list",scopedSlots:e._u([{key:"header",fn:function(){return[t("app-header",{scopedSlots:e._u([{key:"left",fn:function(){return[t("app-header-control",{on:{click:function(t){return e.setActiveView("list")}}},[t("inline-svg",{staticClass:"icon icon-back",attrs:{src:St}})],1)]},proxy:!0},{key:"center",fn:function(){return[e._v(" Deleted ")]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[t("div",{staticClass:"deleted-description"},[e._v(" Automatically removed "),t("br"),e._v(" after 2 weeks ")]),t("base-item-list",e._l(e.notesStore.getDeletedItems,(function(n){return t("notes-list-item",{key:n.id,attrs:{active:e.activeNoteId===n.id,note:n},nativeOn:{click:function(t){e.activeNoteId=n.id}}})})),1)]},proxy:!0}],null,!0)}):e._e():t("app-view",{staticClass:"list notes-list",scopedSlots:e._u([{key:"header",fn:function(){return[t("app-header",{attrs:{"show-close-button-on":e.AppHeaderCloseOn.None},scopedSlots:e._u([{key:"left",fn:function(){return[t("base-icon",{staticClass:"app-header-icon",attrs:{src:"icon/apps/notes",size:"16px"}}),t("span",{staticClass:"app-header-name"},[e._v("Notes")])]},proxy:!0},{key:"right",fn:function(){return[t("base-dropdown",{ref:"optionsDropdown"},[t("base-dropdown-option",{attrs:{active:e.searchVisible},on:{click:e.toggleSearch}},[t("base-icon",{attrs:{src:"icon/search"}}),e._v(" Search ")],1),t("base-dropdown-option",{on:{click:function(t){return e.setActiveView("deleted")}}},[t("inline-svg",{staticClass:"icon icon-trash",attrs:{src:Es}}),e._v(" Deleted ")],1),t("base-dropdown-divider"),t("base-dropdown-option",{on:{click:e.openHelpPage}},[t("inline-svg",{staticClass:"icon icon-help",attrs:{src:at}}),e._v(" Help ")],1),t("base-dropdown-option",{on:{click:e.openMarkdownGuide}},[t("inline-svg",{staticClass:"icon icon-help",attrs:{src:at}}),e._v(" Markdown guide ")],1)],1)]},proxy:!0}],null,!0)}),t("smooth-reflow",{attrs:{"hide-overflow":!0}},[e.searchVisible?t("notes-sidebar-search",{on:{enter:e.toggleSearchFocused,up:e.setNotePrev,down:e.setNoteNext,focus:function(t){e.searchFocused=!0},blur:function(t){e.searchFocused=!1},close:function(t){e.searchVisible=!1}},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}):e._e()],1),e.pinnedEmpty||e.deletedListActive?e._e():t("base-item-list",{staticClass:"pinned-notes-list",attrs:{"data-test":"pinned-notes-list"}},e._l(e.pinnedNotes,(function(n){return t("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem","data-note-id":n.id}},[t("notes-list-item",{attrs:{active:e.activeNoteId===n.id,note:n},on:{click:function(t){e.activeNoteId=n.id}}})],1)})),1)]},proxy:!0},{key:"body",fn:function(){return[e.deletedListActive?t("base-item-list",e._l(e.deletedNotes,(function(n){return t("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem"}},[t("notes-list-item",{attrs:{active:e.activeNoteId===n.id,note:n},on:{click:function(t){e.activeNoteId=n.id}}})],1)})),1):t("base-item-list",{staticClass:"unpinned-notes-list",attrs:{"data-test":"unpinned-notes-list"}},e._l(e.unpinnedNotes,(function(n){return t("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem","data-note-id":n.id}},[t("notes-list-item",{attrs:{active:e.activeNoteId===n.id,note:n},on:{click:function(t){e.activeNoteId=n.id}}})],1)})),1)]},proxy:!0}],null,!0)})],1),t("app-view",{staticClass:"note-detail",attrs:{overlay:e.condensed&&e.sidebarOpen},on:{overlayClick:function(t){e.sidebarOpen=!1}},scopedSlots:e._u([{key:"header",fn:function(){return[t("app-header",{attrs:{"show-close-button-on":n?e.AppHeaderCloseOn.All:e.AppHeaderCloseOn.Mobile},on:{close:e.closePopup},scopedSlots:e._u([{key:"left",fn:function(){return[t("app-header-control",{staticClass:"sidebar-toggle",attrs:{"data-test":"toggle-fullscreen-list-view"},on:{click:e.toggleSidebar}},[t("inline-svg",{staticClass:"icon icon-sidebar",attrs:{src:cs}})],1)]},proxy:!0},{key:"center",fn:function(){return[t("span",{staticClass:"last-edited-title"},[e._v(e._s(e.activeNoteLastUpdatedDateString))])]},proxy:!0},{key:"right",fn:function(){return[t("app-header-control",{staticClass:"new",attrs:{"data-test":"new-note","show-mobile-background":!0},on:{click:e.createNote}},[t("inline-svg",{staticClass:"icon icon-plus",attrs:{src:Wt}})],1),t("notes-header-ai",{attrs:{disabled:e.deletedListActive||e.notesEditorStore.bodyEmpty,"active-note":e.activeNote}}),t("app-header-control",{attrs:{disabled:e.deletedListActive||!e.activeNote,active:e.activeNotePinned,"data-test":"pin"},on:{click:e.toggleNotePinned}},[t("base-icon",{attrs:{src:"icon/"+(e.activeNotePinned?"unpin":"pin")}})],1),e.deletedListActive?t("app-header-control",{staticClass:"restore",attrs:{disabled:!e.activeNote},on:{click:e.restoreNote}},[t("inline-svg",{staticClass:"icon icon-restore",attrs:{src:ns}})],1):t("base-dropdown",{ref:"delete-dropdown",class:{disabled:!e.activeNote},attrs:{"container-class":"app","data-test":"delete",alignment:e.DropdownAlignment.Left,"max-width":"250px"},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"icon-wrapper more-toggle"},[t("inline-svg",{staticClass:"icon icon-trash",attrs:{src:Es}})],1)]},proxy:!0},{key:"contentOverride",fn:function(){return[t("base-dropdown-content",{staticClass:"delete-confirm"},[t("div",{staticClass:"text"},[e._v(" Are you sure you would like to delete this note? ")]),t("div",{staticClass:"buttons"},[t("div",{staticClass:"button button-confirm",attrs:{"data-test":"confirm-delete"},on:{click:e.deleteNote}},[e._v("Yes")]),t("div",{staticClass:"button button-neutral",on:{click:e.closeDeleteConf}},[e._v("No")])])])]},proxy:!0}],null,!0)}),e.$touch?e._e():[e.fullscreen?t("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:e.exitFullscreen}},[t("inline-svg",{staticClass:"icon icon-collapse",attrs:{src:Ss}})],1):t("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:e.enterFullscreen}},[t("inline-svg",{staticClass:"icon icon-expand",attrs:{src:Cs}})],1)]]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[e.empty?t("app-empty",e._b({on:{buttonClick:function(t){e.deletedListActive?e.setActiveView("list"):e.createNote()}}},"app-empty",e.emptyStateProps,!1)):t("notes-editor",{ref:"notes-editor",attrs:{"focus-on-created":!e.searchFocused}})]},proxy:!0}],null,!0)})],1):e._e()],1)]}}])})}),[],!1,null,"bd18c3ce").exports;export{sk as default};