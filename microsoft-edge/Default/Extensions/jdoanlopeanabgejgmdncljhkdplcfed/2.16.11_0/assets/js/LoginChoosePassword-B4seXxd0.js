import{L as t,l as e}from"./loginStepMixin-CgixUzW-.js";import{L as s}from"./LoginPasswordInput-CEIW49tv.js";import{h as o}from"./index-DgGUECrr.js";import{a as i}from"./authService-DyVsAij2.js";import{_ as r}from"./icon-back-D_TFrgyJ.js";import{n}from"./icon-alert-BG5stABd.js";import"./SmoothReflow-C4xMRPDz.js";import"./allComponentsMounted-C3UsG_cA.js";import"./icon-next-B4hjdiAA.js";import"./LoginInput-1FW8cq1t.js";import"./SoftFocus-BUhesXB-.js";import"./MobileBlur-B2s9dLKD.js";import"./icon-visible-on-CM3kpcFN.js";import"./preload-helper-DmNsytk6.js";import"./localStorage-BWL8dYsz.js";import"./main-CWen-4ha.js";import"./reactiveCustomization-BIBQ0lmK.js";import"./VueBase-Qr0J4kll.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-CE661Bdg.js";import"./string-VUUyAM1F.js";const a=n({name:"LoginChoosePassword",components:{LoginPasswordInput:s,LoginLayout:t},mixins:[e],inject:["capture"],data:()=>({password:"",message:"Minimum 6 characters.",newsletterOptIn:!1}),computed:{newsLetterOptInState(){return this.shouldDisplayNewsletterOptIn?this.newsletterOptIn:"hidden"}},mounted(){this.capture("password-step show",{case:"create"})},methods:{onEnter(){this.register()},onEscape(){this.goToEmail("hotkey")},goToEmail(t="click"){this.capture("change email click",{method:t}),this.$emit("goToSubStep",o.EMAIL)},register(){return this.setLoadingWithErrorHandling((async()=>{await i.register(this.name,this.email,this.password,{newsletterOptIn:this.newsletterOptIn}),this.capture("password-step complete",{case:"create",newsletter_opt_in:this.newsLetterOptInState}),this.$emit("complete")}))},capturePrivacyClick(){this.capture("privacy click")}}},(function(){var t=this,e=t._self._c;return e("login-layout",{attrs:{loading:t.loading,"data-test":"choose-password-step"},on:{submit:t.register},scopedSlots:t._u([{key:"actions-top-left",fn:function(){return[e("div",{staticClass:"dash-button",attrs:{"data-test":"email-button"},on:{click:t.goToEmail}},[e("inline-svg",{staticClass:"icon icon-back",attrs:{src:r}}),e("span",[t._v("Email")])],1)]},proxy:!0},{key:"title",fn:function(){return[t._v(" Creating account ")]},proxy:!0},{key:"question",fn:function(){return[t._v(" Please choose a password. ")]},proxy:!0},{key:"input",fn:function(){return[e("login-password-input",{ref:"login-input",attrs:{disabled:t.loading},on:{submit:t.register},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]},proxy:!0},{key:"message",fn:function(){return[t._v(" "+t._s(t.message)+" ")]},proxy:!0},{key:"continue-message",fn:function(){return[t._v(" Create account ")]},proxy:!0},{key:"bottom",fn:function(){return[e("span",{staticClass:"policy"},[t._v("We honor and respect your privacy. See how in our "),e("a",{attrs:{href:"https://momentumdash.com/legal",target:"_blank"},on:{click:t.capturePrivacyClick}},[t._v("Terms")]),t._v(" and "),e("a",{attrs:{href:"https://momentumdash.com/legal/privacy",target:"_blank"},on:{click:t.capturePrivacyClick}},[t._v("Privacy Policy")]),t._v(".")])]},proxy:!0}])})}),[],!1,null,null).exports;export{a as default};