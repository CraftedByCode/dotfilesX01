import{M as r,d as a,u as i,a as e,c as t}from"./icon-alert-BG5stABd.js";import{p as s}from"./index-DgGUECrr.js";import"./localStorage-BWL8dYsz.js";import"./preload-helper-DmNsytk6.js";import"./string-VUUyAM1F.js";import"./main-CWen-4ha.js";var n=(r=>(r.Plus="subscribed",r.TrialingCardless="trialingCardless",r.TrialingCard="trialingCard",r.ExpiredTrial="expiredTrial",r.ExpiredPlus="expiredPlus",r.Free="free",r))(n||{});const l=s((({loadedRef:r,loadingRef:s,refresh:n})=>a("userSubscriptionSummary",{state:()=>({active:!1,error:null,firstSubscriptionStart:null,hasPaymentMethod:!1,intent:null,pastDue:!1,subscriptionEnd:null,trialEnd:null,trialing:!1}),getters:{loaded:()=>r.value,loading:()=>s.value,status:r=>r.trialing&&r.hasPaymentMethod?"trialingCard":r.trialing&&!r.hasPaymentMethod?"trialingCardless":r.active?"subscribed":r.subscriptionEnd?"expiredPlus":r.trialEnd?"expiredTrial":"free",trialRemainingDays:r=>i.dateDiffIntegerDays(Date.now(),r.trialEnd??Date.now()),subscriptionDaysElapsed:r=>r.firstSubscriptionStart?i.dateDiffIntegerDays(new Date(r.firstSubscriptionStart),new Date)+1:0},actions:{refresh(a=!1){if(!e()&&!t())return n(a);r.value=!0}}})),{path:"user/subscription_summary",mode:r.TimestampStrict});export{n as SubscriptionStatus,l as default};